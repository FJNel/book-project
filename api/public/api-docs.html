<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>API Documentation</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="api-documentation">API Documentation</h1>
<p>This guide describes the publicly available REST endpoints exposed by the API, the expected request payloads, and the standard response contract. All examples assume JSON request and response bodies.</p>
<ul>
<li><a href="#api-documentation">API Documentation</a>
<ul>
<li><a href="#logging">Logging</a></li>
<li><a href="#standard-response-envelope">Standard Response Envelope</a>
<ul>
<li><a href="#success-response">Success Response</a></li>
<li><a href="#error-response">Error Response</a></li>
<li><a href="#envelope-fields">Envelope Fields</a></li>
</ul>
</li>
<li><a href="#rate-limiting">Rate Limiting</a></li>
<li><a href="#shared-behaviours">Shared Behaviours</a>
<ul>
<li><a href="#common-authentication-response-401">Common Authentication Response (401)</a></li>
<li><a href="#common-forbidden-response-403">Common Forbidden Response (403)</a></li>
<li><a href="#common-server-error-response-500">Common Server Error Response (500)</a></li>
<li><a href="#common-rate-limit-response-429">Common Rate Limit Response (429)</a></li>
<li><a href="#partial-date-object">Partial Date Object</a></li>
</ul>
</li>
<li><a href="#endpoints">Endpoints</a>
<ul>
<li><a href="#get-">GET /</a></li>
<li><a href="#get-health">GET /health</a></li>
<li><a href="#get-rate-limits">GET /rate-limits</a></li>
</ul>
</li>
<li><a href="#authentication">Authentication</a>
<ul>
<li><a href="#post-authregister">POST /auth/register</a></li>
<li><a href="#post-authresend-verification">POST /auth/resend-verification</a></li>
<li><a href="#post-authverify-email">POST /auth/verify-email</a></li>
<li><a href="#post-authlogin">POST /auth/login</a></li>
<li><a href="#post-authrefresh-token">POST /auth/refresh-token</a></li>
<li><a href="#post-authlogout">POST /auth/logout</a></li>
<li><a href="#post-authrequest-password-reset">POST /auth/request-password-reset</a></li>
<li><a href="#post-authreset-password">POST /auth/reset-password</a></li>
<li><a href="#post-authgoogle">POST /auth/google</a></li>
</ul>
</li>
<li><a href="#user-management">User Management</a>
<ul>
<li><a href="#get-usersme">GET /users/me</a></li>
<li><a href="#put-usersme">PUT /users/me</a></li>
<li><a href="#delete-usersme">DELETE /users/me</a></li>
<li><a href="#post-usersmeverify-delete">POST /users/me/verify-delete</a></li>
<li><a href="#post-usersmerequest-email-change">POST /users/me/request-email-change</a></li>
<li><a href="#post-usersmeverify-email-change">POST /users/me/verify-email-change</a></li>
<li><a href="#delete-usersmerequest-account-deletion-also-available-as-post">DELETE /users/me/request-account-deletion (also available as POST)</a></li>
<li><a href="#post-usersmeverify-account-deletion">POST /users/me/verify-account-deletion</a></li>
<li><a href="#get-usersmesessions">GET /users/me/sessions</a></li>
<li><a href="#delete-usersmesessionsfingerprint">DELETE /users/me/sessions/:fingerprint</a></li>
<li><a href="#delete-usersmesessions">DELETE /users/me/sessions</a></li>
<li><a href="#post-usersmechange-password">POST /users/me/change-password</a></li>
<li><a href="#get-usersmeapi-keys">GET /users/me/api-keys</a></li>
<li><a href="#post-usersmeapi-keys">POST /users/me/api-keys</a></li>
<li><a href="#delete-usersmeapi-keys">DELETE /users/me/api-keys</a></li>
<li><a href="#get-usersmestats">GET /users/me/stats</a></li>
</ul>
</li>
<li><a href="#book-types">Book Types</a>
<ul>
<li><a href="#get-booktype">GET /booktype</a></li>
<li><a href="#get-booktypeid">GET /booktype/:id</a></li>
<li><a href="#get-booktypeby-name">GET /booktype/by-name</a></li>
<li><a href="#post-booktype">POST /booktype</a></li>
<li><a href="#put-booktype">PUT /booktype</a></li>
<li><a href="#put-booktypeid">PUT /booktype/:id</a></li>
<li><a href="#delete-booktype">DELETE /booktype</a></li>
<li><a href="#delete-booktypeid">DELETE /booktype/:id</a></li>
</ul>
</li>
<li><a href="#authors">Authors</a>
<ul>
<li><a href="#get-author">GET /author</a></li>
<li><a href="#get-authorid">GET /author/:id</a></li>
<li><a href="#get-authorby-name">GET /author/by-name</a></li>
<li><a href="#post-author">POST /author</a></li>
<li><a href="#put-author">PUT /author</a></li>
<li><a href="#put-authorid">PUT /author/:id</a></li>
<li><a href="#delete-author">DELETE /author</a></li>
<li><a href="#delete-authorid">DELETE /author/:id</a></li>
<li><a href="#get-authortrash">GET /author/trash</a></li>
<li><a href="#post-authorrestore">POST /author/restore</a></li>
<li><a href="#get-authorstats">GET /author/stats</a></li>
</ul>
</li>
<li><a href="#publishers">Publishers</a>
<ul>
<li><a href="#get-publisher">GET /publisher</a></li>
<li><a href="#get-publisherid">GET /publisher/:id</a></li>
<li><a href="#get-publisherby-name">GET /publisher/by-name</a></li>
<li><a href="#post-publisher">POST /publisher</a></li>
<li><a href="#put-publisher">PUT /publisher</a></li>
<li><a href="#put-publisherid">PUT /publisher/:id</a></li>
<li><a href="#delete-publisher">DELETE /publisher</a></li>
<li><a href="#delete-publisherid">DELETE /publisher/:id</a></li>
<li><a href="#get-publishertrash">GET /publisher/trash</a></li>
<li><a href="#post-publisherrestore">POST /publisher/restore</a></li>
<li><a href="#get-publisherstats">GET /publisher/stats</a></li>
</ul>
</li>
<li><a href="#book-series">Book Series</a>
<ul>
<li><a href="#get-bookseries">GET /bookseries</a></li>
<li><a href="#get-bookseriesid">GET /bookseries/:id</a></li>
<li><a href="#get-bookseriesby-name">GET /bookseries/by-name</a></li>
<li><a href="#post-bookseries">POST /bookseries</a></li>
<li><a href="#put-bookseries">PUT /bookseries</a></li>
<li><a href="#put-bookseriesid">PUT /bookseries/:id</a></li>
<li><a href="#delete-bookseries">DELETE /bookseries</a></li>
<li><a href="#delete-bookseriesid">DELETE /bookseries/:id</a></li>
<li><a href="#post-bookserieslink">POST /bookseries/link</a></li>
<li><a href="#put-bookserieslink">PUT /bookseries/link</a></li>
<li><a href="#delete-bookserieslink">DELETE /bookseries/link</a></li>
<li><a href="#get-bookseriestrash">GET /bookseries/trash</a></li>
<li><a href="#post-bookseriesrestore">POST /bookseries/restore</a></li>
<li><a href="#get-bookseriesstats">GET /bookseries/stats</a></li>
</ul>
</li>
<li><a href="#languages">Languages</a>
<ul>
<li><a href="#get-languages">GET /languages</a></li>
</ul>
</li>
<li><a href="#books">Books</a>
<ul>
<li><a href="#get-book">GET /book</a></li>
<li><a href="#post-book">POST /book</a></li>
<li><a href="#put-book">PUT /book</a></li>
<li><a href="#put-bookid">PUT /book/:id</a></li>
<li><a href="#delete-book">DELETE /book</a></li>
<li><a href="#delete-bookid">DELETE /book/:id</a></li>
<li><a href="#get-booktrash">GET /book/trash</a></li>
<li><a href="#post-bookrestore">POST /book/restore</a></li>
<li><a href="#get-bookstats">GET /book/stats</a></li>
</ul>
</li>
<li><a href="#storage-locations">Storage Locations</a>
<ul>
<li><a href="#get-storagelocation">GET /storagelocation</a></li>
<li><a href="#post-storagelocation">POST /storagelocation</a></li>
<li><a href="#put-storagelocation">PUT /storagelocation</a></li>
<li><a href="#put-storagelocationid">PUT /storagelocation/:id</a></li>
<li><a href="#delete-storagelocation">DELETE /storagelocation</a></li>
<li><a href="#delete-storagelocationid">DELETE /storagelocation/:id</a></li>
<li><a href="#get-storagelocationidbookcopies">GET /storagelocation/:id/bookcopies</a></li>
<li><a href="#get-storagelocationbookcopies">GET /storagelocation/bookcopies</a></li>
</ul>
</li>
<li><a href="#book-copies">Book Copies</a>
<ul>
<li><a href="#get-bookcopy">GET /bookcopy</a></li>
<li><a href="#post-bookcopy">POST /bookcopy</a></li>
<li><a href="#put-bookcopy">PUT /bookcopy</a></li>
<li><a href="#put-bookcopyid">PUT /bookcopy/:id</a></li>
<li><a href="#delete-bookcopy">DELETE /bookcopy</a></li>
<li><a href="#delete-bookcopyid">DELETE /bookcopy/:id</a></li>
</ul>
</li>
<li><a href="#tags">Tags</a>
<ul>
<li><a href="#get-tags">GET /tags</a></li>
</ul>
</li>
<li><a href="#search">Search</a>
<ul>
<li><a href="#get-search">GET /search</a></li>
</ul>
</li>
<li><a href="#importexport">Import/Export</a>
<ul>
<li><a href="#get-export">GET /export</a></li>
<li><a href="#post-import">POST /import</a></li>
</ul>
</li>
<li><a href="#admin">Admin</a>
<ul>
<li><a href="#get-adminusers">GET /admin/users</a></li>
<li><a href="#get-adminusersid">GET /admin/users/:id</a></li>
<li><a href="#post-adminusers">POST /admin/users</a></li>
<li><a href="#put-adminusers">PUT /admin/users</a></li>
<li><a href="#put-adminusersid">PUT /admin/users/:id</a></li>
<li><a href="#delete-adminusers">DELETE /admin/users</a></li>
<li><a href="#delete-adminusersid">DELETE /admin/users/:id</a></li>
<li><a href="#post-adminusersenable">POST /admin/users/enable</a></li>
<li><a href="#post-adminusersidenable">POST /admin/users/:id/enable</a></li>
<li><a href="#post-adminusersunverify">POST /admin/users/unverify</a></li>
<li><a href="#post-adminusersidunverify">POST /admin/users/:id/unverify</a></li>
<li><a href="#post-adminusersverify">POST /admin/users/verify</a></li>
<li><a href="#post-adminusersidverify">POST /admin/users/:id/verify</a></li>
<li><a href="#post-adminuserssend-verification">POST /admin/users/send-verification</a></li>
<li><a href="#post-adminusersidsend-verification">POST /admin/users/:id/send-verification</a></li>
<li><a href="#post-adminusersreset-password">POST /admin/users/reset-password</a></li>
<li><a href="#post-adminusersidreset-password">POST /admin/users/:id/reset-password</a></li>
<li><a href="#post-adminuserssessions">POST /admin/users/sessions</a></li>
<li><a href="#post-adminusersidsessions">POST /admin/users/:id/sessions</a></li>
<li><a href="#post-adminusersforce-logout">POST /admin/users/force-logout</a></li>
<li><a href="#post-adminusersidforce-logout">POST /admin/users/:id/force-logout</a></li>
<li><a href="#post-adminusershandle-account-deletion">POST /admin/users/handle-account-deletion</a></li>
<li><a href="#post-adminusersidhandle-account-deletion">POST /admin/users/:id/handle-account-deletion</a></li>
<li><a href="#post-adminusersdisable">POST /admin/users/disable</a></li>
<li><a href="#post-adminusersiddisable">POST /admin/users/:id/disable</a></li>
<li><a href="#get-adminlogs">GET /admin/logs</a></li>
<li><a href="#post-adminlanguages">POST /admin/languages</a></li>
<li><a href="#put-adminlanguages">PUT /admin/languages</a></li>
<li><a href="#put-adminlanguagesid">PUT /admin/languages/:id</a></li>
<li><a href="#delete-adminlanguages">DELETE /admin/languages</a></li>
<li><a href="#delete-adminlanguagesid">DELETE /admin/languages/:id</a></li>
<li><a href="#get-status">GET /status</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Base URL:</strong> <code>https://api.fjnel.co.za</code></p>
<h2 id="logging">Logging</h2>
<p>The API writes structured JSON logs to rotating files. Every HTTP request is captured with an <code>event</code> of <code>HTTP_REQUEST</code>, together with the method, path, status code, latency, originating IP, user agent, and a sanitised copy of the request body. Significant actions (registration, login, logout, verification, password reset, profile changes) log an action-specific <code>event</code> such as <code>USER_REGISTERED</code> or <code>LOGIN_ATTEMPT</code>. Each log entry records a <code>status</code> (<code>SUCCESS</code>, <code>FAILURE</code>, or <code>INFO</code>) and a normalised <code>error_message</code> where applicable.</p>
<h2 id="standard-response-envelope">Standard Response Envelope</h2>
<p>All API responses (success or error) adhere to the same JSON envelope. Response times are reported in milliseconds as strings for readability.</p>
<h3 id="success-response">Success Response</h3>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;14.62&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Description of the outcome&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;example&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Payload varies per endpoint&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="error-response">Error Response</h3>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9.81&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;High level error description&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Specific error detail 1.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Specific error detail 2.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="envelope-fields">Envelope Fields</h3>
<ul>
<li><code>status</code>: <code>&quot;success&quot;</code> or <code>&quot;error&quot;</code>.</li>
<li><code>httpCode</code>: Mirrors the HTTP status code returned by Express.</li>
<li><code>responseTime</code>: Milliseconds elapsed, formatted as a string with two decimals.</li>
<li><code>message</code>: High-level summary of the outcome.</li>
<li><code>data</code>: Object containing endpoint-specific payload (empty object on errors).</li>
<li><code>errors</code>: Array of human-readable error messages (empty on success).</li>
</ul>
<h2 id="rate-limiting">Rate Limiting</h2>
<p>When a limit is exceeded the API returns HTTP <code>429</code> using the standard error envelope with <code>message</code> <code>&quot;Too many requests&quot;</code>.</p>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Limit</th>
<th>Window</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>POST /auth/register</code></td>
<td>5 requests</td>
<td>10 minutes</td>
<td>CAPTCHA required (<code>captchaToken</code>, action <code>register</code>).</td>
</tr>
<tr>
<td><code>POST /auth/resend-verification</code></td>
<td>1 request</td>
<td>5 minutes</td>
<td>CAPTCHA required (<code>captchaToken</code>, action <code>resend_verification</code>).</td>
</tr>
<tr>
<td><code>POST /auth/login</code></td>
<td>10 requests</td>
<td>10 minutes</td>
<td>CAPTCHA required (<code>captchaToken</code>, action <code>login</code>).</td>
</tr>
<tr>
<td><code>POST /auth/request-password-reset</code></td>
<td>1 request</td>
<td>5 minutes</td>
<td>CAPTCHA required (<code>captchaToken</code>, action <code>request_password_reset</code>).</td>
</tr>
<tr>
<td><code>POST /auth/reset-password</code></td>
<td>1 request</td>
<td>5 minutes</td>
<td>CAPTCHA required (<code>captchaToken</code>, action <code>reset_password</code>).</td>
</tr>
<tr>
<td>Sensitive user actions (<code>POST /users/me/verify-delete</code>, <code>/users/me/verify-account-deletion</code>, <code>/users/me/verify-email-change</code>, <code>/users/me/change-password</code>)</td>
<td>3 requests</td>
<td>5 minutes per IP</td>
<td>Protected by <code>sensitiveActionLimiter</code> + CAPTCHA.</td>
</tr>
<tr>
<td>Email-sending user actions (<code>DELETE /users/me</code>, <code>/users/me/request-email-change</code>, <code>/users/me/request-account-deletion</code> via <code>POST</code> or <code>DELETE</code>, <code>/users/me/change-password</code>, <code>/users/me/verify-*</code>)</td>
<td>1 request</td>
<td>5 minutes per IP</td>
<td>Additional <code>emailCostLimiter</code> applied to limit outbound email costs.</td>
</tr>
<tr>
<td>Admin email actions (<code>POST /admin/users/send-verification</code>, <code>POST /admin/users/reset-password</code> and their <code>/:id</code> variants)</td>
<td>1 request</td>
<td>5 minutes per IP</td>
<td>Additional <code>emailCostLimiter</code> applied to limit outbound email costs.</td>
</tr>
<tr>
<td>Admin account deletion (<code>POST /admin/users/handle-account-deletion</code> and <code>/:id</code> variant)</td>
<td>2 requests</td>
<td>10 minutes per admin user</td>
<td>Protected by <code>adminDeletionLimiter</code> and <code>sensitiveActionLimiter</code>.</td>
</tr>
<tr>
<td>Authenticated endpoints (<code>/auth/logout</code>, <code>/users/*</code>, <code>/booktype/*</code>, <code>/author/*</code>, <code>/publisher/*</code>, <code>/bookseries/*</code>, <code>/languages</code>, <code>/book/*</code>, <code>/storagelocation/*</code>, <code>/bookcopy/*</code>, <code>/tags</code>, <code>/admin/*</code>)</td>
<td>60 requests</td>
<td>1 minute per authenticated user</td>
<td>Enforced by <code>authenticatedLimiter</code>; keyed by <code>user.id</code>.</td>
</tr>
</tbody>
</table>
<p>All other endpoints currently have no dedicated custom limit.</p>
<p>The email cost limiter is shared across endpoints that explicitly apply it. Requests across those endpoints count toward the same IP-based bucket.</p>
<h2 id="shared-behaviours">Shared Behaviours</h2>
<ul>
<li><strong>Authentication:</strong> Routes guarded by <code>requiresAuth</code> return HTTP <code>401</code> with <code>message</code> <code>&quot;Authentication required for this action.&quot;</code> when the Authorization header is missing or invalid. Disabled accounts receive HTTP <code>403</code> with <code>message</code> <code>&quot;Your account has been disabled.&quot;</code>.</li>
<li><strong>Role Checks:</strong> Admin-only routes use <code>requireRole</code>. Non-admin users receive HTTP <code>403</code> with <code>message</code> <code>&quot;Forbidden: Insufficient permissions.&quot;</code>.</li>
<li><strong>Validation:</strong> Validation failures respond with HTTP <code>400</code>, <code>message</code> <code>&quot;Validation Error&quot;</code>, and each issue listed in <code>errors</code>.</li>
<li><strong>Global 404:</strong> Unmatched routes return HTTP <code>404</code> with <code>message</code> <code>&quot;Endpoint Not Found&quot;</code> and guidance in <code>errors</code>.</li>
<li><strong>Unhandled Errors:</strong> Unexpected exceptions return HTTP <code>500</code>, <code>message</code> <code>&quot;Internal Server Error&quot;</code>, and a generic error list.</li>
<li><strong>Account action quotas:</strong> Authenticated flows that trigger emails also enforce daily per-account quotas: up to 2 password changes per day, 1 email change request per day, and 2 account disable or deletion requests per day (regardless of HTTP verb).</li>
<li><strong>Password metadata:</strong> Whenever the API returns a user profile (login, <code>/users/me</code>, profile updates), the payload includes <code>passwordUpdated</code>, an ISO timestamp describing the last password change, or <code>null</code> for OAuth-only accounts.</li>
<li><strong>Login metadata:</strong> User profiles include <code>lastLogin</code>, an ISO timestamp of the most recent successful login (regardless of login method).</li>
<li><strong>Shared per-user limiter:</strong> Endpoints covered by the <code>authenticatedLimiter</code> share a single 60 requests/minute bucket per user. Calls across those endpoints count toward the same limit.</li>
<li><strong>JSON body preference:</strong> For endpoints that accept filtering/sorting inputs in both query strings and JSON bodies, the JSON body is preferred. If both are supplied, JSON values take precedence.</li>
</ul>
<h3 id="common-authentication-response-401">Common Authentication Response (401)</h3>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">401</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Authentication required for this action.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Missing or invalid Authorization header.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="common-forbidden-response-403">Common Forbidden Response (403)</h3>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.41&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden: Insufficient permissions.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;You do not have permission to perform this action.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="common-server-error-response-500">Common Server Error Response (500)</h3>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">500</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Internal Server Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;An unexpected error occurred while processing the request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="common-rate-limit-response-429">Common Rate Limit Response (429)</h3>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">429</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Too many requests&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;You have exceeded the maximum number of requests. Please try again later.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="partial-date-object">Partial Date Object</h3>
<p>Some endpoints accept partial dates for fields like author birth/death dates, publisher founded dates, book publication dates, and acquisition dates. The API expects a partial date object in the following format:</p>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">23</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2005</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;23 October 2005&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Rules:</p>
<ul>
<li><code>day</code>, <code>month</code>, and <code>year</code> may be <code>null</code>, but <code>text</code> is required.</li>
<li>If <code>day</code> is provided, <code>month</code> and <code>year</code> must also be provided.</li>
<li>If <code>month</code> is provided, <code>year</code> must also be provided.</li>
<li><code>text</code> must match the provided values in English (<code>&quot;23 October 2005&quot;</code>, <code>&quot;October 2005&quot;</code>, or <code>&quot;2005&quot;</code>).</li>
</ul>
<h2 id="endpoints">Endpoints</h2>
<p>Sample identifiers, tokens, timestamps, and IDs shown below are illustrative.</p>
<h3 id="get-">GET /</h3>
<ul>
<li><strong>Description:</strong> Health check that confirms the API is reachable and returns the documentation link.</li>
<li><strong>Authentication:</strong> Not required.</li>
</ul>
<h4 id="request-overview">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Content-Type</td>
<td>None</td>
</tr>
</tbody>
</table>
<h4 id="required-headers">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON by default.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="example-responses">Example Responses</h4>
<ul>
<li><strong>Successful Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The API is working!&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;timestamp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;14/01/2025, 17:23:51&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;api_documentation_url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://api.fjnel.co.za/api-docs.html&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr>
<h3 id="get-health">GET /health</h3>
<ul>
<li><strong>Purpose:</strong> Simple health check for uptime monitoring.</li>
<li><strong>Authentication:</strong> Not required.</li>
</ul>
<h4 id="request-overview-1">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/health</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Content-Type</td>
<td>None</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-1">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="example-responses-1">Example Responses</h4>
<ul>
<li><strong>Healthy (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;OK&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ok&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;timestamp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-02T15:59:12.921Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr>
<h3 id="get-rate-limits">GET /rate-limits</h3>
<ul>
<li><strong>Purpose:</strong> Return the current rate-limit window for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-2">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/rate-limits</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>None</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-2">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="example-responses-2">Example Responses</h4>
<ul>
<li><strong>Rate Limit Status (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.74&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Rate limit status retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">60</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;remaining&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">54</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;resetTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-02T16:05:00.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr>
<h2 id="authentication">Authentication</h2>
<p>Authentication flows combine email/password, Google OAuth, email verification, and password reset flows. Unless stated otherwise, authentication endpoints do not require an access token but do require the relevant CAPTCHA token.</p>
<h3 id="post-authregister">POST /auth/register</h3>
<ul>
<li><strong>Purpose:</strong> Create a new user account.</li>
<li><strong>Authentication:</strong> Not required.</li>
<li><strong>Rate Limit:</strong> 5 requests per 10 minutes per IP.</li>
<li><strong>CAPTCHA:</strong> Provide <code>captchaToken</code> validated against the <code>register</code> action.</li>
</ul>
<h4 id="request-overview-3">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/register</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>5 requests / 10 minutes / IP</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>register</code> (reCAPTCHA v3)</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-3">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for the <code>register</code> action.</td>
</tr>
<tr>
<td><code>fullName</code></td>
<td>string</td>
<td>Yes</td>
<td>2–255 characters; letters plus spaces, hyphens, periods, apostrophes.</td>
</tr>
<tr>
<td><code>preferredName</code></td>
<td>string</td>
<td>No</td>
<td>2–100 alphabetic characters; optional friendly name.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>5–255 characters; must be unique and in valid email format.</td>
</tr>
<tr>
<td><code>password</code></td>
<td>string</td>
<td>Yes</td>
<td>10–100 characters; must include upper, lower, digit, and special character.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
<li>After successful confirmation, the API records an <code>accountDeletionConfirmed</code> marker in the user metadata. The admin-only deletion endpoint checks this marker before permanently removing the account.</li>
</ul>
<h4 id="email-content">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Verify your email address for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Thank you for registering for the Book Project.
Please verify your email address to activate your account.
Verify Email: &lt;frontend_verify_url&gt;?token=&lt;token&gt;
If you did not register this account, please contact the system administrator at &lt;supportEmail&gt; to assist you in resolving this matter.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;captchaToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;captcha-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane Doe&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;P@ssw0rd123!&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-3">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;7.41&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Full Name must be between 2 and 255 characters.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Password must include at least one special character.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>CAPTCHA Failure (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.44&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CAPTCHA verification failed&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please refresh the page and try again.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Make sure that you provided a captchaToken in your request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Token Issuance Failure (500):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">500</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;8.39&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Failed to issue verification token&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Database connection lost&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Database Error (500):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">500</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;7.81&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Database Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;An error occurred while creating the user&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;duplicate key value violates unique constraint \&quot;users_email_key\&quot;&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-authresend-verification">POST /auth/resend-verification</h3>
<ul>
<li><strong>Purpose:</strong> Re-send the verification email for an unverified account.</li>
<li><strong>Authentication:</strong> Not required.</li>
<li><strong>Rate Limit:</strong> 1 request per 5 minutes per IP.</li>
<li><strong>CAPTCHA:</strong> Provide <code>captchaToken</code> validated against the <code>resend_verification</code> action.</li>
</ul>
<h4 id="request-overview-4">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/resend-verification</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>1 request / 5 minutes / IP</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>resend_verification</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-4">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-1">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for the <code>resend_verification</code> action.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>Email address to resend verification for; must be 5–255 chars and valid format.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-1">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
</ul>
<h4 id="email-content-1">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Verify your email address for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Thank you for registering for the Book Project.
Please verify your email address to activate your account.
Verify Email: &lt;frontend_verify_url&gt;?token=&lt;token&gt;
If you did not register this account, please contact the system administrator at &lt;supportEmail&gt; to assist you in resolving this matter.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body-1">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;captchaToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;captcha-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-4">Example Responses</h4>
<ul>
<li><strong>Generic Success (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;If you have registered an account with this email address and it is unverified, you will receive a verification email.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;If you did not receive an email when you should have, please check your spam folder or try again later.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>CAPTCHA Failure (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.27&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CAPTCHA verification failed&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please refresh the page and try again.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Make sure that you provided a captchaToken in your request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.98&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Email must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-authverify-email">POST /auth/verify-email</h3>
<ul>
<li><strong>Purpose:</strong> Mark a user as verified using the token emailed during registration.</li>
<li><strong>Authentication:</strong> Not required.</li>
<li><strong>Rate Limit:</strong> Not currently rate limited beyond CAPTCHA.</li>
<li><strong>CAPTCHA:</strong> Provide <code>captchaToken</code> validated against the <code>verify_email</code> action.</li>
</ul>
<h4 id="request-overview-5">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/verify-email</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>Not currently rate limited</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>verify_email</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-5">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-2">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for the <code>verify_email</code> action.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>Email address to verify (5–255 characters, valid format).</td>
</tr>
<tr>
<td><code>token</code></td>
<td>string</td>
<td>Yes</td>
<td>Email verification token (32-byte hex string).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-2">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
</ul>
<h4 id="email-content-2">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Welcome to The Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Your email has been verified successfully. You can now log in to start using The Book Project.
Log In: &lt;frontend_login_url&gt;
If you did not verify this email address, please contact the system administrator at &lt;supportEmail&gt; to assist you in resolving this matter.
</code></pre>
<h4 id="example-request-body-2">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;verification-token&gt;&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-5">Example Responses</h4>
<ul>
<li><strong>Verified (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Email verified successfully. You can now log in.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;b6df9c94-91b3-4ea7-ac37-4f5b8d2c8d1e&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Already Verified (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.56&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Email already verified. You can log in.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;b6df9c94-91b3-4ea7-ac37-4f5b8d2c8d1e&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>CAPTCHA Failure (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.73&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CAPTCHA verification failed&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please refresh the page and try again.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Make sure that you provided a captchaToken in your request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Invalid Token or Email (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;7.03&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Token expired or incorrect email address&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The provided token is invalid, has expired, or the email address is incorrect.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Please request a new verification email.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Token expired or incorrect email address&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Email must be provided.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;A valid verification token must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Database Error (500):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">500</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9.64&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Database Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;An error occurred while verifying your email. Please try again.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Internal Error (500):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">500</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;8.77&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Internal Server Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;An error occurred while verifying your email. Please try again.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-authlogin">POST /auth/login</h3>
<ul>
<li><strong>Purpose:</strong> Authenticate with email and password and issue access/refresh tokens.</li>
<li><strong>Authentication:</strong> Not required.</li>
<li><strong>Rate Limit:</strong> 10 requests per 10 minutes per IP.</li>
<li><strong>CAPTCHA:</strong> Provide <code>captchaToken</code> validated against the <code>login</code> action.</li>
</ul>
<h4 id="request-overview-6">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/login</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>10 requests / 10 minutes / IP</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>login</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-6">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-3">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for the <code>login</code> action.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>Email address of the user (case-insensitive).</td>
</tr>
<tr>
<td><code>password</code></td>
<td>string</td>
<td>Yes</td>
<td>Plain-text password to verify; not stored.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-3">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
</ul>
<h4 id="example-request-body-3">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;captchaToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;captcha-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;P@ssw0rd123!&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-6">Example Responses</h4>
<ul>
<li><strong>Authenticated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;18.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Login successful.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;accessToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;jwt&gt;&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;refreshToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;jwt&gt;&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;user&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;b6df9c94-91b3-4ea7-ac37-4f5b8d2c8d1e&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane Doe&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2024-07-11T10:22:33.000Z&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T09:20:11.000Z&quot;</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid Credentials (401):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">401</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.51&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid email or password.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The provided email or password is incorrect&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>CAPTCHA Failure (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CAPTCHA verification failed&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please refresh the page and try again.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Make sure that you provided a captchaToken in your request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Account Disabled (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.92&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Your account has been disabled.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please contact the system administrator if you believe this is a mistake.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-authrefresh-token">POST /auth/refresh-token</h3>
<ul>
<li><strong>Purpose:</strong> Exchange a valid refresh token for a new access token.</li>
<li><strong>Authentication:</strong> Not required (the refresh token provides trust).</li>
</ul>
<h4 id="request-overview-7">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/refresh-token</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Not required</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-7">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-4">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>refreshToken</code></td>
<td>string (JWT)</td>
<td>Yes</td>
<td>Refresh token previously issued by <code>/auth/login</code> or <code>/auth/google</code>.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-4">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Invalid or revoked refresh tokens return <code>401</code>.</li>
</ul>
<h4 id="example-request-body-4">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;refreshToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;refresh-token&gt;&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-7">Example Responses</h4>
<ul>
<li><strong>Refreshed (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;7.81&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Access token refreshed.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;accessToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;jwt&gt;&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Missing Token (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.07&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Refresh token required&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a valid refresh token in the request body.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Invalid or Revoked Token (401):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">401</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.35&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid refresh token&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The provided refresh token is invalid or has expired.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Token User Missing (401):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">401</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.90&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid refresh token&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User associated with token not found.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Account Disabled (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Your account has been disabled.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please contact the system administrator if you believe this is a mistake.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-authlogout">POST /auth/logout</h3>
<ul>
<li><strong>Purpose:</strong> Revoke one or all active refresh tokens for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token required (<code>Authorization: Bearer &lt;accessToken&gt;</code>).</li>
<li><strong>Rate Limit:</strong> 60 requests per minute per authenticated user.</li>
</ul>
<h4 id="request-overview-8">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/logout</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user + 1 request / 5 minutes / IP (email cost) + 2 requests / day / account</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-8">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token generated by <code>/auth/login</code> or <code>/auth/google</code>.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-5">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>refreshToken</code></td>
<td>string (JWT)</td>
<td>Conditionally</td>
<td>Required unless <code>allDevices</code> is provided; identifies the session to revoke.</td>
</tr>
<tr>
<td><code>allDevices</code></td>
<td>boolean | string</td>
<td>No</td>
<td>Set to <code>true</code>, <code>1</code>, <code>&quot;true&quot;</code>, <code>&quot;1&quot;</code>, or <code>&quot;all&quot;</code> to revoke every active session without supplying <code>refreshToken</code>.</td>
</tr>
</tbody>
</table>
<p>Set <code>allDevices</code> truthy (<code>true</code>, <code>&quot;true&quot;</code>, <code>1</code>, <code>&quot;1&quot;</code>, or <code>&quot;all&quot;</code>) to revoke every active session without supplying a refresh token.</p>
<h4 id="validation--edge-cases-5">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Missing or invalid refresh tokens return <code>400</code> or <code>401</code> depending on the failure mode.</li>
</ul>
<h4 id="example-request-body-5">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;refreshToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;refresh-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;allDevices&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-8">Example Responses</h4>
<ul>
<li><strong>Single Session Logout (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.94&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Logged out successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;scope&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;single&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;revokedSessions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>All Sessions Logout (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Logged out successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;scope&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;all&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;revokedSessions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Missing Refresh Token (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.31&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Refresh token required&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a valid refresh token in the request body.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Invalid Refresh Token (401):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">401</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.49&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid refresh token&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The provided refresh token is invalid or has expired.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Forbidden Session (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.17&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;You can only log out your own session.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;The access token and refresh token do not belong to the same user.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-authrequest-password-reset">POST /auth/request-password-reset</h3>
<ul>
<li><strong>Purpose:</strong> Send a password reset email if the account exists.</li>
<li><strong>Authentication:</strong> Not required.</li>
<li><strong>Rate Limit:</strong> 1 request per 5 minutes per IP.</li>
<li><strong>CAPTCHA:</strong> Provide <code>captchaToken</code> validated against the <code>request_password_reset</code> action.</li>
</ul>
<h4 id="request-overview-9">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/request-password-reset</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>1 request / 5 minutes / IP</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>request_password_reset</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-9">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-6">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for the <code>request_password_reset</code> action.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>Email address to send the password reset link to.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-6">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
</ul>
<h4 id="email-content-3">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Reset your password for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Hello, &lt;preferredName&gt;!
We received a request to set or reset your password for the Book Project.
If this was you, click the button below to set a new password.
Reset Password: &lt;frontend_reset_url&gt;?token=&lt;token&gt;
If you did not request a password reset, please contact the system administrator at &lt;supportEmail&gt; to ensure the safety of your account.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body-6">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;captchaToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;captcha-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-9">Example Responses</h4>
<ul>
<li><strong>Generic Success (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;If you have registered an account with this email address, you will receive a password reset email.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;If you did not receive an email when you should have, please check your spam folder or try again later.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>CAPTCHA Failure (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.09&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CAPTCHA verification failed&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please refresh the page and try again.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Make sure that you provided a captchaToken in your request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.88&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Email must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-authreset-password">POST /auth/reset-password</h3>
<ul>
<li><strong>Purpose:</strong> Reset the account password using the emailed token.</li>
<li><strong>Authentication:</strong> Not required.</li>
<li><strong>Rate Limit:</strong> 1 request per 5 minutes per IP.</li>
<li><strong>CAPTCHA:</strong> Provide <code>captchaToken</code> validated against the <code>reset_password</code> action.</li>
</ul>
<h4 id="request-overview-10">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/reset-password</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>1 request / 5 minutes / IP</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>reset_password</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-10">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-7">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for the <code>reset_password</code> action.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>Email address associated with the password reset request.</td>
</tr>
<tr>
<td><code>token</code></td>
<td>string</td>
<td>Yes</td>
<td>Password-reset token sent via email (32-byte hex).</td>
</tr>
<tr>
<td><code>newPassword</code></td>
<td>string</td>
<td>Yes</td>
<td>10–100 characters, including upper, lower, digit, and special character.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-7">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
</ul>
<h4 id="email-content-4">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your password has been reset</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Password Reset Successful, &lt;preferredName&gt;
Your password has been updated successfully. You can now log in using your new password.
Log In: &lt;frontend_login_url&gt;
If you did not reset your password, please contact the system administrator at &lt;supportEmail&gt; to secure your account.
</code></pre>
<h4 id="example-request-body-7">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;reset-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;newPassword&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;NewP@ssw0rd123!&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-10">Example Responses</h4>
<ul>
<li><strong>Password Reset (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9.42&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Password reset successfully. You can now log in.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;b6df9c94-91b3-4ea7-ac37-4f5b8d2c8d1e&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T09:02:44.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>CAPTCHA Failure (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.26&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CAPTCHA verification failed&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please refresh the page and try again.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Make sure that you provided a captchaToken in your request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.91&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A valid password reset token must be provided.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Password must include at least one special character.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Invalid Token or Email (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.74&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Token expired or incorrect email address&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The provided token is invalid, has expired, or the email address is incorrect.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Please request a new password reset email.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Database Error (500):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">500</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;8.54&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Database Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;An error occurred while resetting your password. Please try again.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-authgoogle">POST /auth/google</h3>
<ul>
<li><strong>Purpose:</strong> Sign up or sign in a user using a verified Google ID token.</li>
<li><strong>Authentication:</strong> Not required.</li>
<li><strong>Request Body:</strong></li>
</ul>
<h4 id="request-overview-11">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/auth/google</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-11">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>No</td>
<td>—</td>
<td>Not used.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-8">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>idToken</code></td>
<td>string</td>
<td>Yes</td>
<td>ID token returned by Google OAuth (must be for the configured client ID).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-8">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Invalid Google ID tokens return <code>401</code>, and unverified Google emails return <code>400</code>.</li>
</ul>
<h4 id="example-request-body-8">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;idToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;google-id-token&gt;&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-11">Example Responses</h4>
<ul>
<li><strong>Authenticated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;19.77&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Login successful.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;accessToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;jwt&gt;&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;refreshToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;jwt&gt;&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;user&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;b6df9c94-91b3-4ea7-ac37-4f5b8d2c8d1e&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane Doe&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T09:20:11.000Z&quot;</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>ID Token Missing (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.71&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ID token required&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a valid Google ID token in the request body.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Invalid ID Token (401):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">401</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid ID token&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The provided Google ID token is invalid.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Email Not Verified by Google (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.33&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Email not verified by Google&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Your Google account email is not verified. Please verify your email with Google before signing in.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Missing Google User ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid Google profile: No user ID&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Could not retrieve valid user ID from Google profile.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Incomplete Google Profile (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.76&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Incomplete Google profile&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Your Google profile is missing required information.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Please ensure your Google account has an email address and name associated with it.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Or, if you still have issues, please register/login manually.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="user-management">User Management</h2>
<h3 id="get-usersme">GET /users/me</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve the authenticated user's profile and connected OAuth providers.</li>
</ul>
<h4 id="request-overview-12">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-12">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token generated by <code>/auth/login</code> or <code>/auth/google</code>.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-9">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(none)</em></td>
<td>—</td>
<td>—</td>
<td>This endpoint does not accept a request body.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-9">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-12">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.73&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User profile retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;b6df9c94-91b3-4ea7-ac37-4f5b8d2c8d1e&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane Doe&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-15T11:01:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T09:20:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;oauthProviders&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">&quot;google&quot;</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>User Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.67&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user record could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-usersme">PUT /users/me</h3>
<ul>
<li><strong>Purpose:</strong> Update <code>fullName</code> and/or <code>preferredName</code>. To change the email or password, use the dedicated endpoints.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-13">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-13">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token generated by <code>/auth/login</code> or <code>/auth/google</code>.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-10">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fullName</code></td>
<td>string</td>
<td>Conditionally</td>
<td>2–255 characters; letters plus spaces, hyphens, periods, apostrophes.</td>
</tr>
<tr>
<td><code>preferredName</code></td>
<td>string</td>
<td>Conditionally</td>
<td>2–100 alphabetic characters (letters only).</td>
</tr>
</tbody>
</table>
<p>At least one of <code>fullName</code> or <code>preferredName</code> must be provided.</p>
<h4 id="validation--edge-cases-10">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Update endpoints require at least one updatable field; empty payloads return <code>400</code>.</li>
</ul>
<h4 id="example-request-body-9">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane Q. Doe&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jan&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-13">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.41&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User profile updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;b6df9c94-91b3-4ea7-ac37-4f5b8d2c8d1e&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jane Q. Doe&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jan&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-15T11:01:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T09:20:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T08:44:02.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>No Fields Provided (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.21&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;No changes were provided.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide at least one field to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.92&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Preferred Name must be between 2 and 100 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>User Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.33&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user record could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-usersme">DELETE /users/me</h3>
<ul>
<li><strong>Purpose:</strong> Initiate a soft-delete. Sends a confirmation link to the account email; the account is disabled only after the link is confirmed.</li>
<li><strong>Daily Quota:</strong> Maximum of two disable requests per account per rolling 24 hours.</li>
</ul>
<h4 id="request-overview-14">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user + 1 request / 5 minutes / IP (email cost)</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-14">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required to identify the user being disabled.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-11">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(none)</em></td>
<td>—</td>
<td>—</td>
<td>This endpoint does not accept a request body.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-11">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Daily quota limits return <code>429</code> with a daily limit message.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="email-content-5">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Confirm your Book Project account disable request</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Hi, &lt;preferredName&gt;.
We received a request to disable your Book Project account. Your data will remain stored, but you will no longer be able to log in or use any features.
To confirm, click the button below. If you change your mind later, or if you did not make this request, please reach out to our system administrator at &lt;supportEmail&gt; so we can assist or reactivate your account.
Confirm Disable: &lt;api_base_url&gt;/users/me/verify-delete?token=&lt;token&gt;
This link will expire in &lt;expiresIn&gt; minutes. If it expires, simply sign in and submit another request.
</code></pre>
<h4 id="example-responses-14">Example Responses</h4>
<ul>
<li><strong>Requested (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.07&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Check your email to confirm this action.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Your account will remain active until you confirm the disable request via the link we sent.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>User Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user record could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-usersmeverify-delete">POST /users/me/verify-delete</h3>
<ul>
<li><strong>Purpose:</strong> Confirms the disable request using the emailed token, validates the user’s email, and revokes all active sessions.</li>
<li><strong>Authentication:</strong> Not required (token + email based); protected by CAPTCHA.</li>
</ul>
<h4 id="request-overview-15">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/verify-delete</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>3 requests / 5 minutes / IP + 1 request / 5 minutes / IP (email cost)</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>verify_delete</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-15">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-12">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>token</code></td>
<td>string</td>
<td>Yes</td>
<td>Token supplied in the disable-confirmation email.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>Must match the account email that requested disable.</td>
</tr>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for action <code>verify_delete</code>.</td>
</tr>
</tbody>
</table>
<p><em>Security note: If the supplied email or CAPTCHA token does not match the pending request, the API returns the same error as an invalid or expired token.</em></p>
<h4 id="validation--edge-cases-12">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
</ul>
<h4 id="email-content-6">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project account has been disabled</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Hello, &lt;preferredName&gt;.
This is a confirmation that your Book Project account has been disabled.
From now on:
- You will no longer be able to log in.
- You cannot use any of the Book Project features.
- Your data will remain in our database, but is marked as disabled.
If you would like to reactivate your account, please contact the System Administrator at &lt;supportEmail&gt;. Provide them with your email address and request account reactivation.
</code></pre>
<h4 id="example-request-body-10">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;verification-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;captchaToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;captcha-token&gt;&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-15">Example Responses</h4>
<ul>
<li><strong>Confirmed (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Your account has been disabled.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;If you need to reactivate the account, please contact support.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid Token / Email (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.44&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid or expired token&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The confirmation token is invalid, has expired, or the supplied information does not match this request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-usersmerequest-email-change">POST /users/me/request-email-change</h3>
<ul>
<li><strong>Purpose:</strong> Initiate an email change for the authenticated user. Sends a verification link to the new email address. The user is signed out everywhere once the new email is confirmed.</li>
<li><strong>Daily Quota:</strong> Only one email change request can be initiated per account per day.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-16">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/request-email-change</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user + 1 request / 5 minutes / IP (email cost) + 1 request / day / account</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-16">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Identifies the user requesting the change.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-13">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>newEmail</code></td>
<td>string</td>
<td>Yes</td>
<td>Desired email address; must pass the same validation as registration.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-13">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Daily quota limits return <code>429</code> with a daily limit message.</li>
</ul>
<h4 id="email-content-7">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Verify your new Book Project email address</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Confirm your new email, &lt;preferredName&gt;
We received a request to update the email address linked to your Book Project account.
Click the button below to finish verifying this new email. If you did not request the change, contact &lt;supportEmail&gt; so we can secure your account. Once your new email is verified, you will be logged out of all sessions and will need to log in again using the new email address.
Verify New Email: &lt;frontend_verify_url&gt;?token=&lt;token&gt;
This link expires in &lt;expiresIn&gt; minutes. If you did not request this change, you can ignore this email.
</code></pre>
<h4 id="example-request-body-11">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;newEmail&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane.new@example.com&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-16">Example Responses</h4>
<ul>
<li><strong>Generic Success (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.32&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;If this email can be used, you will receive a confirmation link shortly.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;You will be signed out on all devices once the new email is verified.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The new email address must be different from your current email.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-usersmeverify-email-change">POST /users/me/verify-email-change</h3>
<ul>
<li><strong>Purpose:</strong> Confirms the pending email change using the token sent to the new email address. Requires the user’s current email, the new email, password confirmation, and a CAPTCHA check before revoking sessions and removing OAuth links.</li>
<li><strong>Authentication:</strong> Not required (token + credentials); protected by CAPTCHA.</li>
</ul>
<h4 id="request-overview-17">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/verify-email-change</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>3 requests / 5 minutes / IP + 1 request / 5 minutes / IP (email cost)</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>verify_email_change</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-17">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-14">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>token</code></td>
<td>string</td>
<td>Yes</td>
<td>Token from the verification email.</td>
</tr>
<tr>
<td><code>oldEmail</code></td>
<td>string</td>
<td>Yes</td>
<td>Must match the current account email.</td>
</tr>
<tr>
<td><code>newEmail</code></td>
<td>string</td>
<td>Yes</td>
<td>Must match the email that initiated the change.</td>
</tr>
<tr>
<td><code>password</code></td>
<td>string</td>
<td>Yes</td>
<td>Confirms the user controls the account.</td>
</tr>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for action <code>verify_email_change</code>.</td>
</tr>
</tbody>
</table>
<p><em>Security note: Incorrect email, password, or CAPTCHA data yields the same error as an invalid token to prevent email enumeration.</em></p>
<h4 id="validation--edge-cases-14">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
</ul>
<h4 id="email-content-8">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project email address has changed</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Email updated, &lt;preferredName&gt;
This is a confirmation that your Book Project account email has been updated to &lt;newEmail&gt;.
If you did not authorise this change, please contact our support team immediately at &lt;supportEmail&gt; so that we can help secure your account.
</code></pre>
<h4 id="example-request-body-12">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;verification-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;oldEmail&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;newEmail&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane.new@example.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;P@ssw0rd123!&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;captchaToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;captcha-token&gt;&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-17">Example Responses</h4>
<ul>
<li><strong>Confirmed (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.85&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Your email address has been updated.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Please log in with your new email address. You have been signed out on all devices.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid Token / Data (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid or expired token&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The confirmation token is invalid, has expired, or the supplied information does not match this request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-usersmerequest-account-deletion-also-available-as-post">DELETE /users/me/request-account-deletion (also available as POST)</h3>
<ul>
<li><strong>Purpose:</strong> Starts the permanent deletion workflow. Sends a confirmation link to the account email. After confirmation, support (<a href="mailto:support@fjnel.co.za">support@fjnel.co.za</a>) is notified with the account details needed to complete the deletion.</li>
<li><strong>Daily Quota:</strong> Up to two deletion requests per account per day (shared between <code>DELETE</code> and <code>POST</code> clients).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-18">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code> (legacy clients may still use <code>POST</code>)</td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/request-account-deletion</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user + 1 request / 5 minutes / IP (email cost) + 2 requests / day / account</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-18">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Identifies the user requesting deletion.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-15">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(none)</em></td>
<td>—</td>
<td>—</td>
<td>No request body is accepted.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-15">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Daily quota limits return <code>429</code> with a daily limit message.</li>
</ul>
<h4 id="email-content-9">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Confirm your Book Project account deletion request</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Final confirmation required
You asked us to permanently delete your Book Project account and all associated data.
Our administrators will only proceed once you confirm this request. If this wasn’t you, email &lt;supportEmail&gt; immediately to ensure that your account remains secure and intact.
Confirm Deletion Request: &lt;api_base_url&gt;/users/me/verify-account-deletion?token=&lt;token&gt;
Once confirmed, our support team will contact you to complete the deletion process. This link expires in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-responses-18">Example Responses</h4>
<ul>
<li><strong>Requested (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.77&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Check your email to confirm this deletion request.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Our support team will only be notified after you confirm via the email link.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="post-usersmeverify-account-deletion">POST /users/me/verify-account-deletion</h3>
<ul>
<li><strong>Purpose:</strong> Confirms the deletion request using the emailed token, validates the user’s credentials, and notifies support so the deletion can be processed manually.</li>
<li><strong>Authentication:</strong> Not required (token + credentials); protected by CAPTCHA.</li>
</ul>
<h4 id="request-overview-19">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/verify-account-deletion</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>None</td>
</tr>
<tr>
<td>Rate Limit</td>
<td>3 requests / 5 minutes / IP + 1 request / 5 minutes / IP (email cost)</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>verify_account_deletion</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-19">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-16">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>token</code></td>
<td>string</td>
<td>Yes</td>
<td>Token supplied in the deletion-confirmation email.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>Must match the account requesting deletion.</td>
</tr>
<tr>
<td><code>password</code></td>
<td>string</td>
<td>Yes</td>
<td>Must match the current account password.</td>
</tr>
<tr>
<td><code>confirm</code></td>
<td>boolean</td>
<td>Yes</td>
<td>Must be <code>true</code> to acknowledge the permanent deletion.</td>
</tr>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for action <code>verify_account_deletion</code>.</td>
</tr>
</tbody>
</table>
<p><em>Security note: Invalid email, password, or confirmation values produce the same response as an expired token.</em></p>
<h4 id="validation--edge-cases-16">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
</ul>
<h4 id="email-content-10">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Account deletion confirmation received for &lt;userEmail&gt;</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Account deletion request confirmed
A user confirmed that they would like their Book Project account to be deleted permanently.
Please reach out to verify their request before completing the deletion process.
User ID: &lt;userId&gt;
Email: &lt;userEmail&gt;
Full Name: &lt;userFullName&gt;
Preferred Name: &lt;userPreferredName&gt;
Confirmed At: &lt;requestedAt&gt;
Requester IP: &lt;requestIp&gt;
Please reach out to the user before fully deleting this account and all associated data. Use the appropriate admin endpoint to complete the deletion.
</code></pre>
<h4 id="example-request-body-13">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;verification-token&gt;&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jane@example.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;P@ssw0rd123!&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;confirm&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;captchaToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;captcha-token&gt;&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-19">Example Responses</h4>
<ul>
<li><strong>Confirmed (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.23&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Your request has been forwarded to our support team.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Support will reach out on the confirmed email address to finalize the deletion.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid Token / Credentials (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid or expired token&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The confirmation token is invalid, has expired, or the supplied information does not match this request.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-usersmesessions">GET /users/me/sessions</h3>
<ul>
<li><strong>Purpose:</strong> List the authenticated user’s active refresh-token sessions, including device, browser, IP hint, and remaining lifetime.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-20">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/sessions</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-20">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Identifies the user whose sessions are being listed.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-17">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(none)</em></td>
<td>—</td>
<td>—</td>
<td>This endpoint does not accept a request body.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-17">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If there are no active sessions, the API returns an empty array.</li>
</ul>
<h4 id="example-responses-20">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.31&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Active sessions retrieved.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;sessions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;f17bb6df-d94b-4d85-88de-3c8280dcfd9e&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;issuedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T08:30:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-24T08:30:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresInSeconds&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">543210</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;ipAddress&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;203.0.113.24&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;locationHint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;IP 203.0.113.24&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;browser&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Chrome&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;device&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Desktop&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;operatingSystem&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Windows&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;rawUserAgent&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 ...&quot;</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6b9d3caa-1d7e-4f91-9d39-6a74073ca21c&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;issuedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-16T19:04:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-23T19:04:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresInSeconds&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">302515</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;ipAddress&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;locationHint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Unknown&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;browser&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Safari&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;device&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Mobile&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;operatingSystem&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;iOS&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;rawUserAgent&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Mozilla/5.0 (iPhone; CPU iPhone OS 17_2 like Mac OS X) AppleWebKit/605.1.15 ...&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="delete-usersmesessionsfingerprint">DELETE /users/me/sessions/:fingerprint</h3>
<ul>
<li><strong>Purpose:</strong> Revoke a single refresh-token session (for example, to sign out a lost or unattended device). Fingerprints are returned by <code>GET /users/me/sessions</code>.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-21">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/sessions/:fingerprint</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-21">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Identifies the requesting user.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="path-parameters">Path Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fingerprint</code></td>
<td>string</td>
<td>Yes</td>
<td>Token fingerprint returned by the session listing endpoint.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-18">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fingerprint</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation of the path parameter. If provided, it must match <code>:fingerprint</code>.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-18">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If <code>fingerprint</code> is also provided in the JSON body, it must match the path parameter.</li>
<li>If the fingerprint does not match any active session, the API returns <code>200</code> with <code>wasRevoked=false</code>.</li>
</ul>
<h4 id="example-responses-21">Example Responses</h4>
<ul>
<li><strong>Session Revoked (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Session revoked.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;f17bb6df-d94b-4d85-88de-3c8280dcfd9e&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;wasRevoked&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Session Already Inactive (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Session not found or already inactive.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6b9d3caa-1d7e-4f91-9d39-6a74073ca21c&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;wasRevoked&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="delete-usersmesessions">DELETE /users/me/sessions</h3>
<ul>
<li><strong>Purpose:</strong> Revoke a single refresh-token session using a JSON request body (preferred for clients that avoid URL parameters).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-22">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/sessions</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-22">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Identifies the requesting user.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body is required.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-19">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fingerprint</code></td>
<td>string</td>
<td>Yes</td>
<td>Token fingerprint returned by the session listing endpoint.</td>
</tr>
</tbody>
</table>
<h4 id="example-request-body-14">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;f17bb6df-d94b-4d85-88de-3c8280dcfd9e&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="validation--edge-cases-19">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the fingerprint does not match any active session, the API returns <code>200</code> with <code>wasRevoked=false</code>.</li>
</ul>
<h4 id="example-responses-22">Example Responses</h4>
<ul>
<li><strong>Session Revoked (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Session revoked.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;f17bb6df-d94b-4d85-88de-3c8280dcfd9e&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;wasRevoked&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid Fingerprint (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.61&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Invalid session identifier&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A session fingerprint must be provided in the URL path.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-usersmechange-password">POST /users/me/change-password</h3>
<ul>
<li><strong>Purpose:</strong> Allows an authenticated user to update their password without email verification. Requires the current password, a compliant new password, and a CAPTCHA check. All active sessions are revoked.</li>
<li><strong>Daily Quota:</strong> A user can change their password via this endpoint up to twice per day.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-23">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/change-password</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>3 requests / 5 minutes / user + 1 request / 5 minutes / IP (email cost) + 2 requests / day / account</td>
</tr>
<tr>
<td>CAPTCHA Action</td>
<td><code>change_password</code></td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-23">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Identifies the signed-in user.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-20">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>currentPassword</code></td>
<td>string</td>
<td>Yes</td>
<td>Must match the user’s existing password.</td>
</tr>
<tr>
<td><code>newPassword</code></td>
<td>string</td>
<td>Yes</td>
<td>10–100 characters with upper, lower, digit, special character.</td>
</tr>
<tr>
<td><code>captchaToken</code></td>
<td>string</td>
<td>Yes</td>
<td>reCAPTCHA v3 token for action <code>change_password</code>.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-20">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>CAPTCHA failures return <code>400</code> with a descriptive error message.</li>
<li>Daily quota limits return <code>429</code> with a daily limit message.</li>
</ul>
<h4 id="example-request-body-15">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;currentPassword&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;P@ssw0rd123!&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;newPassword&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;N3wP@ssw0rd123!&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;captchaToken&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;captcha-token&gt;&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-23">Example Responses</h4>
<ul>
<li><strong>Successful Change (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;6.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Password updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T09:02:44.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;disclaimer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;You have been signed out on all devices. Please log in using your new password.&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid Current Password (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.67&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The current password provided is incorrect.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-usersmeapi-keys">GET /users/me/api-keys</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve API keys for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-24">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/api-keys</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-24">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-21">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>includeRevoked</code></td>
<td>boolean</td>
<td>No</td>
<td>Include revoked keys in the list (default: <code>false</code>).</td>
</tr>
<tr>
<td><code>includeExpired</code></td>
<td>boolean</td>
<td>No</td>
<td>Include expired keys in the list (default: <code>false</code>).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-21">Validation &amp; Edge Cases</h4>
<ul>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>Revoked or expired keys are excluded by default.</li>
</ul>
<h4 id="example-request-body-16">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;includeRevoked&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;includeExpired&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-24">Example Responses</h4>
<ul>
<li><strong>Successful Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.27&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;API keys retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;keys&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gondor CLI Key&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;prefix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;bk_4f8a&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;lastUsedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-02T14:32:19.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;revokedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-01T10:12:41.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-01T10:12:41.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="post-usersmeapi-keys">POST /users/me/api-keys</h3>
<ul>
<li><strong>Purpose:</strong> Create a personal API key for script access.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-25">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/api-keys</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-25">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-22">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>2–120 characters; display name for the key.</td>
</tr>
<tr>
<td><code>expiresAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO 8601 timestamp when the key should expire.</td>
</tr>
<tr>
<td><code>expiresInDays</code></td>
<td>integer</td>
<td>No</td>
<td>Convenience expiry in days (1–3650). Ignored if <code>expiresAt</code> is supplied.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-22">Validation &amp; Edge Cases</h4>
<ul>
<li><code>expiresAt</code> must be a valid ISO 8601 date when provided.</li>
<li>If both <code>expiresAt</code> and <code>expiresInDays</code> are provided, <code>expiresAt</code> takes precedence.</li>
</ul>
<h4 id="example-request-body-17">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hogwarts Scripts&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;expiresInDays&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-25">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.61&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;API key created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hogwarts Scripts&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;prefix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;bk_a8d2&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;expiresAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-04-02T16:42:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-02T16:42:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-02T16:42:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;bk_a8d2....&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.92&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;API key name must be between 2 and 120 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;API key already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;An API key with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-usersmeapi-keys">DELETE /users/me/api-keys</h3>
<ul>
<li><strong>Purpose:</strong> Revoke an API key by id, name, or prefix.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-26">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/api-keys</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-26">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-23">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>API key id to revoke.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Conditional</td>
<td>API key name to revoke.</td>
</tr>
<tr>
<td><code>prefix</code></td>
<td>string</td>
<td>Conditional</td>
<td>API key prefix (first 6 chars).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-23">Validation &amp; Edge Cases</h4>
<ul>
<li>At least one identifier must be provided.</li>
<li>If multiple identifiers are provided, they must refer to the same key.</li>
<li>If the provided identifiers match multiple records, the API returns <code>400</code> and requests a more specific identifier.</li>
</ul>
<h4 id="example-request-body-18">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;prefix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;bk_4f8a&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-26">Example Responses</h4>
<ul>
<li><strong>Revoked (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;API key revoked successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.76&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide an API key id, name, or prefix to revoke.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.41&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;API key not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested API key could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-usersmestats">GET /users/me/stats</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve user-level library statistics for dashboard views.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-27">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/users/me/stats</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-27">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-24">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fields</code></td>
<td>array</td>
<td>No</td>
<td>List of stats fields to compute. If omitted, all stats are returned.</td>
</tr>
</tbody>
</table>
<p>Available fields:</p>
<ul>
<li><code>books</code>: Count of active (non-deleted) books.</li>
<li><code>deletedBooks</code>: Count of soft-deleted books in the trash.</li>
<li><code>authors</code>: Count of active authors.</li>
<li><code>deletedAuthors</code>: Count of soft-deleted authors.</li>
<li><code>publishers</code>: Count of active publishers.</li>
<li><code>deletedPublishers</code>: Count of soft-deleted publishers.</li>
<li><code>series</code>: Count of active book series.</li>
<li><code>deletedSeries</code>: Count of soft-deleted book series.</li>
<li><code>bookTypes</code>: Count of book types for the user.</li>
<li><code>tags</code>: Count of tags for the user.</li>
<li><code>languages</code>: Count of available languages.</li>
<li><code>storageLocations</code>: Count of storage locations for the user.</li>
<li><code>bookCopies</code>: Count of book copies for the user.</li>
<li><code>apiKeys</code>: Count of active (non-revoked) API keys.</li>
</ul>
<h4 id="validation--edge-cases-24">Validation &amp; Edge Cases</h4>
<ul>
<li>If any supplied field is unknown, the API returns <code>400 Validation Error</code>.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
</ul>
<h4 id="example-request-body-19">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;books&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;authors&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;publishers&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;tags&quot;</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-27">Example Responses</h4>
<ul>
<li><strong>Stats Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.95&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User stats retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;stats&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">120</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">48</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;publishers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">16</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">33</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.19&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Unknown stats fields: wizards.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="book-types">Book Types</h2>
<h3 id="get-booktype">GET /booktype</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all book types for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-28">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/booktype</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-28">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-25">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nameOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When true, returns only <code>id</code> and <code>name</code>. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Limits list results (1-200).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Offset for list pagination (0+).</td>
</tr>
</tbody>
</table>
<h4 id="optional-lookup-query-or-body">Optional Lookup (query or body)</h4>
<p>When <code>id</code> or <code>name</code> is provided (query string or JSON body), the endpoint returns a single book type instead of a list.
If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<p>Use the <code>filter...</code> parameters for list filtering to avoid conflicts with the single-record lookup.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Book type id to fetch.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>Book type name to fetch.</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<details>
<summary>Filtering & Sorting Options</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>No</td>
<td>Sort field for lists. Defaults to <code>name</code>.</td>
</tr>
<tr>
<td><code>order</code></td>
<td>string</td>
<td>No</td>
<td>Sort direction (<code>asc</code> or <code>desc</code>). Defaults to <code>asc</code>.</td>
</tr>
<tr>
<td><code>filterId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter list by exact id.</td>
</tr>
<tr>
<td><code>filterName</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on name.</td>
</tr>
<tr>
<td><code>filterDescription</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on description.</td>
</tr>
<tr>
<td><code>filterCreatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>updatedAt</code>.</td>
</tr>
</tbody>
</table>
<p><code>sortBy</code> accepts: <code>id</code>, <code>name</code>, <code>description</code>, <code>createdAt</code>, <code>updatedAt</code>.
You can provide these list controls via query string or JSON body. If both are provided, the JSON body takes precedence.</p>
</details>
<h4 id="common-examples">Common Examples</h4>
<ul>
<li><strong>All book types containing &quot;cover&quot;, sorted by updated date (desc), limit 10:</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;filterName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cover&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;updatedAt&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="validation--edge-cases-25">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>Providing optional lookup fields returns a single record; use the <code>filter...</code> parameters only for list queries. Precedence rules are defined in the Optional Lookup section.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-20">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;name&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hard&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterCreatedAfter&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2024-01-01&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-28">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Book Type Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book type could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-booktypeid">GET /booktype/:id</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific book type by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-29">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/booktype/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-29">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-26">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-29">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Softcover&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Book type id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book type could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-booktypeby-name">GET /booktype/by-name</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific book type by name.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-30">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/booktype/by-name</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-30">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-26">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Book type id to confirm (query string or JSON body).</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>Book type name to look up (query string or JSON body).</td>
</tr>
</tbody>
</table>
<p>If <code>name</code> is provided in both the query string and JSON body, the JSON body takes precedence.</p>
<h4 id="validation--edge-cases-27">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-21">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-30">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardback edition with rigid cover.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Book Type Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book type could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-booktype">POST /booktype</h3>
<ul>
<li><strong>Purpose:</strong> Create a new book type for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-31">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/booktype</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-31">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-27">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>2–100 characters; letters, numbers, spaces, and basic punctuation.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>string</td>
<td>No</td>
<td>Optional description (&lt;= 1000 characters).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-28">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-22">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Standard hardcover binding.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-31">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.33&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hogwarts Illustrated Edition&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry Potter special edition with illustrations.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Language name must be between 2 and 100 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A language with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Forbidden (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden: Insufficient permissions.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Admin privileges are required for this action.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Book Type Name must be between 2 and 100 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A book type with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-booktypeid">PUT /booktype/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update a book type.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-32">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/booktype/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-32">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-28">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>Updated name.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>string</td>
<td>No</td>
<td>Updated description (&lt;= 1000 characters).</td>
</tr>
</tbody>
</table>
<p>At least one field must be provided.</p>
<h4 id="validation--edge-cases-29">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
<li>Update endpoints require at least one updatable field; empty payloads return <code>400</code>.</li>
</ul>
<h4 id="example-request-body-23">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated description.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-32">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.92&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hogwarts Illustrated Edition&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry Potter special edition with illustrations.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:05:48.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Language name must be between 2 and 100 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested language could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A language with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Forbidden (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden: Insufficient permissions.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Admin privileges are required for this action.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>No Fields Provided (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.30&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;No changes were provided.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide at least one field to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book type could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A book type with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-booktype">PUT /booktype</h3>
<ul>
<li><strong>Purpose:</strong> Update a book type by <code>id</code> or <code>name</code>.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-33">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/booktype</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-33">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-29">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>The book type id to update.</td>
</tr>
<tr>
<td><code>targetName</code></td>
<td>string</td>
<td>Conditional</td>
<td>The current book type name to update (used to identify the record).</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>New name to apply.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>string</td>
<td>No</td>
<td>Updated description (&lt;= 1000 characters).</td>
</tr>
</tbody>
</table>
<p>At least one of <code>id</code> or <code>targetName</code> must be provided to identify the record, and at least one updatable field must be included.</p>
<p>If both <code>id</code> and <code>targetName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-30">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
<li>Update endpoints require at least one updatable field; empty payloads return <code>400</code>.</li>
</ul>
<h4 id="example-request-body-24">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated description.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-33">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.92&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hogwarts Illustrated Edition&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry Potter special edition with illustrations.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:05:48.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a book type id or name to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>No Fields Provided (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.30&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;No changes were provided.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide at least one field to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book type could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A book type with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-booktype">DELETE /booktype</h3>
<ul>
<li><strong>Purpose:</strong> Delete a book type by <code>id</code> or <code>name</code>.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-34">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/booktype</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-34">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-30">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>The book type id to delete.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Conditional</td>
<td>The book type name to delete.</td>
</tr>
</tbody>
</table>
<p>At least one of <code>id</code> or <code>name</code> must be provided.</p>
<p>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-31">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-25">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-34">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Language id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested language could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Forbidden (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden: Insufficient permissions.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Admin privileges are required for this action.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a book type id or name to delete.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book type could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-booktypeid">DELETE /booktype/:id</h3>
<ul>
<li><strong>Purpose:</strong> Delete a book type owned by the authenticated user.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-35">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/booktype/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-35">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-32">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-35">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book type not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book type could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="authors">Authors</h2>
<h3 id="get-author">GET /author</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all authors for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-36">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-36">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-31">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nameOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When true, returns only <code>id</code> and <code>displayName</code>. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Limits list results (1-200).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Offset for list pagination (0+).</td>
</tr>
</tbody>
</table>
<h4 id="optional-lookup-query-or-body-1">Optional Lookup (query or body)</h4>
<p>When <code>id</code> or <code>displayName</code> is provided (query string or JSON body), the endpoint returns a single author instead of a list.
If both <code>id</code> and <code>displayName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<p>Use the <code>filter...</code> parameters for list filtering to avoid conflicts with the single-record lookup.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Author id to fetch.</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td>string</td>
<td>No</td>
<td>Author display name to fetch.</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>displayName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<details>
<summary>Filtering & Sorting Options</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>No</td>
<td>Sort field for lists. Defaults to <code>displayName</code>.</td>
</tr>
<tr>
<td><code>order</code></td>
<td>string</td>
<td>No</td>
<td>Sort direction (<code>asc</code> or <code>desc</code>). Defaults to <code>asc</code>.</td>
</tr>
<tr>
<td><code>filterId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter list by exact id.</td>
</tr>
<tr>
<td><code>filterDisplayName</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on display name.</td>
</tr>
<tr>
<td><code>filterFirstNames</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on first names.</td>
</tr>
<tr>
<td><code>filterLastName</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on last name.</td>
</tr>
<tr>
<td><code>filterDeceased</code></td>
<td>boolean</td>
<td>No</td>
<td>Filter by deceased flag.</td>
</tr>
<tr>
<td><code>filterBio</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on bio.</td>
</tr>
<tr>
<td><code>filterBirthDateId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by exact birth date id.</td>
</tr>
<tr>
<td><code>filterDeathDateId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by exact death date id.</td>
</tr>
<tr>
<td><code>filterBirthDay</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by birth day (1-31).</td>
</tr>
<tr>
<td><code>filterBirthMonth</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by birth month (1-12).</td>
</tr>
<tr>
<td><code>filterBirthYear</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by birth year (1-9999).</td>
</tr>
<tr>
<td><code>filterBirthText</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on birth date text.</td>
</tr>
<tr>
<td><code>filterDeathDay</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by death day (1-31).</td>
</tr>
<tr>
<td><code>filterDeathMonth</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by death month (1-12).</td>
</tr>
<tr>
<td><code>filterDeathYear</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by death year (1-9999).</td>
</tr>
<tr>
<td><code>filterDeathText</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on death date text.</td>
</tr>
<tr>
<td><code>filterCreatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterBornBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for birth date.</td>
</tr>
<tr>
<td><code>filterBornAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for birth date.</td>
</tr>
<tr>
<td><code>filterDiedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for death date.</td>
</tr>
<tr>
<td><code>filterDiedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for death date.</td>
</tr>
</tbody>
</table>
<p><code>sortBy</code> accepts: <code>id</code>, <code>displayName</code>, <code>firstNames</code>, <code>lastName</code>, <code>deceased</code>, <code>bio</code>, <code>createdAt</code>, <code>updatedAt</code>, <code>birthDateId</code>, <code>deathDateId</code>, <code>birthDay</code>, <code>birthMonth</code>, <code>birthYear</code>, <code>birthText</code>, <code>deathDay</code>, <code>deathMonth</code>, <code>deathYear</code>, <code>deathText</code>.
You can provide these list controls via query string or JSON body. If both are provided, the JSON body takes precedence.</p>
</details>
<p>For born/died filters, the API compares using the earliest possible date from the partial date (missing month/day are treated as January/1).
Authors without a birth/death date will not match the born/died filters.</p>
<h4 id="common-examples-1">Common Examples</h4>
<ul>
<li><strong>All deceased authors, sorted by death year (desc), limit 20:</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;filterDeceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;deathYear&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Authors born before 1900, sorted by display name (asc):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;filterBornBefore&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1900-01-01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;displayName&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="validation--edge-cases-33">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>Providing optional lookup fields returns a single record; use the <code>filter...</code> parameters only for list queries. Precedence rules are defined in the Optional Lookup section.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-26">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;displayName&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterDeceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterBirthYear&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1950</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-36">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Display Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested author could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-authorid">GET /author/:id</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific author by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-37">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-37">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-34">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-37">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;firstNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;John Ronald Reuel&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;birthDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1892</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3 January 1892&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deathDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">13</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1973</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2 September 1973&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author of The Lord of the Rings.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Author id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested author could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-authorby-name">GET /author/by-name</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific author by display name.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-38">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author/by-name</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-38">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-32">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Author id to confirm (query string or JSON body).</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td>string</td>
<td>Yes</td>
<td>Display name to look up (query string or JSON body).</td>
</tr>
</tbody>
</table>
<p>If <code>displayName</code> is provided in both the query string and JSON body, the JSON body takes precedence.</p>
<p>Edge cases:</p>
<ul>
<li>Display names are user-scoped; a name that exists for another user will still return <code>404</code>.</li>
</ul>
<h4 id="validation--edge-cases-35">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>If both <code>id</code> and <code>displayName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-27">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-38">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;firstNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;John Ronald Reuel&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;birthDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1892</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3 January 1892&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deathDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">13</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1973</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2 September 1973&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author of The Lord of the Rings.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Display Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested author could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-author">POST /author</h3>
<ul>
<li><strong>Purpose:</strong> Create a new author for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-39">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-39">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-33">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>displayName</code></td>
<td>string</td>
<td>Yes</td>
<td>2–150 characters.</td>
</tr>
<tr>
<td><code>firstNames</code></td>
<td>string</td>
<td>No</td>
<td>Optional first names (2–150 characters).</td>
</tr>
<tr>
<td><code>lastName</code></td>
<td>string</td>
<td>No</td>
<td>Optional last name (2–100 characters).</td>
</tr>
<tr>
<td><code>birthDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial date object.</td>
</tr>
<tr>
<td><code>deceased</code></td>
<td>boolean</td>
<td>No</td>
<td>Whether the author is deceased. Defaults to <code>false</code> unless a <code>deathDate</code> is provided.</td>
</tr>
<tr>
<td><code>deathDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial date object (optional even when <code>deceased=true</code>).</td>
</tr>
<tr>
<td><code>bio</code></td>
<td>string</td>
<td>No</td>
<td>Optional bio (&lt;= 1000 characters).</td>
</tr>
</tbody>
</table>
<p>Edge cases:</p>
<ul>
<li>If <code>deceased=false</code> and <code>deathDate</code> is provided, the request fails validation.</li>
<li>If <code>deceased</code> is omitted but <code>deathDate</code> is provided, the API assumes <code>deceased=true</code>.</li>
</ul>
<h4 id="validation--edge-cases-36">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-28">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;firstNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;John Ronald Reuel&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;lastName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tolkien&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;birthDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1892</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3 January 1892&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;deathDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1973</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2 September 1973&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;English writer and philologist.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-39">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.33&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;firstNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;John Ronald Reuel&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;birthDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1892</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3 January 1892&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deathDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">13</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1973</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2 September 1973&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author of The Lord of the Rings.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Display Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;An author with this display name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-author">PUT /author</h3>
<ul>
<li><strong>Purpose:</strong> Update an author by <code>id</code> or <code>displayName</code>.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-40">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-40">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-34">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>The author id to update.</td>
</tr>
<tr>
<td><code>targetDisplayName</code></td>
<td>string</td>
<td>Conditional</td>
<td>The author display name to update (used to identify the record).</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td>string</td>
<td>No</td>
<td>New display name to apply.</td>
</tr>
<tr>
<td><code>firstNames</code></td>
<td>string</td>
<td>No</td>
<td>Updated first names.</td>
</tr>
<tr>
<td><code>lastName</code></td>
<td>string</td>
<td>No</td>
<td>Updated last name.</td>
</tr>
<tr>
<td><code>birthDate</code></td>
<td>object</td>
<td>No</td>
<td>Updated partial date object.</td>
</tr>
<tr>
<td><code>deceased</code></td>
<td>boolean</td>
<td>No</td>
<td>Updated deceased flag.</td>
</tr>
<tr>
<td><code>deathDate</code></td>
<td>object</td>
<td>No</td>
<td>Updated partial date object.</td>
</tr>
<tr>
<td><code>bio</code></td>
<td>string</td>
<td>No</td>
<td>Updated bio (&lt;= 1000 characters).</td>
</tr>
</tbody>
</table>
<p>At least one of <code>id</code> or <code>targetDisplayName</code> must be provided to identify the record, and at least one updatable field must be included.</p>
<p>If both <code>id</code> and <code>targetDisplayName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<p>Edge cases:</p>
<ul>
<li>If <code>deceased=false</code> and <code>deathDate</code> is provided, the request fails validation.</li>
<li>If <code>deceased</code> is omitted but <code>deathDate</code> is provided, the API assumes <code>deceased=true</code>.</li>
</ul>
<h4 id="validation--edge-cases-37">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
<li>Update endpoints require at least one updatable field; empty payloads return <code>400</code>.</li>
</ul>
<h4 id="example-request-body-29">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated biography.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-40">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.92&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;firstNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;John Ronald Reuel&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;birthDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1892</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3 January 1892&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deathDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">13</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1973</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2 September 1973&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author of The Lord of the Rings.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:05:48.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide an author id or display name to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>No Fields Provided (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.30&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;No changes were provided.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide at least one field to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested author could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;An author with this display name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-authorid">PUT /author/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update an author by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-41">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-41">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<p>Edge cases:</p>
<ul>
<li>If <code>deceased=false</code> and <code>deathDate</code> is provided, the request fails validation.</li>
<li>If <code>deceased</code> is omitted but <code>deathDate</code> is provided, the API assumes <code>deceased=true</code>.</li>
</ul>
<h4 id="validation--edge-cases-38">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-30">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated biography.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-41">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.92&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;firstNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;John Ronald Reuel&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tolkien&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;birthDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1892</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3 January 1892&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deathDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">13</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1973</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2 September 1973&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author of The Lord of the Rings.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:05:48.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Author id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested author could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-author">DELETE /author</h3>
<ul>
<li><strong>Purpose:</strong> Delete an author by <code>id</code> or <code>displayName</code>.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-42">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-42">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-35">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>The author id to delete.</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td>string</td>
<td>Conditional</td>
<td>The author display name to delete.</td>
</tr>
</tbody>
</table>
<p>At least one of <code>id</code> or <code>displayName</code> must be provided.</p>
<p>If both <code>id</code> and <code>displayName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-39">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-31">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-42">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide an author id or display name to delete.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested author could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-authorid">DELETE /author/:id</h3>
<ul>
<li><strong>Purpose:</strong> Delete an author by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-43">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-43">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-40">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-43">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Author id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested author could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-authortrash">GET /author/trash</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve authors that have been soft-deleted (moved to trash).</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-44">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author/trash</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>None</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-44">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="example-responses-44">Example Responses</h4>
<ul>
<li><strong>Deleted Authors Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.44&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Deleted authors retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Sauron&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;firstNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;lastName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;birthDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;deathDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;deletedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-01T12:41:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-11-12T10:04:22.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-22T08:15:10.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="post-authorrestore">POST /author/restore</h3>
<ul>
<li><strong>Purpose:</strong> Restore a soft-deleted author from the trash.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-45">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author/restore</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-45">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-36">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>Author id to restore.</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td>string</td>
<td>Conditional</td>
<td>Author display name to restore.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-41">Validation &amp; Edge Cases</h4>
<ul>
<li>At least one identifier must be provided.</li>
<li>If both <code>id</code> and <code>displayName</code> are provided, they must refer to the same record.</li>
<li>If multiple deleted authors match the identifiers, the API returns <code>400</code> and requests a more specific identifier.</li>
</ul>
<h4 id="example-request-body-32">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Sauron&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-45">Example Responses</h4>
<ul>
<li><strong>Restored (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.06&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author restored successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.31&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide an author id or display name to restore.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.88&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested author could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-authorstats">GET /author/stats</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve aggregate statistics about the user's authors.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-46">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/author/stats</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-46">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-37">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fields</code></td>
<td>array</td>
<td>No</td>
<td>List of stats fields to compute. If omitted, all stats are returned.</td>
</tr>
</tbody>
</table>
<p>Available fields:</p>
<ul>
<li><code>total</code>: Count of active (non-deleted) authors.</li>
<li><code>deleted</code>: Count of soft-deleted authors.</li>
<li><code>deceased</code>: Count of active authors marked as deceased.</li>
<li><code>alive</code>: Count of active authors marked as not deceased.</li>
<li><code>withBirthDate</code>: Count of active authors with a birth date.</li>
<li><code>withDeathDate</code>: Count of active authors with a death date.</li>
<li><code>withBio</code>: Count of active authors with a non-empty bio.</li>
<li><code>earliestBirthYear</code>: Earliest birth year across active authors (null if none).</li>
<li><code>latestBirthYear</code>: Latest birth year across active authors (null if none).</li>
<li><code>earliestDeathYear</code>: Earliest death year across active authors (null if none).</li>
<li><code>latestDeathYear</code>: Latest death year across active authors (null if none).</li>
</ul>
<h4 id="validation--edge-cases-42">Validation &amp; Edge Cases</h4>
<ul>
<li>If any supplied field is unknown, the API returns <code>400 Validation Error</code>.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
</ul>
<h4 id="example-request-body-33">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;total&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;deceased&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;earliestBirthYear&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;latestDeathYear&quot;</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-46">Example Responses</h4>
<ul>
<li><strong>Stats Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.83&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author stats retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;stats&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;total&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">42</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;earliestBirthYear&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1890</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;latestDeathYear&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2020</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.14&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Unknown stats fields: wyrm.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="publishers">Publishers</h2>
<h3 id="get-publisher">GET /publisher</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all publishers for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-47">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-47">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-38">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nameOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When true, returns only <code>id</code> and <code>name</code>. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Limits list results (1-200).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Offset for list pagination (0+).</td>
</tr>
</tbody>
</table>
<h4 id="optional-lookup-query-or-body-2">Optional Lookup (query or body)</h4>
<p>When <code>id</code> or <code>name</code> is provided (query string or JSON body), the endpoint returns a single publisher instead of a list.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Publisher id to fetch.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>Publisher name to fetch.</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<p>Use the <code>filter...</code> parameters for list filtering to avoid conflicts with the single-record lookup.</p>
<details>
<summary>Filtering & Sorting Options</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>No</td>
<td>Sort field for lists. Defaults to <code>name</code>.</td>
</tr>
<tr>
<td><code>order</code></td>
<td>string</td>
<td>No</td>
<td>Sort direction (<code>asc</code> or <code>desc</code>). Defaults to <code>asc</code>.</td>
</tr>
<tr>
<td><code>filterId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter list by exact id.</td>
</tr>
<tr>
<td><code>filterName</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on name.</td>
</tr>
<tr>
<td><code>filterWebsite</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on website.</td>
</tr>
<tr>
<td><code>filterNotes</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on notes.</td>
</tr>
<tr>
<td><code>filterFoundedDateId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by exact founded date id.</td>
</tr>
<tr>
<td><code>filterFoundedDay</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by founded day (1-31).</td>
</tr>
<tr>
<td><code>filterFoundedMonth</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by founded month (1-12).</td>
</tr>
<tr>
<td><code>filterFoundedYear</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by founded year (1-9999).</td>
</tr>
<tr>
<td><code>filterFoundedText</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on founded date text.</td>
</tr>
<tr>
<td><code>filterFoundedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for founded date.</td>
</tr>
<tr>
<td><code>filterFoundedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for founded date.</td>
</tr>
<tr>
<td><code>filterCreatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>updatedAt</code>.</td>
</tr>
</tbody>
</table>
<p><code>sortBy</code> accepts: <code>id</code>, <code>name</code>, <code>website</code>, <code>notes</code>, <code>createdAt</code>, <code>updatedAt</code>, <code>foundedDateId</code>, <code>foundedDay</code>, <code>foundedMonth</code>, <code>foundedYear</code>, <code>foundedText</code>.
You can provide these list controls via query string or JSON body. If both are provided, the JSON body takes precedence.</p>
</details>
<p>For founded filters, the API compares using the earliest possible date from the partial date (missing month/day are treated as January/1). Publishers without a founded date will not match the founded filters.</p>
<h4 id="validation--edge-cases-43">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>Providing optional lookup fields returns a single record; use the <code>filter...</code> parameters only for list queries. Precedence rules are defined in the Optional Lookup section.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-34">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;name&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bloomsbury&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-47">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Publisher Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested publisher could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h4 id="common-examples-2">Common Examples</h4>
<ul>
<li><strong>All publishers founded before 1950, sorted by founded year (desc), limit 20:</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;filterFoundedBefore&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1950-01-01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;foundedYear&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Publishers with &quot;blooms&quot; in the name, sorted by name (asc), offset 10, limit 10:</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;filterName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;blooms&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;name&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="get-publisherby-name">GET /publisher/by-name</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific publisher by name.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-48">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher/by-name</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-48">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-39">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Publisher id to confirm (query string or JSON body).</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>Publisher name to look up (query string or JSON body).</td>
</tr>
</tbody>
</table>
<p>If <code>name</code> is provided in both the query string and JSON body, the JSON body takes precedence.</p>
<h4 id="validation--edge-cases-44">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-35">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bloomsbury&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-48">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bloomsbury&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;foundedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1986</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1 March 1986&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.bloomsbury.com&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher of the Harry Potter series.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Publisher Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested publisher could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-publisherid">GET /publisher/:id</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific publisher by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-49">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-49">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-45">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-49">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bloomsbury&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;foundedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1986</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1 March 1986&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.bloomsbury.com&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher of the Harry Potter series.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Publisher id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested publisher could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-publisher">POST /publisher</h3>
<ul>
<li><strong>Purpose:</strong> Create a new publisher.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-50">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-50">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-40">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>2–150 characters; letters, numbers, spaces, and basic punctuation.</td>
</tr>
<tr>
<td><code>foundedDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial Date Object (<code>day</code>, <code>month</code>, <code>year</code>, <code>text</code>).</td>
</tr>
<tr>
<td><code>website</code></td>
<td>string</td>
<td>No</td>
<td>Must be a valid URL starting with <code>http://</code> or <code>https://</code> (&lt;= 300 chars).</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>Optional notes (&lt;= 1000 characters).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-46">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-36">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bloomsbury&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;foundedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1986</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;January 1986&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.bloomsbury.com&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;UK publisher.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-50">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.33&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bloomsbury&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;foundedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1986</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1 March 1986&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.bloomsbury.com&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher of the Harry Potter series.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Publisher Name must be between 2 and 150 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A publisher with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-publisher">PUT /publisher</h3>
<ul>
<li><strong>Purpose:</strong> Update a publisher by id or name.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-51">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-51">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-41">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Publisher id to update.</td>
</tr>
<tr>
<td><code>targetName</code></td>
<td>string</td>
<td>No</td>
<td>Publisher name to update (used if <code>id</code> is not provided).</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>New publisher name.</td>
</tr>
<tr>
<td><code>foundedDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial Date Object (<code>day</code>, <code>month</code>, <code>year</code>, <code>text</code>). Use <code>null</code> to clear.</td>
</tr>
<tr>
<td><code>website</code></td>
<td>string</td>
<td>No</td>
<td>New website. Use <code>null</code> to clear.</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>New notes. Use <code>null</code> to clear.</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>targetName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-47">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-37">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated notes.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-51">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.42&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bloomsbury&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;foundedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1986</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1 March 1986&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.bloomsbury.com&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated notes.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-20T08:45:10.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide at least one field to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A publisher with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested publisher could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-publisherid">PUT /publisher/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update a publisher by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-52">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-52">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-48">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-38">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated notes.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-52">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.42&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bloomsbury&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;foundedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1986</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1 March 1986&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.bloomsbury.com&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated notes.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-20T08:45:10.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Publisher id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested publisher could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-publisher">DELETE /publisher</h3>
<ul>
<li><strong>Purpose:</strong> Delete a publisher by id or name.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-53">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-53">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-42">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Publisher id to delete.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>Publisher name to delete (used if <code>id</code> is not provided).</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-49">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-39">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-53">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a publisher id or name to delete.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested publisher could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-publisherid">DELETE /publisher/:id</h3>
<ul>
<li><strong>Purpose:</strong> Delete a publisher by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-54">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-54">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-50">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-54">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Publisher id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested publisher could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-publishertrash">GET /publisher/trash</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve publishers that have been soft-deleted (moved to trash).</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-55">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher/trash</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>None</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-55">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="example-responses-55">Example Responses</h4>
<ul>
<li><strong>Deleted Publishers Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.41&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Deleted publishers retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;publishers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shire Press&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;foundedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://shire-press.example&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;deletedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-01T12:41:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-20T08:11:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-20T08:11:10.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="post-publisherrestore">POST /publisher/restore</h3>
<ul>
<li><strong>Purpose:</strong> Restore a soft-deleted publisher from the trash.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-56">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher/restore</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-56">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-43">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>Publisher id to restore.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Conditional</td>
<td>Publisher name to restore.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-51">Validation &amp; Edge Cases</h4>
<ul>
<li>At least one identifier must be provided.</li>
<li>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record.</li>
<li>If multiple deleted publishers match the identifiers, the API returns <code>400</code> and requests a more specific identifier.</li>
</ul>
<h4 id="example-request-body-40">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shire Press&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-56">Example Responses</h4>
<ul>
<li><strong>Restored (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher restored successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.25&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a publisher id or name to restore.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.74&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested publisher could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-publisherstats">GET /publisher/stats</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve aggregate statistics about the user's publishers.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-57">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/publisher/stats</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-57">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-44">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fields</code></td>
<td>array</td>
<td>No</td>
<td>List of stats fields to compute. If omitted, all stats are returned.</td>
</tr>
</tbody>
</table>
<p>Available fields:</p>
<ul>
<li><code>total</code>: Count of active (non-deleted) publishers.</li>
<li><code>deleted</code>: Count of soft-deleted publishers.</li>
<li><code>withFoundedDate</code>: Count of active publishers with a founded date.</li>
<li><code>withWebsite</code>: Count of active publishers with a website.</li>
<li><code>withNotes</code>: Count of active publishers with notes.</li>
<li><code>earliestFoundedYear</code>: Earliest founded year across active publishers (null if none).</li>
<li><code>latestFoundedYear</code>: Latest founded year across active publishers (null if none).</li>
</ul>
<h4 id="validation--edge-cases-52">Validation &amp; Edge Cases</h4>
<ul>
<li>If any supplied field is unknown, the API returns <code>400 Validation Error</code>.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
</ul>
<h4 id="example-request-body-41">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;total&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;withWebsite&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;earliestFoundedYear&quot;</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-57">Example Responses</h4>
<ul>
<li><strong>Stats Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.63&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Publisher stats retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;stats&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;total&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">16</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;withWebsite&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;earliestFoundedYear&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1937</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Unknown stats fields: wizardry.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="book-series">Book Series</h2>
<h3 id="get-bookseries">GET /bookseries</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all book series for the authenticated user.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-58">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-58">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-45">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nameOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When true, returns only <code>id</code> and <code>name</code>. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Limits list results (1-200).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Offset for list pagination (0+).</td>
</tr>
</tbody>
</table>
<h4 id="optional-lookup-query-or-body-3">Optional Lookup (query or body)</h4>
<p>When <code>id</code> or <code>name</code> is provided (query string or JSON body), the endpoint returns a single series instead of a list.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Series id to fetch.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>Series name to fetch.</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<p>Use the <code>filter...</code> parameters for list filtering to avoid conflicts with the single-record lookup.</p>
<details>
<summary>Filtering & Sorting Options</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>No</td>
<td>Sort field for lists. Defaults to <code>name</code>.</td>
</tr>
<tr>
<td><code>order</code></td>
<td>string</td>
<td>No</td>
<td>Sort direction (<code>asc</code> or <code>desc</code>). Defaults to <code>asc</code>.</td>
</tr>
<tr>
<td><code>filterId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter list by exact id.</td>
</tr>
<tr>
<td><code>filterName</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on name.</td>
</tr>
<tr>
<td><code>filterDescription</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on description.</td>
</tr>
<tr>
<td><code>filterWebsite</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on website.</td>
</tr>
<tr>
<td><code>filterStartDateId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by exact start date id.</td>
</tr>
<tr>
<td><code>filterStartDay</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by start day (1-31).</td>
</tr>
<tr>
<td><code>filterStartMonth</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by start month (1-12).</td>
</tr>
<tr>
<td><code>filterStartYear</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by start year (1-9999).</td>
</tr>
<tr>
<td><code>filterStartText</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on start date text.</td>
</tr>
<tr>
<td><code>filterEndDateId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by exact end date id.</td>
</tr>
<tr>
<td><code>filterEndDay</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by end day (1-31).</td>
</tr>
<tr>
<td><code>filterEndMonth</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by end month (1-12).</td>
</tr>
<tr>
<td><code>filterEndYear</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by end year (1-9999).</td>
</tr>
<tr>
<td><code>filterEndText</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on end date text.</td>
</tr>
<tr>
<td><code>filterStartedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for series start date.</td>
</tr>
<tr>
<td><code>filterStartedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for series start date.</td>
</tr>
<tr>
<td><code>filterEndedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for series end date.</td>
</tr>
<tr>
<td><code>filterEndedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for series end date.</td>
</tr>
<tr>
<td><code>filterCreatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>updatedAt</code>.</td>
</tr>
</tbody>
</table>
<p><code>sortBy</code> accepts: <code>id</code>, <code>name</code>, <code>description</code>, <code>website</code>, <code>createdAt</code>, <code>updatedAt</code>, <code>startDate</code>, <code>startDateId</code>, <code>startDay</code>, <code>startMonth</code>, <code>startYear</code>, <code>startText</code>, <code>endDate</code>, <code>endDateId</code>, <code>endDay</code>, <code>endMonth</code>, <code>endYear</code>, <code>endText</code>.
You can provide these list controls via query string or JSON body. If both are provided, the JSON body takes precedence.</p>
</details>
<p>For started/ended filters, the API compares using the earliest possible date from the partial date (missing month/day are treated as January/1). Series without start/end dates will not match the corresponding filters.</p>
<h4 id="validation--edge-cases-53">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>Providing optional lookup fields returns a single record; use the <code>filter...</code> parameters only for list queries. Precedence rules are defined in the Optional Lookup section.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-42">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;name&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Rings&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-58">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Series Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h4 id="common-examples-3">Common Examples</h4>
<ul>
<li><strong>All series started before 1990, sorted by start year (desc), limit 10:</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;filterStartedBefore&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1990-01-01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;startYear&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Series with &quot;harry&quot; in the name, sorted by name (asc), offset 20, limit 10:</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;filterName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;harry&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;name&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="get-bookseriesby-name">GET /bookseries/by-name</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific series by name.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-59">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/by-name</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-59">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-46">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Series id to confirm (query string or JSON body).</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>Series name to look up (query string or JSON body).</td>
</tr>
</tbody>
</table>
<p>If <code>name</code> is provided in both the query string and JSON body, the JSON body takes precedence.</p>
<h4 id="validation--edge-cases-54">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-43">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-59">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;startDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">42</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">29</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1954</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;29 July 1954&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;endDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">43</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1955</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;20 October 1955&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Epic fantasy series by J.R.R. Tolkien.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.tolkien.co.uk&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">101</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Series Name must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-bookseriesid">GET /bookseries/:id</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific series by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-60">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-60">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-55">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-60">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;startDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">42</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">29</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1954</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;29 July 1954&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;endDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">43</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1955</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;20 October 1955&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Epic fantasy series by J.R.R. Tolkien.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.tolkien.co.uk&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">101</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T09:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-14T16:58:41.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Series id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-bookseries">POST /bookseries</h3>
<ul>
<li><strong>Purpose:</strong> Create a new book series.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-61">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-61">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-47">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>2–150 characters; letters, numbers, spaces, and basic punctuation.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>string</td>
<td>No</td>
<td>Optional description (&lt;= 1000 characters).</td>
</tr>
<tr>
<td><code>website</code></td>
<td>string</td>
<td>No</td>
<td>Must be a valid URL starting with <code>http://</code> or <code>https://</code> (&lt;= 300 chars).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-56">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-44">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Epic fantasy series.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.tolkien.co.uk&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-61">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.33&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Epic fantasy series by J.R.R. Tolkien.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.tolkien.co.uk&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Series Name must be between 2 and 150 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A series with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-bookseries">PUT /bookseries</h3>
<ul>
<li><strong>Purpose:</strong> Update a series by id or name.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-62">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-62">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-48">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Series id to update.</td>
</tr>
<tr>
<td><code>targetName</code></td>
<td>string</td>
<td>No</td>
<td>Series name to update (used if <code>id</code> is not provided).</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>New series name.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>string</td>
<td>No</td>
<td>New description. Use <code>null</code> to clear.</td>
</tr>
<tr>
<td><code>website</code></td>
<td>string</td>
<td>No</td>
<td>New website. Use <code>null</code> to clear.</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>targetName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-57">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-45">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated series description.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-62">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.42&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated description.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.tolkien.co.uk&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-20T08:45:10.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide at least one field to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A series with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-bookseriesid">PUT /bookseries/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update a series by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-63">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-63">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-58">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-46">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated series description.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-63">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.42&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated description.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.tolkien.co.uk&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-20T08:45:10.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Series id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-bookseries">DELETE /bookseries</h3>
<ul>
<li><strong>Purpose:</strong> Delete a series by id or name.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-64">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-64">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-49">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Series id to delete.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>Series name to delete (used if <code>id</code> is not provided).</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-59">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-47">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-64">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a series id or name to delete.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-bookseriesid">DELETE /bookseries/:id</h3>
<ul>
<li><strong>Purpose:</strong> Delete a series by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-65">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-65">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-60">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-65">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Series id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-bookserieslink">POST /bookseries/link</h3>
<ul>
<li><strong>Purpose:</strong> Link a book to a series with an optional order.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-66">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/link</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-66">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-50">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>seriesId</code></td>
<td>integer</td>
<td>No</td>
<td>Series id to link.</td>
</tr>
<tr>
<td><code>seriesName</code></td>
<td>string</td>
<td>No</td>
<td>Series name to link (used if <code>seriesId</code> is not provided).</td>
</tr>
<tr>
<td><code>bookId</code></td>
<td>integer</td>
<td>Yes</td>
<td>Book id to link.</td>
</tr>
<tr>
<td><code>bookOrder</code></td>
<td>integer</td>
<td>No</td>
<td>Order of the book in the series (1-10000).</td>
</tr>
</tbody>
</table>
<p>If both <code>seriesId</code> and <code>seriesName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<p>Notes:</p>
<ul>
<li><code>bookId</code> must reference an existing book owned by the authenticated user.</li>
<li>Series <code>startDate</code> and <code>endDate</code> are derived from the linked books' <code>publicationDate</code>. Books without a publication date are ignored for date ranges.</li>
<li>If a link already exists for the same series and book, the API updates that link instead of returning a conflict. Only provided fields are updated; omitted fields remain unchanged.</li>
</ul>
<h4 id="validation--edge-cases-61">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-48">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-66">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.33&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book linked to series successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">77</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">101</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a valid bookId to link.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-bookserieslink">PUT /bookseries/link</h3>
<ul>
<li><strong>Purpose:</strong> Update a book-series link (book order).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-67">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/link</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-67">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-51">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>seriesId</code></td>
<td>integer</td>
<td>No</td>
<td>Series id to update.</td>
</tr>
<tr>
<td><code>seriesName</code></td>
<td>string</td>
<td>No</td>
<td>Series name to update (used if <code>seriesId</code> is not provided).</td>
</tr>
<tr>
<td><code>bookId</code></td>
<td>integer</td>
<td>Yes</td>
<td>Book id for the link.</td>
</tr>
<tr>
<td><code>bookOrder</code></td>
<td>integer</td>
<td>No</td>
<td>New order of the book in the series (1-10000). Use <code>null</code> to clear.</td>
</tr>
</tbody>
</table>
<p>If both <code>seriesId</code> and <code>seriesName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-62">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-49">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-67">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.42&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book-series link updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">77</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">101</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-20T08:45:10.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a valid bookId for the link.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Link not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book-series link could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-bookserieslink">DELETE /bookseries/link</h3>
<ul>
<li><strong>Purpose:</strong> Remove a book-series link.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-68">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/link</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-68">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-52">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>seriesId</code></td>
<td>integer</td>
<td>No</td>
<td>Series id to unlink.</td>
</tr>
<tr>
<td><code>seriesName</code></td>
<td>string</td>
<td>No</td>
<td>Series name to unlink (used if <code>seriesId</code> is not provided).</td>
</tr>
<tr>
<td><code>bookId</code></td>
<td>integer</td>
<td>Yes</td>
<td>Book id to unlink.</td>
</tr>
</tbody>
</table>
<p>If both <code>seriesId</code> and <code>seriesName</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-63">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested link does not exist, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-50">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-68">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book unlinked from series successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">101</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a valid bookId for the link.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-bookseriestrash">GET /bookseries/trash</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve book series that have been soft-deleted (moved to trash).</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-69">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/trash</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>None</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-69">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="example-responses-69">Example Responses</h4>
<ul>
<li><strong>Deleted Series Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.36&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Deleted series retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Middle-earth Chronicles&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;website&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://middle-earth.example&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;deletedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-01T12:41:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-10T08:11:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-10T08:11:10.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="post-bookseriesrestore">POST /bookseries/restore</h3>
<ul>
<li><strong>Purpose:</strong> Restore a soft-deleted book series from the trash.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-70">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/restore</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-70">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-53">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>Series id to restore.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Conditional</td>
<td>Series name to restore.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-64">Validation &amp; Edge Cases</h4>
<ul>
<li>At least one identifier must be provided.</li>
<li>If both <code>id</code> and <code>name</code> are provided, they must refer to the same record.</li>
<li>If multiple deleted series match the identifiers, the API returns <code>400</code> and requests a more specific identifier.</li>
</ul>
<h4 id="example-request-body-51">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Middle-earth Chronicles&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-70">Example Responses</h4>
<ul>
<li><strong>Restored (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.06&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series restored successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a series id or name to restore.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested series could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-bookseriesstats">GET /bookseries/stats</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve aggregate statistics about the user's book series.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-71">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookseries/stats</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-71">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-54">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fields</code></td>
<td>array</td>
<td>No</td>
<td>List of stats fields to compute. If omitted, all stats are returned.</td>
</tr>
</tbody>
</table>
<p>Available fields:</p>
<ul>
<li><code>total</code>: Count of active (non-deleted) series.</li>
<li><code>deleted</code>: Count of soft-deleted series.</li>
<li><code>withDescription</code>: Count of active series with a description.</li>
<li><code>withWebsite</code>: Count of active series with a website.</li>
<li><code>withBooks</code>: Count of active series linked to at least one book.</li>
<li><code>avgBooksPerSeries</code>: Average number of books per active series.</li>
<li><code>minBooksPerSeries</code>: Minimum number of books in any active series.</li>
<li><code>maxBooksPerSeries</code>: Maximum number of books in any active series.</li>
</ul>
<h4 id="validation--edge-cases-65">Validation &amp; Edge Cases</h4>
<ul>
<li>If any supplied field is unknown, the API returns <code>400 Validation Error</code>.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
</ul>
<h4 id="example-request-body-52">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;total&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;withBooks&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;avgBooksPerSeries&quot;</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-71">Example Responses</h4>
<ul>
<li><strong>Stats Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.71&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Series stats retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;stats&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;total&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;withBooks&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;avgBooksPerSeries&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3.2</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.11&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Unknown stats fields: hobbits.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="languages">Languages</h2>
<h3 id="get-languages">GET /languages</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all available languages (alphabetical).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-72">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/languages</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-72">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-55">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(none)</em></td>
<td>—</td>
<td>—</td>
<td>This endpoint does not accept a request body.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-66">Validation &amp; Edge Cases</h4>
<ul>
<li>If no languages exist, the API returns an empty list.</li>
<li>This endpoint does not accept a request body; any supplied body is ignored.</li>
</ul>
<h4 id="example-responses-72">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.78&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Languages retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;languages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Afrikaans&quot;</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;English&quot;</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Netherlands&quot;</span> <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 id="books">Books</h2>
<h3 id="get-book">GET /book</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all books for the authenticated user, or fetch a specific book by id, ISBN, or title.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-73">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-73">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-56">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>view</code></td>
<td>string</td>
<td>No</td>
<td><code>all</code> (default), <code>card</code>, or <code>nameOnly</code>.</td>
</tr>
<tr>
<td><code>nameOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When true, returns only <code>id</code> and <code>title</code> (overrides <code>view</code>).</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Limits list results (1-200).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Offset for list pagination (0+).</td>
</tr>
</tbody>
</table>
<h4 id="optional-lookup-query-or-body-4">Optional Lookup (query or body)</h4>
<p>When <code>id</code>, <code>isbn</code>, or <code>title</code> is provided (query string or JSON body), the endpoint returns a single book instead of a list.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Book id to fetch.</td>
</tr>
<tr>
<td><code>isbn</code></td>
<td>string</td>
<td>No</td>
<td>Book ISBN to fetch.</td>
</tr>
<tr>
<td><code>title</code></td>
<td>string</td>
<td>No</td>
<td>Book title to fetch.</td>
</tr>
</tbody>
</table>
<p>If multiple identifiers are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<p>Use the <code>filter...</code> parameters for list filtering to avoid conflicts with the single-record lookup.</p>
<p>Notes:</p>
<ul>
<li><code>view=all</code> includes <code>bookCopies</code>, <code>series</code>, <code>tags</code>, <code>languages</code>, and <code>authors</code>.</li>
</ul>
<details>
<summary>Filtering & Sorting Options</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sort</code></td>
<td>array</td>
<td>No</td>
<td>Array of <code>{ field, order }</code> objects (JSON body only).</td>
</tr>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>No</td>
<td>Comma-separated sort fields (query or body).</td>
</tr>
<tr>
<td><code>order</code></td>
<td>string</td>
<td>No</td>
<td>Comma-separated sort orders (<code>asc</code>/<code>desc</code>).</td>
</tr>
<tr>
<td><code>filterId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by exact id.</td>
</tr>
<tr>
<td><code>filterTitle</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on title.</td>
</tr>
<tr>
<td><code>filterSubtitle</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on subtitle.</td>
</tr>
<tr>
<td><code>filterIsbn</code></td>
<td>string</td>
<td>No</td>
<td>Exact ISBN match.</td>
</tr>
<tr>
<td><code>filterBookTypeId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by book type id.</td>
</tr>
<tr>
<td><code>filterPublisherId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by publisher id.</td>
</tr>
<tr>
<td><code>filterAuthorId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by author id.</td>
</tr>
<tr>
<td><code>filterSeriesId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by series id.</td>
</tr>
<tr>
<td><code>filterTag</code></td>
<td>string</td>
<td>No</td>
<td>Filter by tag name (normalised).</td>
</tr>
<tr>
<td><code>filterLanguageId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by language id.</td>
</tr>
<tr>
<td><code>filterLanguage</code></td>
<td>string</td>
<td>No</td>
<td>Filter by language name (normalised).</td>
</tr>
<tr>
<td><code>filterPageMin</code></td>
<td>integer</td>
<td>No</td>
<td>Minimum page count.</td>
</tr>
<tr>
<td><code>filterPageMax</code></td>
<td>integer</td>
<td>No</td>
<td>Maximum page count.</td>
</tr>
<tr>
<td><code>filterPublishedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for publication date.</td>
</tr>
<tr>
<td><code>filterPublishedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for publication date.</td>
</tr>
<tr>
<td><code>filterPublishedYear</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by publication year.</td>
</tr>
<tr>
<td><code>filterPublishedMonth</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by publication month.</td>
</tr>
<tr>
<td><code>filterPublishedDay</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by publication day.</td>
</tr>
<tr>
<td><code>filterCreatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAt</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time match for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>updatedAt</code>.</td>
</tr>
</tbody>
</table>
<p><code>sortBy</code> accepts: <code>id</code>, <code>title</code>, <code>subtitle</code>, <code>isbn</code>, <code>pageCount</code>, <code>createdAt</code>, <code>updatedAt</code>, <code>publicationDate</code>.
You can provide these list controls via query string or JSON body. If both are provided, the JSON body takes precedence.</p>
</details>
<h4 id="validation--edge-cases-67">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>Providing optional lookup fields returns a single record; use the <code>filter...</code> parameters only for list queries. Precedence rules are defined in the Optional Lookup section.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
<li>If multiple identifiers are provided and they do not match the same record, the API returns <code>400 Validation Error</code>.</li>
<li>If a title lookup matches multiple books, the API returns <code>409</code> and requires an id or ISBN to disambiguate.</li>
</ul>
<h4 id="example-request-body-53">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;view&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;card&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;title&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterTag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;fantasy&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterPublishedAfter&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1950-01-01&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-73">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Multiple Matches (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Multiple books matched.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Multiple books share this title. Please use id or ISBN.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide at least one field to update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-book">POST /book</h3>
<ul>
<li><strong>Purpose:</strong> Create a new book and link it to related entities.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-74">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-74">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-57">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>string</td>
<td>Yes</td>
<td>2–255 characters.</td>
</tr>
<tr>
<td><code>subtitle</code></td>
<td>string</td>
<td>No</td>
<td>Optional subtitle (&lt;= 255 characters).</td>
</tr>
<tr>
<td><code>isbn</code></td>
<td>string</td>
<td>No</td>
<td>ISBN (10–17 chars, digits/hyphen/X). Unique per user when provided.</td>
</tr>
<tr>
<td><code>publicationDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial Date Object.</td>
</tr>
<tr>
<td><code>pageCount</code></td>
<td>integer</td>
<td>No</td>
<td>Number of pages (1–10000).</td>
</tr>
<tr>
<td><code>coverImageUrl</code></td>
<td>string</td>
<td>No</td>
<td>Valid URL for a cover image.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>string</td>
<td>No</td>
<td>Optional description (&lt;= 2000 characters).</td>
</tr>
<tr>
<td><code>bookTypeId</code></td>
<td>integer or array</td>
<td>No</td>
<td>Book type id (single number or array with one number).</td>
</tr>
<tr>
<td><code>publisherId</code></td>
<td>integer or array</td>
<td>No</td>
<td>Publisher id (single number or array with one number).</td>
</tr>
<tr>
<td><code>authorIds</code></td>
<td>array</td>
<td>No</td>
<td>Array of author ids.</td>
</tr>
<tr>
<td><code>languageIds</code></td>
<td>array</td>
<td>No</td>
<td>Array of language ids.</td>
</tr>
<tr>
<td><code>languageNames</code></td>
<td>array</td>
<td>No</td>
<td>Array of language names (case-insensitive).</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>array</td>
<td>No</td>
<td>Array of tag strings (&lt;= 50 chars).</td>
</tr>
<tr>
<td><code>series</code></td>
<td>array</td>
<td>No</td>
<td>Array of series ids or objects with <code>seriesId</code> and optional <code>bookOrder</code>.</td>
</tr>
<tr>
<td><code>bookCopy</code></td>
<td>object</td>
<td>No</td>
<td>First book copy to create (see fields below).</td>
</tr>
<tr>
<td><code>bookCopies</code></td>
<td>array</td>
<td>No</td>
<td>Array of book copy objects; only the first entry is used.</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul>
<li>Tags are normalised and de-duplicated per user.</li>
<li>Series dates are derived from the linked books' <code>publicationDate</code>; <code>bookPublishedDate</code> is not accepted in requests.</li>
<li>If no <code>bookCopy</code> is provided, the API creates a blank copy so every book has at least one copy.</li>
<li>The response includes <code>series[].bookPublishedDate</code> derived from the book's <code>publicationDate</code>.</li>
</ul>
<p>Book copy fields:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>storageLocationId</code></td>
<td>integer</td>
<td>No</td>
<td>Storage location id for this copy.</td>
</tr>
<tr>
<td><code>storageLocationPath</code></td>
<td>string</td>
<td>No</td>
<td>Storage location path (e.g., <code>Home -&gt; Living Room</code>).</td>
</tr>
<tr>
<td><code>acquisitionStory</code></td>
<td>string</td>
<td>No</td>
<td>Free-text acquisition story (&lt;= 2000 chars).</td>
</tr>
<tr>
<td><code>acquisitionDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial Date Object.</td>
</tr>
<tr>
<td><code>acquiredFrom</code></td>
<td>string</td>
<td>No</td>
<td>Who the copy was acquired from (&lt;= 255 chars).</td>
</tr>
<tr>
<td><code>acquisitionType</code></td>
<td>string</td>
<td>No</td>
<td>Acquisition type (&lt;= 100 chars).</td>
</tr>
<tr>
<td><code>acquisitionLocation</code></td>
<td>string</td>
<td>No</td>
<td>Acquisition location (&lt;= 255 chars).</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>Additional notes (&lt;= 2000 chars).</td>
</tr>
</tbody>
</table>
<p>If both <code>storageLocationId</code> and <code>storageLocationPath</code> are provided, they must refer to the same location.</p>
<h4 id="validation--edge-cases-68">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-54">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;subtitle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Fellowship of the Ring&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;isbn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;978-0-261-10235-4&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;publicationDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">29</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1954</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;29 July 1954&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;pageCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">423</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;coverImageUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://example.com/lotr-fotr.jpg&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The first volume of The Lord of the Rings.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bookTypeId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;publisherId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;authorIds&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-number">1</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;languageNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;English&quot;</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Fantasy&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;Epic&quot;</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;bookCopy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;storageLocationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room -&gt; Shelf A&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;acquisitionStory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gifted for a birthday.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;acquisitionDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2010</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;21 December 2010&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;acquiredFrom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Family&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;acquisitionType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gift&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;acquisitionLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Cape Town&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover edition.&quot;</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-74">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;4.33&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;subtitle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Fellowship of the Ring&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isbn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;978-0-261-10235-4&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;publicationDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">61</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">29</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1954</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;29 July 1954&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;pageCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">423</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookTypeId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;publisherId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;coverImageUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://example.com/lotr-fotr.jpg&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The first volume of The Lord of the Rings.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;languages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;English&quot;</span> <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Fantasy&quot;</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Epic&quot;</span> <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;bookPublishedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">61</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">29</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1954</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;29 July 1954&quot;</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookCopies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">502</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;storageLocationId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;storageLocationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room -&gt; Shelf A&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionStory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gifted for a birthday.&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">71</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2010</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;21 December 2010&quot;</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquiredFrom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Family&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gift&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Cape Town&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover edition.&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Title must be between 2 and 255 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A book with this ISBN already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-book">PUT /book</h3>
<ul>
<li><strong>Purpose:</strong> Update a book by id, ISBN, or title.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-75">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-75">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-58">Body Parameters</h4>
<p>Identification (one of):</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Book id to update.</td>
</tr>
<tr>
<td><code>isbn</code></td>
<td>string</td>
<td>No</td>
<td>Book ISBN to update.</td>
</tr>
<tr>
<td><code>title</code></td>
<td>string</td>
<td>No</td>
<td>Book title to update (returns 409 if multiple matches).</td>
</tr>
</tbody>
</table>
<p>If multiple identifiers are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<p>Updatable fields (all optional):</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>string</td>
<td>New title.</td>
</tr>
<tr>
<td><code>subtitle</code></td>
<td>string</td>
<td>New subtitle (use <code>null</code> to clear).</td>
</tr>
<tr>
<td><code>isbn</code></td>
<td>string</td>
<td>New ISBN (use <code>null</code> to clear).</td>
</tr>
<tr>
<td><code>publicationDate</code></td>
<td>object</td>
<td>Partial Date Object (use <code>null</code> to clear).</td>
</tr>
<tr>
<td><code>pageCount</code></td>
<td>integer</td>
<td>New page count.</td>
</tr>
<tr>
<td><code>coverImageUrl</code></td>
<td>string</td>
<td>New cover image URL (use <code>null</code> to clear).</td>
</tr>
<tr>
<td><code>description</code></td>
<td>string</td>
<td>New description (use <code>null</code> to clear).</td>
</tr>
<tr>
<td><code>bookTypeId</code></td>
<td>integer or array</td>
<td>New book type id (single number or array with one number).</td>
</tr>
<tr>
<td><code>publisherId</code></td>
<td>integer or array</td>
<td>New publisher id (single number or array with one number).</td>
</tr>
<tr>
<td><code>authorIds</code></td>
<td>array</td>
<td>Replace author links (empty array clears).</td>
</tr>
<tr>
<td><code>languageIds</code></td>
<td>array</td>
<td>Replace language links (empty array clears).</td>
</tr>
<tr>
<td><code>languageNames</code></td>
<td>array</td>
<td>Replace language links by name (empty array clears).</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>array</td>
<td>Replace tags (empty array clears).</td>
</tr>
<tr>
<td><code>series</code></td>
<td>array</td>
<td>Replace series links (empty array clears).</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul>
<li>If a relation array is provided, the API replaces existing links with the supplied list.</li>
<li>Series dates are derived from the linked books' <code>publicationDate</code>; <code>bookPublishedDate</code> is not accepted in requests.</li>
</ul>
<h4 id="validation--edge-cases-69">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
<li>If a title lookup matches multiple books, the API returns <code>409</code> and requires an id or ISBN to disambiguate.</li>
</ul>
<h4 id="example-request-body-55">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;pageCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">430</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Fantasy&quot;</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-75">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.42&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Lord of the Rings&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;subtitle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Fellowship of the Ring&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isbn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;978-0-261-10235-4&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;publicationDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">61</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">29</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1954</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;29 July 1954&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;pageCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">423</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookTypeId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;publisherId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;coverImageUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://example.com/lotr-fotr.jpg&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated description.&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;languages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;English&quot;</span> <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Fantasy&quot;</span> <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;bookPublishedDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">61</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">29</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1954</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;29 July 1954&quot;</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookCopies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">502</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;storageLocationId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;storageLocationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room -&gt; Shelf A&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionStory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gifted for a birthday.&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">71</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2010</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;21 December 2010&quot;</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquiredFrom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Family&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gift&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Cape Town&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover edition.&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-20T08:45:10.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Multiple Matches (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Multiple books matched.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Multiple books share this title. Please use id or ISBN.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-bookid">PUT /book/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update a book by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-76">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-76">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-70">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-56">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;pageCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">430</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Fantasy&quot;</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;seriesId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;bookOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-76">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Book id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-book">DELETE /book</h3>
<ul>
<li><strong>Purpose:</strong> Delete a book by id, ISBN, or title using a JSON request body.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-77">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-77">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-59">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Book id to delete.</td>
</tr>
<tr>
<td><code>isbn</code></td>
<td>string</td>
<td>No</td>
<td>Book ISBN to delete.</td>
</tr>
<tr>
<td><code>title</code></td>
<td>string</td>
<td>No</td>
<td>Book title to delete (returns 409 if multiple matches).</td>
</tr>
</tbody>
</table>
<p>At least one identifier is required. If multiple identifiers are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="example-request-body-57">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="validation--edge-cases-71">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous title matches) return <code>409</code>.</li>
</ul>
<h4 id="example-responses-77">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a book id, ISBN, or title to delete.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-bookid">DELETE /book/:id</h3>
<ul>
<li><strong>Purpose:</strong> Delete a book by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-78">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-78">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-72">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-responses-78">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Invalid ID (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Book id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-booktrash">GET /book/trash</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve books that have been soft-deleted (moved to trash).</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-79">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book/trash</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>None</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-79">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="example-responses-79">Example Responses</h4>
<ul>
<li><strong>Deleted Books Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.53&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Deleted books retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">44</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Hobbit&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;subtitle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;isbn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9780261103344&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;publicationDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">101</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1937</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1937&quot;</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;pageCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">310</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;coverImageUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;bookTypeId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;publisherId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;deletedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-01T12:41:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-11-12T10:04:22.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-22T08:15:10.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 id="post-bookrestore">POST /book/restore</h3>
<ul>
<li><strong>Purpose:</strong> Restore a soft-deleted book from the trash.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-80">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book/restore</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-80">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-60">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>Book id to restore.</td>
</tr>
<tr>
<td><code>title</code></td>
<td>string</td>
<td>Conditional</td>
<td>Book title to restore.</td>
</tr>
<tr>
<td><code>isbn</code></td>
<td>string</td>
<td>Conditional</td>
<td>Book ISBN to restore.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-73">Validation &amp; Edge Cases</h4>
<ul>
<li>At least one identifier must be provided.</li>
<li>If multiple identifiers are provided, they must refer to the same record.</li>
<li>If multiple deleted books match the identifiers, the API returns <code>400</code> and requests a more specific identifier.</li>
</ul>
<h4 id="example-request-body-58">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;isbn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9780261103344&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-80">Example Responses</h4>
<ul>
<li><strong>Restored (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.04&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book restored successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">44</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.19&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a book id, title, or ISBN to restore.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.74&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-bookstats">GET /book/stats</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve aggregate statistics about the user's books.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-81">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/book/stats</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-81">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-61">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fields</code></td>
<td>array</td>
<td>No</td>
<td>List of stats fields to compute. If omitted, all stats are returned.</td>
</tr>
</tbody>
</table>
<p>Available fields:</p>
<ul>
<li><code>total</code>: Count of active (non-deleted) books.</li>
<li><code>deleted</code>: Count of soft-deleted books.</li>
<li><code>withIsbn</code>: Count of active books with an ISBN.</li>
<li><code>withoutIsbn</code>: Count of active books without an ISBN.</li>
<li><code>withPublicationDate</code>: Count of active books with a publication date.</li>
<li><code>withCoverImage</code>: Count of active books with a cover image URL.</li>
<li><code>withDescription</code>: Count of active books with a description.</li>
<li><code>withBookType</code>: Count of active books with a book type.</li>
<li><code>withPublisher</code>: Count of active books with a publisher.</li>
<li><code>avgPageCount</code>: Average page count across active books (null if none).</li>
<li><code>minPageCount</code>: Minimum page count across active books (null if none).</li>
<li><code>maxPageCount</code>: Maximum page count across active books (null if none).</li>
<li><code>withTags</code>: Count of active books linked to at least one tag.</li>
<li><code>withLanguages</code>: Count of active books linked to at least one language.</li>
<li><code>withAuthors</code>: Count of active books linked to at least one author.</li>
<li><code>withSeries</code>: Count of active books linked to at least one series.</li>
<li><code>totalCopies</code>: Total number of book copies across active books.</li>
</ul>
<h4 id="validation--edge-cases-74">Validation &amp; Edge Cases</h4>
<ul>
<li>If any supplied field is unknown, the API returns <code>400 Validation Error</code>.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
</ul>
<h4 id="example-request-body-59">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;total&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;withIsbn&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;totalCopies&quot;</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-81">Example Responses</h4>
<ul>
<li><strong>Stats Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.66&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book stats retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;stats&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;total&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">120</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;withIsbn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">80</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;totalCopies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">145</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.21&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Unknown stats fields: dragoncount.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="storage-locations">Storage Locations</h2>
<h3 id="get-storagelocation">GET /storagelocation</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all storage locations or fetch a single location by id/path.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-82">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/storagelocation</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-82">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-62">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Location id to fetch (query or body).</td>
</tr>
<tr>
<td><code>path</code></td>
<td>string</td>
<td>No</td>
<td>Location path to fetch (query or body).</td>
</tr>
<tr>
<td><code>nameOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When true, returns only <code>id</code>, <code>name</code>, and <code>path</code>.</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Limit list results (1–200).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Offset for list pagination (0+).</td>
</tr>
</tbody>
</table>
<details>
<summary>Filtering & Sorting Options</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>No</td>
<td><code>id</code>, <code>name</code>, <code>path</code>, <code>parentId</code>, <code>notes</code>, <code>createdAt</code>, <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>order</code></td>
<td>string</td>
<td>No</td>
<td><code>asc</code> or <code>desc</code>.</td>
</tr>
<tr>
<td><code>filterId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by exact id.</td>
</tr>
<tr>
<td><code>filterName</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on name.</td>
</tr>
<tr>
<td><code>filterParentId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by parent id.</td>
</tr>
<tr>
<td><code>filterRootOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When true, return only root locations.</td>
</tr>
<tr>
<td><code>filterPath</code></td>
<td>string</td>
<td>No</td>
<td>Exact path match.</td>
</tr>
<tr>
<td><code>filterPathContains</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive path match.</td>
</tr>
</tbody>
</table>
</details>
<p>If both <code>id</code> and <code>path</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-75">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-60">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;path&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;asc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterPathContains&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-82">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;sortBy must be one of: id, name, path, parentId, notes, createdAt, updatedAt.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested storage location could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-storagelocation">POST /storagelocation</h3>
<ul>
<li><strong>Purpose:</strong> Create a new storage location (base or nested).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-83">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/storagelocation</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-83">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-63">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>2–150 characters.</td>
</tr>
<tr>
<td><code>parentId</code></td>
<td>integer</td>
<td>No</td>
<td>Parent location id (omit or <code>null</code> for base).</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>Optional notes (&lt;= 2000 chars).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-76">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-61">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shelf A&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;parentId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Top row&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-83">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shelf A&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;parentId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Top row&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room -&gt; Shelf A&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T10:12:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T10:12:11.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Parent location could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.04&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A storage location with this name already exists at the same level.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-storagelocation">PUT /storagelocation</h3>
<ul>
<li><strong>Purpose:</strong> Update a storage location by id or path.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-84">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/storagelocation</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-84">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-64">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Location id to update.</td>
</tr>
<tr>
<td><code>path</code></td>
<td>string</td>
<td>No</td>
<td>Location path to update.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>New name.</td>
</tr>
<tr>
<td><code>parentId</code></td>
<td>integer</td>
<td>No</td>
<td>New parent id (use <code>null</code> to move to root).</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>New notes (use <code>null</code> to clear).</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>path</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-77">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-62">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shelf A&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;parentId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated notes&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-84">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shelf A&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;parentId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated notes&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room -&gt; Shelf A&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T10:12:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-12T09:31:00.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Parent location cannot be a child of this location.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested storage location could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-storagelocationid">PUT /storagelocation/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update a storage location by id (path parameter).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-85">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/storagelocation/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-85">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-65">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>No</td>
<td>New name.</td>
</tr>
<tr>
<td><code>parentId</code></td>
<td>integer</td>
<td>No</td>
<td>New parent id (use <code>null</code> to move to root).</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>New notes (use <code>null</code> to clear).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-78">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>The id in the URL path must be a valid integer.</li>
</ul>
<h4 id="example-request-body-63">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shelf A&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated notes&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-85">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shelf A&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;parentId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Updated notes&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room -&gt; Shelf A&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T10:12:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-12T09:31:00.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Parent location cannot be a child of this location.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested storage location could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-storagelocation">DELETE /storagelocation</h3>
<ul>
<li><strong>Purpose:</strong> Delete a storage location by id or path.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-86">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/storagelocation</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-86">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-66">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Location id to delete.</td>
</tr>
<tr>
<td><code>path</code></td>
<td>string</td>
<td>No</td>
<td>Location path to delete.</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>path</code> are provided, they must refer to the same record or the API returns <code>400 Validation Error</code>.</p>
<h4 id="validation--edge-cases-79">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-64">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-86">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.64&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shelf A&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested storage location could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-storagelocationid">DELETE /storagelocation/:id</h3>
<ul>
<li><strong>Purpose:</strong> Delete a storage location by id (path parameter).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-87">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/storagelocation/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-87">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-67">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(none)</em></td>
<td>—</td>
<td>—</td>
<td>This endpoint does not accept a request body.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-80">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>The id in the URL path must be a valid integer.</li>
</ul>
<h4 id="example-responses-87">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.64&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Shelf A&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Storage location id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested storage location could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-storagelocationidbookcopies">GET /storagelocation/:id/bookcopies</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve book copies stored in a location (optionally recursive).</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-88">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/storagelocation/:id/bookcopies</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-88">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-68">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>recursive</code></td>
<td>boolean</td>
<td>No</td>
<td>Include book copies from nested child locations (default: <code>true</code>).</td>
</tr>
<tr>
<td><code>path</code></td>
<td>string</td>
<td>No</td>
<td>Storage location path to validate against the <code>:id</code> path param.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-81">Validation &amp; Edge Cases</h4>
<ul>
<li><code>:id</code> must be a valid integer.</li>
<li>If <code>path</code> is provided, it must resolve to the same location as <code>:id</code>.</li>
<li>If the location cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-65">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;recursive&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-88">Example Responses</h4>
<ul>
<li><strong>Book Copies Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copies retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;locationId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;locationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;recursive&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookCopies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;book&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">44</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Hobbit&quot;</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;subtitle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;isbn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9780261103344&quot;</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;storageLocationId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;storageLocationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionStory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquiredFrom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-12T08:11:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-12T08:11:10.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.09&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Storage location id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.74&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested storage location could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-storagelocationbookcopies">GET /storagelocation/bookcopies</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve book copies by storage location id or path (optionally recursive).</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-89">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/storagelocation/bookcopies</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-89">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-69">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>Storage location id to lookup.</td>
</tr>
<tr>
<td><code>path</code></td>
<td>string</td>
<td>Conditional</td>
<td>Storage location path to lookup (e.g. <code>Home -&gt; Living Room</code>).</td>
</tr>
<tr>
<td><code>recursive</code></td>
<td>boolean</td>
<td>No</td>
<td>Include book copies from nested child locations (default: <code>true</code>).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-82">Validation &amp; Edge Cases</h4>
<ul>
<li>Provide at least one identifier (<code>id</code> or <code>path</code>).</li>
<li>If both <code>id</code> and <code>path</code> are provided, they must refer to the same record.</li>
<li>If the location cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-66">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;recursive&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-89">Example Responses</h4>
<ul>
<li><strong>Book Copies Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.87&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copies retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;locationId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;locationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;recursive&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;bookCopies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;book&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">44</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;The Hobbit&quot;</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;subtitle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;isbn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9780261103344&quot;</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;storageLocationId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;storageLocationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionStory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquiredFrom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;acquisitionLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-12T08:11:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-12T08:11:10.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.03&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Please provide a storage location id or path.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.64&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Storage location not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested storage location could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="book-copies">Book Copies</h2>
<h3 id="get-bookcopy">GET /bookcopy</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all book copies, or fetch a specific copy by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-90">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookcopy</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-90">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-70">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Book copy id to fetch.</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Limit list results (1–200).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Offset for list pagination (0+).</td>
</tr>
<tr>
<td><code>includeNested</code></td>
<td>boolean</td>
<td>No</td>
<td>When filtering by location, include nested locations (default true).</td>
</tr>
</tbody>
</table>
<h4 id="optional-lookup-query-or-body-5">Optional Lookup (query or body)</h4>
<p>When <code>id</code> is provided (query string or JSON body), the endpoint returns a single book copy instead of a list.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Book copy id to fetch.</td>
</tr>
</tbody>
</table>
<details>
<summary>Filtering & Sorting Options</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>No</td>
<td><code>id</code>, <code>bookId</code>, <code>storageLocationId</code>, <code>acquisitionStory</code>, <code>acquisitionDateId</code>, <code>acquiredFrom</code>, <code>acquisitionType</code>, <code>acquisitionLocation</code>, <code>notes</code>, <code>createdAt</code>, <code>updatedAt</code>, <code>acquisitionDay</code>, <code>acquisitionMonth</code>, <code>acquisitionYear</code>, <code>acquisitionText</code>, <code>acquisitionDate</code>.</td>
</tr>
<tr>
<td><code>order</code></td>
<td>string</td>
<td>No</td>
<td><code>asc</code> or <code>desc</code>.</td>
</tr>
<tr>
<td><code>filterId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by exact copy id.</td>
</tr>
<tr>
<td><code>filterBookId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by book id.</td>
</tr>
<tr>
<td><code>filterStorageLocationId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by storage location id.</td>
</tr>
<tr>
<td><code>filterStorageLocationPath</code></td>
<td>string</td>
<td>No</td>
<td>Filter by storage location path (e.g., <code>Home -&gt; Living Room</code>).</td>
</tr>
<tr>
<td><code>filterAcquisitionStory</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match.</td>
</tr>
<tr>
<td><code>filterAcquiredFrom</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match.</td>
</tr>
<tr>
<td><code>filterAcquisitionType</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match.</td>
</tr>
<tr>
<td><code>filterAcquisitionLocation</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match.</td>
</tr>
<tr>
<td><code>filterNotes</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match.</td>
</tr>
<tr>
<td><code>filterAcquisitionDateId</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by acquisition date id.</td>
</tr>
<tr>
<td><code>filterAcquisitionDay</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by acquisition day.</td>
</tr>
<tr>
<td><code>filterAcquisitionMonth</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by acquisition month.</td>
</tr>
<tr>
<td><code>filterAcquisitionYear</code></td>
<td>integer</td>
<td>No</td>
<td>Filter by acquisition year.</td>
</tr>
<tr>
<td><code>filterAcquisitionText</code></td>
<td>string</td>
<td>No</td>
<td>Case-insensitive partial match on acquisition date text.</td>
</tr>
<tr>
<td><code>filterAcquiredBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for acquisition date.</td>
</tr>
<tr>
<td><code>filterAcquiredAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for acquisition date.</td>
</tr>
<tr>
<td><code>filterCreatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedBefore</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time upper bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAfter</code></td>
<td>string</td>
<td>No</td>
<td>ISO date/time lower bound for <code>updatedAt</code>.</td>
</tr>
</tbody>
</table>
</details>
<p>Notes:</p>
<ul>
<li>Use <code>filterStorageLocationId</code> or <code>filterStorageLocationPath</code> with <code>includeNested=true</code> to list all copies under a location tree.</li>
</ul>
<h4 id="validation--edge-cases-83">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>Providing optional lookup fields returns a single record; use the <code>filter...</code> parameters only for list queries. Precedence rules are defined in the Optional Lookup section.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-67">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;filterStorageLocationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;includeNested&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;createdAt&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-90">Example Responses</h4>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;filterStorageLocationId must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book copy could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-bookcopy">POST /bookcopy</h3>
<ul>
<li><strong>Purpose:</strong> Add a new book copy to a book.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-91">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookcopy</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-91">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-71">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bookId</code></td>
<td>integer</td>
<td>Yes</td>
<td>Book id to attach the copy to.</td>
</tr>
<tr>
<td><code>storageLocationId</code></td>
<td>integer</td>
<td>No</td>
<td>Storage location id for this copy.</td>
</tr>
<tr>
<td><code>storageLocationPath</code></td>
<td>string</td>
<td>No</td>
<td>Storage location path (e.g., <code>Home -&gt; Living Room</code>).</td>
</tr>
<tr>
<td><code>acquisitionStory</code></td>
<td>string</td>
<td>No</td>
<td>Free-text acquisition story (&lt;= 2000 chars).</td>
</tr>
<tr>
<td><code>acquisitionDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial Date Object.</td>
</tr>
<tr>
<td><code>acquiredFrom</code></td>
<td>string</td>
<td>No</td>
<td>Who the copy was acquired from (&lt;= 255 chars).</td>
</tr>
<tr>
<td><code>acquisitionType</code></td>
<td>string</td>
<td>No</td>
<td>Acquisition type (&lt;= 100 chars).</td>
</tr>
<tr>
<td><code>acquisitionLocation</code></td>
<td>string</td>
<td>No</td>
<td>Acquisition location (&lt;= 255 chars).</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>Additional notes (&lt;= 2000 chars).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-84">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-68">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;bookId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">22</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;storageLocationPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Home -&gt; Living Room -&gt; Shelf A&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;acquisitionStory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Found at a local book fair.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;acquisitionDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2022</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;12 June 2022&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;acquiredFrom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Second-hand fair&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;acquisitionType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Second-hand&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;acquisitionLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Cape Town&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Signed by the author.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-91">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">503</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Book id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-bookcopy">PUT /bookcopy</h3>
<ul>
<li><strong>Purpose:</strong> Update a book copy by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-92">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookcopy</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-92">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-72">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Yes</td>
<td>Book copy id to update.</td>
</tr>
<tr>
<td><code>storageLocationId</code></td>
<td>integer</td>
<td>No</td>
<td>New storage location id.</td>
</tr>
<tr>
<td><code>storageLocationPath</code></td>
<td>string</td>
<td>No</td>
<td>New storage location path.</td>
</tr>
<tr>
<td><code>acquisitionStory</code></td>
<td>string</td>
<td>No</td>
<td>New acquisition story.</td>
</tr>
<tr>
<td><code>acquisitionDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial Date Object (use <code>null</code> to clear).</td>
</tr>
<tr>
<td><code>acquiredFrom</code></td>
<td>string</td>
<td>No</td>
<td>New acquired-from value.</td>
</tr>
<tr>
<td><code>acquisitionType</code></td>
<td>string</td>
<td>No</td>
<td>New acquisition type.</td>
</tr>
<tr>
<td><code>acquisitionLocation</code></td>
<td>string</td>
<td>No</td>
<td>New acquisition location.</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>New notes.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-85">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-69">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">503</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;storageLocationId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;acquisitionStory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gift from a friend.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Dust jacket included.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-92">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.90&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">503</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Storage location id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book copy could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-bookcopyid">PUT /bookcopy/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update a book copy by id (path parameter).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-93">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookcopy/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-93">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-73">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>storageLocationId</code></td>
<td>integer</td>
<td>No</td>
<td>New storage location id.</td>
</tr>
<tr>
<td><code>storageLocationPath</code></td>
<td>string</td>
<td>No</td>
<td>New storage location path.</td>
</tr>
<tr>
<td><code>acquisitionStory</code></td>
<td>string</td>
<td>No</td>
<td>New acquisition story.</td>
</tr>
<tr>
<td><code>acquisitionDate</code></td>
<td>object</td>
<td>No</td>
<td>Partial Date Object (use <code>null</code> to clear).</td>
</tr>
<tr>
<td><code>acquiredFrom</code></td>
<td>string</td>
<td>No</td>
<td>New acquired-from value.</td>
</tr>
<tr>
<td><code>acquisitionType</code></td>
<td>string</td>
<td>No</td>
<td>New acquisition type.</td>
</tr>
<tr>
<td><code>acquisitionLocation</code></td>
<td>string</td>
<td>No</td>
<td>New acquisition location.</td>
</tr>
<tr>
<td><code>notes</code></td>
<td>string</td>
<td>No</td>
<td>New notes.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-86">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>The id in the URL path must be a valid integer.</li>
</ul>
<h4 id="example-request-body-70">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;storageLocationId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;acquisitionStory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Gift from a friend.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;notes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Dust jacket included.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-93">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.90&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">503</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Storage location id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book copy could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-bookcopy">DELETE /bookcopy</h3>
<ul>
<li><strong>Purpose:</strong> Delete a book copy by id.</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-94">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookcopy</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-94">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-74">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Yes</td>
<td>Book copy id to delete.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-87">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-71">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">503</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-94">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.64&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">503</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy required.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A book must have at least one copy.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book copy could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-bookcopyid">DELETE /bookcopy/:id</h3>
<ul>
<li><strong>Purpose:</strong> Delete a book copy by id (path parameter).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-95">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/bookcopy/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-95">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-75">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(none)</em></td>
<td>—</td>
<td>—</td>
<td>This endpoint does not accept a request body.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-88">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>Conflicts (for example, duplicate identifying values or ambiguous matches) return <code>409</code>.</li>
<li>The id in the URL path must be a valid integer.</li>
</ul>
<h4 id="example-responses-95">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.64&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">503</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy required.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A book must have at least one copy.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Book copy not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested book copy could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Book copy id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="tags">Tags</h2>
<h3 id="get-tags">GET /tags</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all tags for the authenticated user (alphabetical order).</li>
<li><strong>Authentication:</strong> Access token required.</li>
</ul>
<h4 id="request-overview-96">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/tags</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-96">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-76">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(none)</em></td>
<td>—</td>
<td>—</td>
<td>This endpoint does not accept a request body.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-89">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If no tags exist, the API returns an empty list.</li>
</ul>
<h4 id="example-responses-96">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.40&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tags retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Fantasy&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-05T08:15:23.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-05T08:15:23.000Z&quot;</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Adventure&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-07T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-07T10:02:11.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 id="search">Search</h2>
<h3 id="get-search">GET /search</h3>
<ul>
<li><strong>Purpose:</strong> Global lookup across books, authors, publishers, series, and tags.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-97">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/search</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-97">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-77">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>q</code></td>
<td>string</td>
<td>Yes</td>
<td>Search query string.</td>
</tr>
<tr>
<td><code>types</code></td>
<td>array or string</td>
<td>No</td>
<td>Filter by entity types (<code>books</code>, <code>authors</code>, <code>publishers</code>, <code>series</code>, <code>tags</code>).</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Results per type (1–50, default 10).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Offset for pagination (0–10000).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-90">Validation &amp; Edge Cases</h4>
<ul>
<li><code>q</code> is required.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
</ul>
<h4 id="example-request-body-72">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;q&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hogwarts&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;types&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;books&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;series&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-97">Example Responses</h4>
<ul>
<li><strong>Search Results (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.44&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Search results retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hogwarts&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;results&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">101</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry Potter and the Philosopher&#x27;s Stone&quot;</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;subtitle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry Potter&quot;</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Search query (q) must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="importexport">Import/Export</h2>
<h3 id="get-export">GET /export</h3>
<ul>
<li><strong>Purpose:</strong> Export the user's library as JSON or CSV.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-98">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/export</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-98">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-78">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>format</code></td>
<td>string</td>
<td>No</td>
<td><code>json</code> or <code>csv</code> (default: <code>json</code>).</td>
</tr>
<tr>
<td><code>entity</code></td>
<td>string</td>
<td>No</td>
<td><code>all</code>, <code>books</code>, <code>authors</code>, <code>publishers</code>, <code>bookseries</code>, <code>booktypes</code>, <code>tags</code>, <code>languages</code>, <code>storagelocations</code>.</td>
</tr>
<tr>
<td><code>includeDeleted</code></td>
<td>boolean</td>
<td>No</td>
<td>Include soft-deleted records (default: <code>false</code>).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-91">Validation &amp; Edge Cases</h4>
<ul>
<li><code>format</code> must be <code>json</code> or <code>csv</code>.</li>
<li><code>entity</code> must match a supported export entity.</li>
<li>CSV exports require a specific <code>entity</code> (not <code>all</code>).</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
</ul>
<h4 id="example-request-body-73">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;format&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;json&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;entity&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;all&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;includeDeleted&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-98">Example Responses</h4>
<ul>
<li><strong>Export Generated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.31&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Export generated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;format&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;json&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;entity&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;all&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;exportedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-02T16:03:10.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;bookTypes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hardcover&quot;</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-01T10:12:41.000Z&quot;</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-12-01T10:12:41.000Z&quot;</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;publishers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;bookSeries&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;languages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;storageLocations&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.05&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;CSV export requires a specific entity.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-import">POST /import</h3>
<ul>
<li><strong>Purpose:</strong> Import library data from JSON or CSV, with optional dry-run validation.</li>
<li><strong>Authentication:</strong> Access token or API key required.</li>
</ul>
<h4 id="request-overview-99">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/import</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code> or <code>X-API-Key: &lt;apiKey&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-99">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>Conditional</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Required if <code>X-API-Key</code> is not provided.</td>
</tr>
<tr>
<td><code>X-API-Key</code></td>
<td>Conditional</td>
<td><code>bk_&lt;token&gt;</code></td>
<td>Required if <code>Authorization</code> is not provided.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-79">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>format</code></td>
<td>string</td>
<td>No</td>
<td><code>json</code> or <code>csv</code> (default: <code>json</code>).</td>
</tr>
<tr>
<td><code>entity</code></td>
<td>string</td>
<td>No</td>
<td><code>all</code>, <code>books</code>, <code>authors</code>, <code>publishers</code>, <code>bookseries</code>, <code>booktypes</code>, <code>tags</code>, <code>languages</code>, <code>storagelocations</code>.</td>
</tr>
<tr>
<td><code>dryRun</code></td>
<td>boolean</td>
<td>No</td>
<td>When <code>true</code>, validates without inserting data.</td>
</tr>
<tr>
<td><code>data</code></td>
<td>object or array</td>
<td>Conditional</td>
<td>JSON payload (required when <code>format</code> is <code>json</code>).</td>
</tr>
<tr>
<td><code>csv</code></td>
<td>string</td>
<td>Conditional</td>
<td>CSV payload (required when <code>format</code> is <code>csv</code>).</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-92">Validation &amp; Edge Cases</h4>
<ul>
<li><code>format</code> must be <code>json</code> or <code>csv</code>.</li>
<li><code>entity</code> must match a supported import entity.</li>
<li>For CSV imports, provide a single entity and include a header row.</li>
<li>For JSON imports, <code>data</code> may be an object with keys such as <code>authors</code>, <code>publishers</code>, <code>bookSeries</code>, <code>tags</code>, <code>bookTypes</code>, <code>languages</code>, <code>storageLocations</code>, and <code>books</code>.</li>
<li>For partial dates, use the shared <a href="#partial-date-object">Partial Date Object</a> shape.</li>
</ul>
<h4 id="example-request-body-74">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;format&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;json&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;entity&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;authors&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;dryRun&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;J.R.R. Tolkien&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;firstNames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;John Ronald Reuel&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;lastName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tolkien&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;birthDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1892</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3 January 1892&quot;</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;deceased&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;deathDate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;day&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;month&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;year&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1973</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2 September 1973&quot;</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;bio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Author of The Hobbit and The Lord of the Rings.&quot;</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-99">Example Responses</h4>
<ul>
<li><strong>Import Summary (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.58&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Import completed.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;summary&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;entity&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;authors&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;format&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;json&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;dryRun&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;processed&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;created&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;updated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.02&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;CSV content must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h2 id="admin">Admin</h2>
<h3 id="get-adminusers">GET /admin/users</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve all users, or fetch a single user when <code>id</code> or <code>email</code> is provided.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-100">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-100">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-80">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nameOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When <code>true</code>, returns only <code>id</code>, <code>email</code>, and <code>fullName</code>.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation check; must match the user's email if provided.</td>
</tr>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>No</td>
<td>Sort key for list responses; default <code>email</code>.</td>
</tr>
<tr>
<td><code>order</code></td>
<td>string</td>
<td>No</td>
<td>Sort order: <code>asc</code> or <code>desc</code>; default <code>asc</code>.</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>integer</td>
<td>No</td>
<td>Maximum results to return (max 200).</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>integer</td>
<td>No</td>
<td>Results offset (for pagination).</td>
</tr>
</tbody>
</table>
<h4 id="optional-lookup-query-or-body-6">Optional Lookup (query or body)</h4>
<p>When <code>id</code> or <code>email</code> is provided, the endpoint returns a single user instead of a list.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>User id to fetch.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>User email address to fetch.</td>
</tr>
</tbody>
</table>
<p>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user. A mismatch returns <code>400 Validation Error</code>.</p>
<details>
<summary>Filtering and Sorting Options</summary>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filterId</code></td>
<td>integer</td>
<td>Exact match on user id.</td>
</tr>
<tr>
<td><code>filterEmail</code></td>
<td>string</td>
<td>Case-insensitive partial match on email.</td>
</tr>
<tr>
<td><code>filterFullName</code></td>
<td>string</td>
<td>Case-insensitive partial match on full name.</td>
</tr>
<tr>
<td><code>filterPreferredName</code></td>
<td>string</td>
<td>Case-insensitive partial match on preferred name.</td>
</tr>
<tr>
<td><code>filterRole</code></td>
<td>string</td>
<td>Exact match: <code>user</code> or <code>admin</code>.</td>
</tr>
<tr>
<td><code>filterIsVerified</code></td>
<td>boolean</td>
<td>Match verified users.</td>
</tr>
<tr>
<td><code>filterIsDisabled</code></td>
<td>boolean</td>
<td>Match disabled users.</td>
</tr>
<tr>
<td><code>filterCreatedAt</code></td>
<td>string</td>
<td>ISO date/time match for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAt</code></td>
<td>string</td>
<td>ISO date/time match for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedAfter</code></td>
<td>string</td>
<td>ISO date/time lower bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterCreatedBefore</code></td>
<td>string</td>
<td>ISO date/time upper bound for <code>createdAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedAfter</code></td>
<td>string</td>
<td>ISO date/time lower bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterUpdatedBefore</code></td>
<td>string</td>
<td>ISO date/time upper bound for <code>updatedAt</code>.</td>
</tr>
<tr>
<td><code>filterLastLogin</code></td>
<td>string</td>
<td>ISO date/time match for <code>lastLogin</code>.</td>
</tr>
<tr>
<td><code>filterLastLoginAfter</code></td>
<td>string</td>
<td>ISO date/time lower bound for <code>lastLogin</code>.</td>
</tr>
<tr>
<td><code>filterLastLoginBefore</code></td>
<td>string</td>
<td>ISO date/time upper bound for <code>lastLogin</code>.</td>
</tr>
<tr>
<td><code>filterPasswordUpdated</code></td>
<td>string</td>
<td>ISO date/time match for <code>passwordUpdated</code>.</td>
</tr>
<tr>
<td><code>filterPasswordUpdatedAfter</code></td>
<td>string</td>
<td>ISO date/time lower bound for <code>passwordUpdated</code>.</td>
</tr>
<tr>
<td><code>filterPasswordUpdatedBefore</code></td>
<td>string</td>
<td>ISO date/time upper bound for <code>passwordUpdated</code>.</td>
</tr>
</tbody>
</table>
<p><code>sortBy</code> accepts: <code>id</code>, <code>email</code>, <code>fullName</code>, <code>preferredName</code>, <code>role</code>, <code>isVerified</code>, <code>isDisabled</code>, <code>lastLogin</code>, <code>passwordUpdated</code>, <code>createdAt</code>, <code>updatedAt</code>.
You can provide these list controls via query string or JSON body. If both are provided, the JSON body takes precedence.</p>
</details>
<h4 id="validation--edge-cases-93">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the same field is provided in both query string and JSON body, the JSON body value takes precedence.</li>
<li>Providing optional lookup fields returns a single record; use the <code>filter...</code> parameters for list queries.</li>
<li>If both <code>id</code> and <code>email</code> are supplied and they do not match the same user, the API returns <code>400 Validation Error</code>.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-75">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;sortBy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;createdAt&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;limit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">25</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;offset&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterRole&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterIsVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;filterCreatedAfter&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2024-01-01&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-100">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Users retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;users&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;frodo@shire.me&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Frodo Baggins&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Frodo&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;isDisabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-11T09:12:45.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-01T12:04:21.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-10T08:00:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-01T12:04:21.000Z&quot;</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hermione@hogwarts.edu&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hermione Granger&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hermione&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;isDisabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-15T10:11:12.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-15T10:00:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-15T10:00:00.000Z&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.26&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;sortBy must be one of: id, email, fullName, preferredName, role, isVerified, isDisabled, lastLogin, passwordUpdated, createdAt, updatedAt.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-adminusersid">GET /admin/users/:id</h3>
<ul>
<li><strong>Purpose:</strong> Retrieve a specific user profile by id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-101">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-101">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional. If provided, it must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-81">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nameOnly</code></td>
<td>boolean</td>
<td>No</td>
<td>When <code>true</code>, returns only <code>id</code>, <code>email</code>, and <code>fullName</code>.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-94">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
</ul>
<h4 id="example-request-body-76">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;nameOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-101">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.77&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;harry@hogwarts.edu&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry Potter&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isDisabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-12T09:45:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-03T18:10:05.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-12T09:30:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-03T18:10:05.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;oauthProviders&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">&quot;google&quot;</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusers">POST /admin/users</h3>
<ul>
<li><strong>Purpose:</strong> Create a new user account (admin only).</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-102">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-102">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-82">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fullName</code></td>
<td>string</td>
<td>Yes</td>
<td>2–255 characters; letters plus spaces, hyphens, periods, apostrophes.</td>
</tr>
<tr>
<td><code>preferredName</code></td>
<td>string</td>
<td>No</td>
<td>2–100 alphabetic characters; optional friendly name.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>5–255 characters; must be unique and in valid email format.</td>
</tr>
<tr>
<td><code>password</code></td>
<td>string</td>
<td>Conditional</td>
<td>10–100 characters; must include upper, lower, digit, and special character. Required unless <code>noPassword</code> is <code>true</code>.</td>
</tr>
<tr>
<td><code>noPassword</code></td>
<td>boolean</td>
<td>No</td>
<td>When <code>true</code>, omit <code>password</code>; the user receives a setup email with verify + password links.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>integer</td>
<td>No</td>
<td>Token validity in minutes (1–1440); default 60. Applies to verification token (and setup token when <code>noPassword</code> is <code>true</code>).</td>
</tr>
<tr>
<td><code>role</code></td>
<td>string</td>
<td>No</td>
<td><code>user</code> (default) or <code>admin</code>.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-95">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Duplicate emails return <code>409</code>.</li>
<li>New users are created with <code>isVerified = false</code> and <code>isDisabled = false</code> by default.</li>
<li>Default book types (Hardcover, Softcover) are created for the user.</li>
<li>If <code>noPassword = true</code>, <code>password</code> must not be provided (otherwise validation fails) and <code>passwordUpdated</code> is stored as <code>null</code>.</li>
<li>When <code>noPassword = true</code>, the API sends an account setup email with both verification and password setup links.</li>
<li>Otherwise, a verification email is sent.</li>
<li><code>duration</code> controls the verification token expiry (and the password setup token when <code>noPassword = true</code>).</li>
</ul>
<h4 id="email-content-11">Email Content</h4>
<ul>
<li><strong>Verification email (default):</strong>
<ul>
<li><strong>Subject:</strong> <code>Verify your email address for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
</li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Thank you for registering for the Book Project.
Please verify your email address to activate your account.
Verify Email: &lt;frontend_verify_url&gt;?token=&lt;token&gt;
If you did not register this account, please contact the system administrator at &lt;supportEmail&gt; to assist you in resolving this matter.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<ul>
<li><strong>Account setup email (when <code>noPassword = true</code>):</strong>
<ul>
<li><strong>Subject:</strong> <code>Finish setting up your Book Project account</code></li>
<li><strong>Body (text):</strong></li>
</ul>
</li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Your Book Project account is almost ready. Please complete the two steps below in order.
1. Verify your email address.
2. Set your password.
Verify Email: &lt;frontend_verify_url&gt;?token=&lt;verificationToken&gt;
Set Password: &lt;frontend_reset_url&gt;?token=&lt;resetToken&gt;
The verification link expires in &lt;verificationExpiresIn&gt; minutes.
The password setup link expires in &lt;resetExpiresIn&gt; minutes.
If you did not expect this email, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-request-body-77">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Samwise Gamgee&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Sam&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;sam@shire.me&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;P@ssw0rd123!&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-102">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.91&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;sam@shire.me&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Samwise Gamgee&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Sam&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isDisabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-05T09:00:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">null</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-05T09:00:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-05T09:00:00.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.41&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Password must include at least one special character.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A user with this email address already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-adminusers">PUT /admin/users</h3>
<ul>
<li><strong>Purpose:</strong> Update a user profile using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-103">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-103">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-83">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to update. Required if <code>email</code> is not provided as a lookup key.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>If provided with <code>id</code>, updates email; if provided without <code>id</code>, it identifies the user (email must exist). Changing email resets verification.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>integer</td>
<td>No</td>
<td>Token validity in minutes (1–1440); default 1440. Used only when email changes.</td>
</tr>
<tr>
<td><code>fullName</code></td>
<td>string</td>
<td>No</td>
<td>2–255 characters; letters plus spaces, hyphens, periods, apostrophes.</td>
</tr>
<tr>
<td><code>preferredName</code></td>
<td>string or null</td>
<td>No</td>
<td>2–100 alphabetic characters; send <code>null</code> to clear.</td>
</tr>
<tr>
<td><code>role</code></td>
<td>string</td>
<td>No</td>
<td><code>user</code> or <code>admin</code>.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-96">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>At least one update field must be provided.</li>
<li>Either <code>id</code> or <code>email</code> must be provided to identify the user.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
<li>If <code>email</code> is used as the lookup key, you cannot change the email in the same request; use <code>id</code> for email changes.</li>
<li>If <code>email</code> changes, <code>isVerified</code> is set to <code>false</code> and a new verification email is sent (duration defaults to 1440 minutes).</li>
<li>Admins cannot change their own role.</li>
<li>Duplicate email addresses return <code>409</code>.</li>
<li>If no changes are applied, the response message indicates the update was a no-op.</li>
</ul>
<h4 id="email-content-12">Email Content</h4>
<ul>
<li><strong>Profile update notice (sent when changes apply):</strong>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project profile was updated</code></li>
<li><strong>Body (text):</strong></li>
</ul>
</li>
</ul>
<pre><code>Account update notice, &lt;preferredName&gt;
An administrator updated details on your Book Project account.
- &lt;change&gt;
If you did not expect this change, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<ul>
<li><strong>Verification email (only when email changes):</strong>
<ul>
<li><strong>Subject:</strong> <code>Verify your email address for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
</li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Thank you for registering for the Book Project.
Please verify your email address to activate your account.
Verify Email: &lt;frontend_verify_url&gt;?token=&lt;token&gt;
If you did not register this account, please contact the system administrator at &lt;supportEmail&gt; to assist you in resolving this matter.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body-78">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry James Potter&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-103">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.01&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;harry@hogwarts.edu&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry James Potter&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isDisabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-12T09:45:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-03T18:10:05.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-12T09:30:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-05T10:21:44.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;At least one field must be provided for update.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Forbidden (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.06&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Admins cannot change their own role.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Email already in use.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Another user already uses this email address.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-adminusersid">PUT /admin/users/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update a user profile by id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-104">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-104">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-84">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fullName</code></td>
<td>string</td>
<td>No</td>
<td>2–255 characters; letters plus spaces, hyphens, periods, apostrophes.</td>
</tr>
<tr>
<td><code>preferredName</code></td>
<td>string or null</td>
<td>No</td>
<td>2–100 alphabetic characters; send <code>null</code> to clear.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Must be unique and valid; changing email resets verification.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>integer</td>
<td>No</td>
<td>Token validity in minutes (1–1440); default 1440. Used only when email changes.</td>
</tr>
<tr>
<td><code>role</code></td>
<td>string</td>
<td>No</td>
<td><code>user</code> or <code>admin</code>.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-97">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> changes, <code>isVerified</code> is set to <code>false</code> and a new verification email is sent (duration defaults to 1440 minutes).</li>
<li>Admins cannot change their own role.</li>
<li>Duplicate email addresses return <code>409</code>.</li>
</ul>
<h4 id="email-content-13">Email Content</h4>
<ul>
<li><strong>Profile update notice (sent when changes apply):</strong>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project profile was updated</code></li>
<li><strong>Body (text):</strong></li>
</ul>
</li>
</ul>
<pre><code>Account update notice, &lt;preferredName&gt;
An administrator updated details on your Book Project account.
- &lt;change&gt;
If you did not expect this change, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<ul>
<li><strong>Verification email (only when email changes):</strong>
<ul>
<li><strong>Subject:</strong> <code>Verify your email address for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
</li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Thank you for registering for the Book Project.
Please verify your email address to activate your account.
Verify Email: &lt;frontend_verify_url&gt;?token=&lt;token&gt;
If you did not register this account, please contact the system administrator at &lt;supportEmail&gt; to assist you in resolving this matter.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body-79">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-104">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.87&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;harry@hogwarts.edu&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;fullName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry James Potter&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;preferredName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Harry&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;role&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isVerified&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;isDisabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;passwordUpdated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-12T09:45:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;lastLogin&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-03T18:10:05.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-12T09:30:00.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-05T10:21:44.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.18&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id in body does not match the URL path.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Forbidden (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.06&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Admins cannot change their own role.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Email already in use.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Another user already uses this email address.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-adminusers">DELETE /admin/users</h3>
<ul>
<li><strong>Purpose:</strong> Disable a user account using a JSON body <code>id</code> or <code>email</code> (soft delete).</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-105">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-105">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-85">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to disable. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to disable. Required if <code>id</code> is not provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-98">Validation &amp; Edge Cases</h4>
<ul>
<li>Disabling a user is a soft delete. The user cannot log in but their data remains.</li>
<li>All active sessions for the user are revoked on disable.</li>
<li>If the user is already disabled, the API returns <code>200</code> with <code>wasDisabled: false</code>.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
</ul>
<h4 id="email-content-14">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project account has been disabled</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Account disabled, &lt;preferredName&gt;
An administrator has disabled your Book Project account. You can no longer sign in or use the service.
If you believe this was a mistake, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-request-body-80">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-105">Example Responses</h4>
<ul>
<li><strong>Disabled (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.96&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User disabled successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;wasDisabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;revokedSessions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-adminusersid">DELETE /admin/users/:id</h3>
<ul>
<li><strong>Purpose:</strong> Disable a user account by id (soft delete).</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-106">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-106">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-86">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Optional confirmation; must match the URL path if provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation; must match the user's email if provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-99">Validation &amp; Edge Cases</h4>
<ul>
<li>Disabling a user is a soft delete. The user cannot log in but their data remains.</li>
<li>All active sessions for the user are revoked on disable.</li>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
</ul>
<h4 id="email-content-15">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project account has been disabled</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Account disabled, &lt;preferredName&gt;
An administrator has disabled your Book Project account. You can no longer sign in or use the service.
If you believe this was a mistake, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-responses-106">Example Responses</h4>
<ul>
<li><strong>Disabled (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.96&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User disabled successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;wasDisabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;revokedSessions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersenable">POST /admin/users/enable</h3>
<ul>
<li><strong>Purpose:</strong> Re-enable a disabled user account using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-107">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/enable</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-107">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-87">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to enable. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to enable. Required if <code>id</code> is not provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-100">Validation &amp; Edge Cases</h4>
<ul>
<li>If the user does not exist, the API returns <code>404</code>.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
</ul>
<h4 id="email-content-16">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project account has been re-enabled</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Account re-enabled, &lt;preferredName&gt;
An administrator has re-enabled your Book Project account. You can now sign in again.
Log In: &lt;frontend_login_url&gt;
If you did not request this change, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-request-body-81">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-107">Example Responses</h4>
<ul>
<li><strong>Enabled (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.54&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User enabled successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersidenable">POST /admin/users/:id/enable</h3>
<ul>
<li><strong>Purpose:</strong> Re-enable a disabled user account by id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-108">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id/enable</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-108">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-88">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Optional confirmation; must match the URL path if provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation; must match the user's email if provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-101">Validation &amp; Edge Cases</h4>
<ul>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
<li>If the user does not exist, the API returns <code>404</code>.</li>
</ul>
<h4 id="email-content-17">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project account has been re-enabled</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Account re-enabled, &lt;preferredName&gt;
An administrator has re-enabled your Book Project account. You can now sign in again.
Log In: &lt;frontend_login_url&gt;
If you did not request this change, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-responses-108">Example Responses</h4>
<ul>
<li><strong>Enabled (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.54&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User enabled successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersunverify">POST /admin/users/unverify</h3>
<ul>
<li><strong>Purpose:</strong> Mark a user's email as unverified using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-109">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/unverify</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-109">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-89">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to unverify. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to unverify. Required if <code>id</code> is not provided.</td>
</tr>
<tr>
<td><code>reason</code></td>
<td>string</td>
<td>Yes</td>
<td>Reason for record-keeping; max 500 characters.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-102">Validation &amp; Edge Cases</h4>
<ul>
<li>The reason is required and limited to 500 characters.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
</ul>
<h4 id="email-content-18">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project email needs verification</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Email unverified, &lt;preferredName&gt;
An administrator marked your Book Project email address as unverified.
Reason: &lt;reason&gt;
Please request a new verification email using this link: &lt;frontend_url&gt;?action=request-verification-email
If you did not expect this change, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-request-body-82">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;reason&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Email bounced during delivery.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-109">Example Responses</h4>
<ul>
<li><strong>Unverified (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.49&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User marked as unverified.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Reason must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersidunverify">POST /admin/users/:id/unverify</h3>
<ul>
<li><strong>Purpose:</strong> Mark a user's email as unverified by id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-110">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id/unverify</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-110">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-90">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>reason</code></td>
<td>string</td>
<td>Yes</td>
<td>Reason for record-keeping; max 500 characters.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Optional confirmation; must match the URL path if provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation; must match the user's email if provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-103">Validation &amp; Edge Cases</h4>
<ul>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
</ul>
<h4 id="email-content-19">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project email needs verification</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Email unverified, &lt;preferredName&gt;
An administrator marked your Book Project email address as unverified.
Reason: &lt;reason&gt;
Please request a new verification email using this link: &lt;frontend_url&gt;?action=request-verification-email
If you did not expect this change, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-request-body-83">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;reason&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Email bounced during delivery.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-110">Example Responses</h4>
<ul>
<li><strong>Unverified (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.49&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User marked as unverified.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Reason must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersverify">POST /admin/users/verify</h3>
<ul>
<li><strong>Purpose:</strong> Mark a user's email as verified using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-111">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/verify</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-111">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-91">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to verify. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to verify. Required if <code>id</code> is not provided.</td>
</tr>
<tr>
<td><code>reason</code></td>
<td>string</td>
<td>Yes</td>
<td>Reason for record-keeping; max 500 characters.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-104">Validation &amp; Edge Cases</h4>
<ul>
<li>The reason is required and limited to 500 characters.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
<li>All existing verification tokens for the user are invalidated when verified by an admin.</li>
</ul>
<h4 id="email-content-20">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project email has been verified</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Email verified, &lt;preferredName&gt;
An administrator verified your Book Project email address.
Reason: &lt;reason&gt;
If you did not expect this change, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-request-body-84">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;reason&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Customer support verified identity.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-111">Example Responses</h4>
<ul>
<li><strong>Verified (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.40&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User marked as verified.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Reason must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersidverify">POST /admin/users/:id/verify</h3>
<ul>
<li><strong>Purpose:</strong> Mark a user's email as verified by id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-112">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id/verify</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-112">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-92">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>reason</code></td>
<td>string</td>
<td>Yes</td>
<td>Reason for record-keeping; max 500 characters.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-105">Validation &amp; Edge Cases</h4>
<ul>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
<li>All existing verification tokens for the user are invalidated when verified by an admin.</li>
</ul>
<h4 id="email-content-21">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Your Book Project email has been verified</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Email verified, &lt;preferredName&gt;
An administrator verified your Book Project email address.
Reason: &lt;reason&gt;
If you did not expect this change, please contact the system administrator at &lt;supportEmail&gt;.
</code></pre>
<h4 id="example-request-body-85">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;reason&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Customer support verified identity.&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-112">Example Responses</h4>
<ul>
<li><strong>Verified (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.40&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User marked as verified.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Reason must be provided.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminuserssend-verification">POST /admin/users/send-verification</h3>
<ul>
<li><strong>Purpose:</strong> Send a verification email using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-113">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/send-verification</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user + 1 request / 5 minutes / IP (email cost)</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-113">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-93">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to verify. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to verify. Required if <code>id</code> is not provided.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>integer</td>
<td>No</td>
<td>Token validity in minutes (1–1440); default 30.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-106">Validation &amp; Edge Cases</h4>
<ul>
<li>If the user is already verified, the API returns <code>400</code>.</li>
<li>Duration must be between 1 and 1440 minutes.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
</ul>
<h4 id="email-content-22">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Verify your email address for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Thank you for registering for the Book Project.
Please verify your email address to activate your account.
Verify Email: &lt;frontend_verify_url&gt;?token=&lt;token&gt;
If you did not register this account, please contact the system administrator at &lt;supportEmail&gt; to assist you in resolving this matter.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body-86">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;duration&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">120</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-113">Example Responses</h4>
<ul>
<li><strong>Sent (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.54&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Verification email sent successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;expiresInMinutes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">120</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;duration must be between 1 and 1440 minutes.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Already Verified (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.11&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Already verified.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;This user is already verified.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersidsend-verification">POST /admin/users/:id/send-verification</h3>
<ul>
<li><strong>Purpose:</strong> Send a verification email by id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-114">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id/send-verification</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user + 1 request / 5 minutes / IP (email cost)</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-114">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-94">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>duration</code></td>
<td>integer</td>
<td>No</td>
<td>Token validity in minutes (1–1440); default 30.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Optional confirmation; must match the URL path if provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation; must match the user's email if provided.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Optional confirmation; must match the URL path if provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation; must match the user's email if provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-107">Validation &amp; Edge Cases</h4>
<ul>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
<li>If the user is already verified, the API returns <code>400</code>.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
</ul>
<h4 id="email-content-23">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Verify your email address for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Welcome, &lt;preferredName&gt;!
Thank you for registering for the Book Project.
Please verify your email address to activate your account.
Verify Email: &lt;frontend_verify_url&gt;?token=&lt;token&gt;
If you did not register this account, please contact the system administrator at &lt;supportEmail&gt; to assist you in resolving this matter.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body-87">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;duration&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">120</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-114">Example Responses</h4>
<ul>
<li><strong>Sent (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.54&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Verification email sent successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;expiresInMinutes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">120</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;duration must be between 1 and 1440 minutes.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Already Verified (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.11&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Already verified.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;This user is already verified.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersreset-password">POST /admin/users/reset-password</h3>
<ul>
<li><strong>Purpose:</strong> Send a password reset email using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-115">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/reset-password</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user + 1 request / 5 minutes / IP (email cost)</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-115">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-95">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to reset. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to reset. Required if <code>id</code> is not provided.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>integer</td>
<td>No</td>
<td>Token validity in minutes (1–1440); default 30.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-108">Validation &amp; Edge Cases</h4>
<ul>
<li>Duration must be between 1 and 1440 minutes.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
</ul>
<h4 id="email-content-24">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Reset your password for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Hello, &lt;preferredName&gt;!
We received a request to set or reset your password for the Book Project.
If this was you, click the button below to set a new password.
Reset Password: &lt;frontend_reset_url&gt;?token=&lt;token&gt;
If you did not request a password reset, please contact the system administrator at &lt;supportEmail&gt; to ensure the safety of your account.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body-88">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;duration&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-115">Example Responses</h4>
<ul>
<li><strong>Sent (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.67&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Password reset email sent successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;expiresInMinutes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;duration must be between 1 and 1440 minutes.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersidreset-password">POST /admin/users/:id/reset-password</h3>
<ul>
<li><strong>Purpose:</strong> Send a password reset email by id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-116">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id/reset-password</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user + 1 request / 5 minutes / IP (email cost)</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-116">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-96">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>duration</code></td>
<td>integer</td>
<td>No</td>
<td>Token validity in minutes (1–1440); default 30.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-109">Validation &amp; Edge Cases</h4>
<ul>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
</ul>
<h4 id="email-content-25">Email Content</h4>
<ul>
<li><strong>Subject:</strong> <code>Reset your password for the Book Project</code></li>
<li><strong>Body (text):</strong></li>
</ul>
<pre><code>Hello, &lt;preferredName&gt;!
We received a request to set or reset your password for the Book Project.
If this was you, click the button below to set a new password.
Reset Password: &lt;frontend_reset_url&gt;?token=&lt;token&gt;
If you did not request a password reset, please contact the system administrator at &lt;supportEmail&gt; to ensure the safety of your account.
This link will expire in &lt;expiresIn&gt; minutes.
</code></pre>
<h4 id="example-request-body-89">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;duration&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-116">Example Responses</h4>
<ul>
<li><strong>Sent (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.67&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Password reset email sent successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;expiresInMinutes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;duration must be between 1 and 1440 minutes.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminuserssessions">POST /admin/users/sessions</h3>
<ul>
<li><strong>Purpose:</strong> List active sessions for a user using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-117">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/sessions</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-117">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-97">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to inspect. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to inspect. Required if <code>id</code> is not provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-110">Validation &amp; Edge Cases</h4>
<ul>
<li>The API returns only active (non-revoked, non-expired) sessions.</li>
<li>If the user does not exist, the API returns <code>404</code>.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
</ul>
<h4 id="example-request-body-90">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-117">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.71&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Active sessions retrieved.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;sessions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;session-abc123&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;issuedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-03T18:10:05.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-03-03T18:10:05.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresInSeconds&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2420000</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;ipAddress&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;192.168.1.10&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;locationHint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;IP 192.168.1.10&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;browser&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Chrome&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;device&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Desktop&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;operatingSystem&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Windows&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;rawUserAgent&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Mozilla/5.0 ...&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersidsessions">POST /admin/users/:id/sessions</h3>
<ul>
<li><strong>Purpose:</strong> List active sessions for a user by id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-118">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id/sessions</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code> (optional body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-118">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-98">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Optional confirmation; must match the URL path if provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation; must match the user's email if provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-111">Validation &amp; Edge Cases</h4>
<ul>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
</ul>
<h4 id="example-responses-118">Example Responses</h4>
<ul>
<li><strong>Response (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.71&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Active sessions retrieved.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;sessions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;session-abc123&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;issuedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-02-03T18:10:05.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-03-03T18:10:05.000Z&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;expiresInSeconds&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2420000</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;ipAddress&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;192.168.1.10&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;locationHint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;IP 192.168.1.10&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;browser&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Chrome&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;device&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Desktop&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;operatingSystem&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Windows&quot;</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">&quot;rawUserAgent&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Mozilla/5.0 ...&quot;</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersforce-logout">POST /admin/users/force-logout</h3>
<ul>
<li><strong>Purpose:</strong> Revoke one or more sessions using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-119">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/force-logout</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-119">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-99">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to revoke sessions for. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to revoke sessions for. Required if <code>id</code> is not provided.</td>
</tr>
<tr>
<td><code>fingerprint</code></td>
<td>string or array</td>
<td>No</td>
<td>Session fingerprint(s) to revoke. Provide a string for a single session or an array for multiple.</td>
</tr>
</tbody>
</table>
<p>If no fingerprint is supplied, all active sessions are revoked.</p>
<h4 id="validation--edge-cases-112">Validation &amp; Edge Cases</h4>
<ul>
<li>If the user does not exist, the API returns <code>404</code>.</li>
<li>If no matching fingerprints are found, <code>revokedCount</code> may be <code>0</code>.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
</ul>
<h4 id="example-request-body-91">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;session-abc123&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">&quot;session-def456&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-119">Example Responses</h4>
<ul>
<li><strong>Revoked (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.58&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Sessions revoked successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;revokedCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;fingerprints&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">&quot;session-abc123&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">&quot;session-def456&quot;</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersidforce-logout">POST /admin/users/:id/force-logout</h3>
<ul>
<li><strong>Purpose:</strong> Revoke one or more sessions by user id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-120">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id/force-logout</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-120">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Body is optional.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-100">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fingerprint</code></td>
<td>string or array</td>
<td>No</td>
<td>Session fingerprint(s) to revoke. Provide a string for a single session or an array for multiple.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Optional confirmation; must match the URL path if provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation; must match the user's email if provided.</td>
</tr>
</tbody>
</table>
<p>If no fingerprint is supplied, all active sessions are revoked.</p>
<h4 id="validation--edge-cases-113">Validation &amp; Edge Cases</h4>
<ul>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
</ul>
<h4 id="example-request-body-92">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;fingerprint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;session-abc123&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-120">Example Responses</h4>
<ul>
<li><strong>Revoked (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.58&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Sessions revoked successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;revokedCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;fingerprints&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">&quot;session-abc123&quot;</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;User id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusershandle-account-deletion">POST /admin/users/handle-account-deletion</h3>
<ul>
<li><strong>Purpose:</strong> Permanently delete a user account after confirmation using a JSON body <code>id</code> or <code>email</code>.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-121">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/handle-account-deletion</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user + additional admin deletion limits</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-121">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-101">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Conditional</td>
<td>User id to delete. Required if <code>email</code> is not provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Conditional</td>
<td>User email to delete. Required if <code>id</code> is not provided.</td>
</tr>
<tr>
<td><code>confirm</code></td>
<td>boolean</td>
<td>Yes</td>
<td>Must be <code>true</code> to confirm deletion.</td>
</tr>
<tr>
<td><code>reason</code></td>
<td>string</td>
<td>Yes</td>
<td>Reason for record-keeping; max 500 characters.</td>
</tr>
<tr>
<td><code>userToBeDeletedEmail</code></td>
<td>string</td>
<td>Yes</td>
<td>Must match the user's email address.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-114">Validation &amp; Edge Cases</h4>
<ul>
<li>The user must have completed <code>/users/me/verify-account-deletion</code> first.</li>
<li>Admins cannot delete their own account.</li>
<li>Deletion is permanent and cannot be undone.</li>
<li>The API deletes all user data (via cascades) and cleans up orphaned partial dates.</li>
<li>If both <code>id</code> and <code>email</code> are provided, they must refer to the same user.</li>
</ul>
<h4 id="example-request-body-93">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;confirm&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;reason&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Account deletion confirmed by user.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;userToBeDeletedEmail&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gollum@ring.me&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-121">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.88&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User account deleted permanently.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deletedCounts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;verification_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;refresh_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;oauth_accounts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_types&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;publishers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_series_books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;storage_locations&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_copies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_languages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;datesCleaned&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;You must confirm this action before proceeding.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Forbidden (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.06&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Admins cannot delete their own account.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.11&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Deletion not confirmed.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The user has not completed the account deletion confirmation flow.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminusersidhandle-account-deletion">POST /admin/users/:id/handle-account-deletion</h3>
<ul>
<li><strong>Purpose:</strong> Permanently delete a user account by id after confirmation.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-122">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/users/:id/handle-account-deletion</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user + additional admin deletion limits</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-122">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-102">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>confirm</code></td>
<td>boolean</td>
<td>Yes</td>
<td>Must be <code>true</code> to confirm deletion.</td>
</tr>
<tr>
<td><code>reason</code></td>
<td>string</td>
<td>Yes</td>
<td>Reason for record-keeping; max 500 characters.</td>
</tr>
<tr>
<td><code>userToBeDeletedEmail</code></td>
<td>string</td>
<td>Yes</td>
<td>Must match the user's email address.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>No</td>
<td>Optional confirmation; must match the URL path if provided.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>No</td>
<td>Optional confirmation; must match the user's email if provided.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-115">Validation &amp; Edge Cases</h4>
<ul>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>The user must have completed <code>/users/me/verify-account-deletion</code> first.</li>
<li>Admins cannot delete their own account.</li>
<li>Deletion is permanent and cannot be undone.</li>
<li>The API deletes all user data (via cascades) and cleans up orphaned partial dates.</li>
<li>If <code>id</code> is also provided in the body, it must match the URL path.</li>
<li>If <code>email</code> is provided, it must match the user's email.</li>
</ul>
<h4 id="example-request-body-94">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;confirm&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;reason&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Account deletion confirmed by user.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;userToBeDeletedEmail&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gollum@ring.me&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-122">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.88&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User account deleted permanently.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deletedCounts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;verification_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;refresh_tokens&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;oauth_accounts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_types&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;publishers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_authors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_series&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_series_books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;storage_locations&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;books&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_copies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_languages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;book_tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;datesCleaned&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.22&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;You must confirm this action before proceeding.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Forbidden (403):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">403</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.06&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Forbidden&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Admins cannot delete their own account.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.11&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Deletion not confirmed.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The user has not completed the account deletion confirmation flow.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;User not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested user could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="post-adminlanguages">POST /admin/languages</h3>
<ul>
<li><strong>Purpose:</strong> Add a new language.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-123">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/languages</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-123">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-103">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>2–100 characters; letters, spaces, hyphens, periods, and apostrophes only.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-116">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>Duplicate language names (case-insensitive) return <code>409</code>.</li>
</ul>
<h4 id="example-request-body-95">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Zulu&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-123">Example Responses</h4>
<ul>
<li><strong>Created (201):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">201</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language created successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Zulu&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Language name must be between 2 and 100 characters.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A language with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-adminlanguages">PUT /admin/languages</h3>
<ul>
<li><strong>Purpose:</strong> Update a language using a JSON body id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-124">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/languages</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-124">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-104">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Yes</td>
<td>Language id to update.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>2–100 characters; letters, spaces, hyphens, periods, and apostrophes only.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-117">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the language does not exist, the API returns <code>404</code>. Duplicate names (case-insensitive) return <code>409</code>.</li>
<li>The <code>id</code> field must be a valid integer.</li>
</ul>
<h4 id="example-request-body-96">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;isiZulu&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-124">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;isiZulu&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-20T08:45:10.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Language id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested language could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A language with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-adminlanguages">DELETE /admin/languages</h3>
<ul>
<li><strong>Purpose:</strong> Delete a language using a JSON body id.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-125">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/languages</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-125">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-105">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>integer</td>
<td>Yes</td>
<td>Language id to delete.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-118">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>The <code>id</code> field must be a valid integer.</li>
</ul>
<h4 id="example-request-body-97">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-125">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Language id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested language could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="put-adminlanguagesid">PUT /admin/languages/:id</h3>
<ul>
<li><strong>Purpose:</strong> Update a language.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-126">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>PUT</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/languages/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
</tbody>
</table>
<h4 id="required-headers-126">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Yes</td>
<td><code>application/json</code></td>
<td>Body must be JSON encoded.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="body-parameters-106">Body Parameters</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Yes</td>
<td>2–100 characters; letters, spaces, hyphens, periods, and apostrophes only.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-119">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the language does not exist, the API returns <code>404</code>. Duplicate names (case-insensitive) return <code>409</code>.</li>
<li>The <code>:id</code> path parameter must be a valid integer.</li>
</ul>
<h4 id="example-request-body-98">Example Request Body</h4>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;isiZulu&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 id="example-responses-126">Example Responses</h4>
<ul>
<li><strong>Updated (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.10&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language updated successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;isiZulu&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;createdAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-17T10:02:11.000Z&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;updatedAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2025-01-20T08:45:10.000Z&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Language id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested language could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Conflict (409):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">409</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.08&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language already exists.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;A language with this name already exists.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="delete-adminlanguagesid">DELETE /admin/languages/:id</h3>
<ul>
<li><strong>Purpose:</strong> Delete a language.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-127">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>DELETE</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/admin/languages/:id</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>N/A (no body)</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-127">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="validation--edge-cases-120">Validation &amp; Edge Cases</h4>
<ul>
<li>Validation errors return <code>400 Validation Error</code> with details in the <code>errors</code> array.</li>
<li>If the requested record cannot be found, the API returns <code>404</code>.</li>
<li>The <code>:id</code> path parameter must be a valid integer.</li>
</ul>
<h4 id="example-responses-127">Example Responses</h4>
<ul>
<li><strong>Deleted (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.48&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language deleted successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<details>
<summary>Error Responses</summary>
<ul>
<li><strong>Not Found (404):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.84&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Language not found.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;The requested language could not be located.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Validation Error (400):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Validation Error&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">&quot;Language id must be a valid integer.&quot;</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</details>
<h3 id="get-status">GET /status</h3>
<ul>
<li><strong>Purpose:</strong> Admin status check for database and email queue health.</li>
<li><strong>Authentication:</strong> Admin access token required.</li>
</ul>
<h4 id="request-overview-128">Request Overview</h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Path</td>
<td><code>/status</code></td>
</tr>
<tr>
<td>Authentication</td>
<td><code>Authorization: Bearer &lt;accessToken&gt;</code></td>
</tr>
<tr>
<td>Rate Limit</td>
<td>60 requests / minute / admin user</td>
</tr>
<tr>
<td>Content-Type</td>
<td>None</td>
</tr>
</tbody>
</table>
<h4 id="required-headers-128">Required Headers</h4>
<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Yes</td>
<td><code>Bearer &lt;accessToken&gt;</code></td>
<td>Access token required for this endpoint.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>No</td>
<td><code>application/json</code></td>
<td>Responses are JSON.</td>
</tr>
</tbody>
</table>
<h4 id="example-responses-128">Example Responses</h4>
<ul>
<li><strong>Status Retrieved (200):</strong></li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;httpCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;responseTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.12&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Status retrieved successfully.&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ok&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;db&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;healthy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;latencyMs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;emailQueue&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;pending&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;processing&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;failed&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;lastRunAt&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2026-01-02T16:00:10.000Z&quot;</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;errors&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>

            
            
        </body>
        </html>