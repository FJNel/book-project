<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>The Book Project</title>
    <link rel="icon" type="image/png" sizes="500x499" href="assets/img/Icon.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="assets/css/Navbar-With-Button-icons.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
    <!-- Top nav (simple Bootstrap-only) -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary border-bottom sticky-top">
        <div class="container">
            <a class="navbar-brand fw-semibold" href="dashboard.html">The Book Project</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link" href="dashboard.html">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link" href="books.html">Books</a></li>
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="add-book.html">Add Book</a></li>
                </ul>

                <div class="d-flex gap-2">
                    <button class="btn btn-outline-secondary btn-sm" type="button">Account</button>
                    <button class="btn btn-outline-danger btn-sm" type="button">Log out</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="pageLoadingModal">
        <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header d-flex justify-content-center">
                    <h4 class="modal-title text-center" data-lang="page_loading_heading">Page Loading</h4>
                </div>
                <div class="modal-body d-flex justify-content-center align-items-center">
                    <div>
                        <p class="text-center" data-lang="page_loading_text">Please wait while the page is loading...</p>
                        <div class="d-flex justify-content-center"><span class="spinner-border" role="status"></span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="apiErrorModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" data-lang="api_error_heading">API Connection Error</h4>
                </div>
                <div class="modal-body">
                    <h5 data-lang="api_error_heading_2_1">Unable to Connect</h5>
                    <p data-lang="api_error_1">We're having trouble connecting to our services right now. The application cannot load the data it needs to function correctly.</p>
                    <h5 data-lang="api_error_heading_2_2">What you can do</h5>
                    <ul>
                        <li data-lang="api_error_li1"><strong>Check your internet connection:</strong> Make sure you are connected to the internet.</li>
                        <li data-lang="api_error_li2"><strong>Please try again in a few minutes: </strong>This may be a temporary issue.</li>
                    </ul>
                    <p class="mb-0" data-lang="api_error_footer"><em>If the problem continues, please contact the System Administrator at </em><a href="mailto:support@fjnel.co.za?subject=The%20Book%20Project%3A%20API%20Connection%20Error">support@fjnel.co.za</a></p>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-2 mt-3 mb-3">
            <div>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-2">
                        <li class="breadcrumb-item"><a href="dashboard.html" class="text-decoration-none">Dashboard</a></li>
                        <li class="breadcrumb-item"><a href="books.html" class="text-decoration-none">Books</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Add Book</li>
                    </ol>
                </nav>

                <h1 class="mb-1">Add a Book</h1>
                <p class="lead mb-0">On this page you can add a new book to your book collection.</p>
            </div>
        </div>
        <div class="card shadow mb-3" id="lookupByISBNCard">
            <div class="card-body">
                <h4 class="card-title">Step 1: Lookup by ISBN</h4>
                <p>This step is optional. If you prefer to enter all book details yourself, or if the book doesn’t have an ISBN, you can skip this step and continue below. If you do enter an ISBN, The Book Project will try to retrieve matching information from trusted external sources and automatically fill in the details for you.</p><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-stars text-body-secondary position-absolute top-0 end-0 ms-2 me-2 mt-2 pt-0 mb-2 pb-0" data-bs-toggle="tooltip" data-bss-tooltip="" data-bs-placement="left" data-bss-hover-animate="tada" style="font-size: 30px;" title="This feature uses AI to help generate or suggest relevant information. Details will be fetched and pre-filled for you." tabindex="-1">
                    <path d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"></path>
                </svg>
                <div>
                    <div class="row align-items-start">
                        <div class="col-12 col-md-6 mb-3 mb-md-0">
                            <p>Enter the ISBN of the book you want to add. Using external sources, The Book Project will attempt to retrieve information about this book, and pre-fill the form fields below.</p>
                            <form id="isbnLookupForm" method="post">
                                <div class="mb-1"><label class="form-label" for="oneISBN"><strong>ISBN</strong><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Enter the book’s ISBN to automatically look up its details. Use a valid ISBN-10 or ISBN-13." tabindex="-1">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                        </svg></label>
                                    <div class="input-group"><input class="form-control" type="text" id="oneISBN" name="isbnInput" placeholder="Enter ISBN" autofocus="" autocomplete="off" disabled=""><button class="btn btn-primary disabled booktypeCreateButton" id="oneBtnLookup" type="button" data-bs-target="#lookupByISBNLoadingModal" data-bs-toggle="modal" disabled="">Lookup ISBN</button></div><small class="form-text" id="oneISBNHelp"></small>
                                </div>
                            </form>
                            <p class="text-secondary mb-0">An ISBN is a unique number used to identify a specific version or edition of a book. Before 2007, books were assigned 10-digit ISBNs, but since 2007, all books use 13-digit ISBNs. The 13-digit ISBN often also serves as the book’s barcode. You can usually find the ISBN on the back cover of the book, near the barcode.</p>
                        </div>
                        <div class="col-12 col-md-6 order-first order-md-last mb-3 mb-md-0 sticky-md-top">
                            <div class="alert alert-warning mb-0" role="alert"><span><strong>How Book Information Is Retrieved</strong></span>
                                <p class="mb-1">We use external sources such as Google Books and Open Library to find and pre-fill book information. Our system also uses AI to interpret and organise this data for better accuracy and consistency.</p>
                                <p class="mb-1"><strong>Note:</strong> You can freely review, edit, or overwrite any details retrieved before saving.</p>
                                <p class="mb-0"><strong>Important:</strong>&nbsp;External data may be incomplete or contain inaccuracies.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="lookupByISBNLoadingModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">ISBN Lookup in Progress</h4>
                    </div>
                    <div class="modal-body">
                        <p>We’re using the ISBN you provided to retrieve and prepare book details.&nbsp;This process might take a few seconds depending on external sources.&nbsp;Please hold on while we load the information.</p>
                        <div class="progress border">
                            <div class="progress-bar bg-primary progress-bar-striped progress-bar-animated" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:50%;"><span class="visually-hidden">50%</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="isbnLookupErrorModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">ISBN Lookup Unsuccessful</h5><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <p class="mb-1">We couldn't find any results for the ISBN you entered.&nbsp;Please double-check the ISBN. If it is correct, the book might not be available in our external data sources.&nbsp;</p>
                        <p class="mb-0">You can still add the book manually.</p>
                    </div>
                </div>
            </div>
        </div>
        <form id="bookForm">
            <div class="card" id="bookDetailsCard">
                <div class="card-body shadow">
                    <h4 class="card-title">Step 2: Enter Book Details</h4>
                    <p>Here you can enter the general details of this book - its title, subtitle, ISBN, publication information, and description.&nbsp;These details describe the <em>book itself</em> (the edition or version), not your physical copy. You'll record your personal copy's details later.</p>
                    <div>
                        <div class="row align-items-start">
                            <div class="col-12 col-md-8">
                                <div>
                                    <div class="mb-3"><label class="form-label" for="twoEdtTitle"><strong>Title</strong></label><label class="form-label text-danger" for="twoEdtTitle"><strong>*</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="The main title of the book, exactly as it appears on the cover. This field is required." tabindex="-1">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                        </svg><input class="form-control" type="text" id="twoEdtTitle" name="bookTitle" placeholder="The Fellowship of the Ring" autocomplete="off" required="" minlength="2" maxlength="255"><small class="form-text" id="twoTitleHelp"></small></div>
                                    <div class="mb-3"><label class="form-label ms-0" for="twoEdtSubtitle"><strong>Subtitle</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="An optional secondary title or tagline that follows the main title." tabindex="-1">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                        </svg><input class="form-control" type="text" id="twoEdtSubtitle" name="bookSubtitle" placeholder="Being the First Part of The Lord of the Rings" autocomplete="off" minlength="2" maxlength="255"><small class="form-text" id="twoSubtitleHelp"></small></div>
                                    <div class="mb-3"><label class="form-label" for="twoEdtISBN"><strong>ISBN</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="The book’s ISBN for reference or verification. Supports ISBN-10 and ISBN-13." tabindex="-1">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                        </svg><input class="form-control" type="text" id="twoEdtISBN" name="bookISBN" placeholder="9780007203581" autocomplete="off" minlength="10" maxlength="13" pattern="^(?:\d{9}[\dXx]|\d{13})$"><small class="form-text" id="twoISBNHelp"></small></div>
                                    <div class="mb-3"><label class="form-label pt-0" for="twoEdtPublicationDate"><strong>Publication Date</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="The date the book was published. Partial dates are supported (for example, year only or month and year)." tabindex="-1">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                        </svg><input class="form-control" type="text" id="twoEdtPublicationDate" name="bookPublicationYear" min="1000" max="9999" step="1" placeholder="3 March 2005" autocomplete="off"><small class="form-text" id="twoPublicationDateHelp"></small></div>
                                    <div class="mb-3"><label class="form-label" for="twoSpnPages"><strong>Number of Pages</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="The total number of pages in the book. Enter a whole number greater than zero." tabindex="-1">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                        </svg><input class="form-control" type="number" id="twoSpnPages" name="bookPublicationYear" min="1" max="99999" step="1" placeholder="423" autocomplete="off"><small class="form-text" id="twoPagesHelp"></small></div>
                                    <div class="mb-3"><label class="form-label" for="twoCmbLanguage"><strong>Book Language(s)</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="The language or languages the book is written in. Select all that apply." tabindex="-1">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                        </svg>
                                        <div class="border rounded p-1 mb-2" id="selectedLanguagesContainer"><span id="languagePillPlaceholder">No language selected.</span><span class="badge rounded-pill bg-light fw-normal border rounded-1 border-1 border-black d-inline-flex align-items-center me-2 mb-1" id="bookLang1" title=""><span class="fs-6 text-black d-flex align-items-center">Afrikaans<div class="btn-group btn-group-sm gap-0" role="group"><button class="btn d-flex align-items-center p-0" id="btnRemoveLanguage1" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="text-black ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" style="font-size: 17px;" title="Remove language">
                                                                <path d="M16.3956 7.75734C16.7862 8.14786 16.7862 8.78103 16.3956 9.17155L13.4142 12.153L16.0896 14.8284C16.4802 15.2189 16.4802 15.8521 16.0896 16.2426C15.6991 16.6331 15.0659 16.6331 14.6754 16.2426L12 13.5672L9.32458 16.2426C8.93405 16.6331 8.30089 16.6331 7.91036 16.2426C7.51984 15.8521 7.51984 15.2189 7.91036 14.8284L10.5858 12.153L7.60436 9.17155C7.21383 8.78103 7.21383 8.14786 7.60436 7.75734C7.99488 7.36681 8.62805 7.36681 9.01857 7.75734L12 10.7388L14.9814 7.75734C15.372 7.36681 16.0051 7.36681 16.3956 7.75734Z" fill="currentColor"></path>
                                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M4 1C2.34315 1 1 2.34315 1 4V20C1 21.6569 2.34315 23 4 23H20C21.6569 23 23 21.6569 23 20V4C23 2.34315 21.6569 1 20 1H4ZM20 3H4C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4C21 3.44772 20.5523 3 20 3Z" fill="currentColor"></path>
                                                            </svg></button></div></span></span><span class="badge rounded-pill bg-light fw-normal border rounded-1 border-1 border-black d-inline-flex align-items-center me-2 mb-1" id="bookLang2" title=""><span class="fs-6 text-black d-flex align-items-center">English<div class="btn-group btn-group-sm gap-0" role="group"><button class="btn d-flex align-items-center p-0" id="btnRemoveLanguage2" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="text-black ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" style="font-size: 17px;" title="Remove language">
                                                                <path d="M16.3956 7.75734C16.7862 8.14786 16.7862 8.78103 16.3956 9.17155L13.4142 12.153L16.0896 14.8284C16.4802 15.2189 16.4802 15.8521 16.0896 16.2426C15.6991 16.6331 15.0659 16.6331 14.6754 16.2426L12 13.5672L9.32458 16.2426C8.93405 16.6331 8.30089 16.6331 7.91036 16.2426C7.51984 15.8521 7.51984 15.2189 7.91036 14.8284L10.5858 12.153L7.60436 9.17155C7.21383 8.78103 7.21383 8.14786 7.60436 7.75734C7.99488 7.36681 8.62805 7.36681 9.01857 7.75734L12 10.7388L14.9814 7.75734C15.372 7.36681 16.0051 7.36681 16.3956 7.75734Z" fill="currentColor"></path>
                                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M4 1C2.34315 1 1 2.34315 1 4V20C1 21.6569 2.34315 23 4 23H20C21.6569 23 23 21.6569 23 20V4C23 2.34315 21.6569 1 20 1H4ZM20 3H4C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4C21 3.44772 20.5523 3 20 3Z" fill="currentColor"></path>
                                                            </svg></button></div></span></span></div>
                                        <div class="input-group"><select class="form-select" id="twoCmbLanguage" autocomplete="off">
                                                <optgroup label="Frequently used">
                                                    <option value="en">English</option>
                                                    <option value="af">Afrikaans</option>
                                                </optgroup>
                                            </select><button class="btn btn-primary d-flex align-items-center" data-bs-toggle="tooltip" data-bss-tooltip="" id="twoBtnAddLanguage" type="button" title="Add the selected language.">Add<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="align-items-center ms-1">
                                                    <path d="M12 6C12.5523 6 13 6.44772 13 7V11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H13V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V13H7C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11H11V7C11 6.44772 11.4477 6 12 6Z" fill="currentColor"></path>
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5 22C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5ZM4 19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19Z" fill="currentColor"></path>
                                                </svg></button></div>
                                        <small class="form-text" id="twoBookLanguageHelp"></small>
                                    </div>
                                    <div class="mb-3"><label class="form-label" for="twoEdtBookCoverURL"><strong>Book Cover Image URL</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="A direct link to an image of the book cover. The URL should point to an image file (JPG, PNG, or WebP)." tabindex="-1">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                        </svg>
                                        <div class="input-group"><input class="form-control" type="text" id="twoEdtBookCoverURL" name="bookCoverURL" inputmode="url" autocomplete="off"><button class="btn btn-secondary" id="twoBtnPreviewBookCover" type="button" data-bs-target="#bookCoverPreview" data-bs-toggle="modal">Preview</button></div><small class="form-text text-muted" id="twoBookCoverURLHint">Tip: open the cover image in a new tab and copy the direct image URL (it should end in .jpg, .png, or .webp). You can also right-click the cover and choose “Copy image address.”</small><small class="form-text" id="twoBookCoverURLHelp"></small>
                                    </div>
                                    <div class="mb-0">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <div><label class="form-label mb-0" for="twoRdtBookDescription"><strong>Book Description</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="A brief summary or blurb describing the book’s content, theme, or storyline." tabindex="-1">
                                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                                    <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                                </svg></div><button class="btn btn-outline-secondary btn-sm disabled" data-bs-toggle="tooltip" data-bss-tooltip="" id="twoBtnGenerateDescription" type="button" title="Automatically generate a short description based on the book’s details. You can edit or replace the generated text afterward." disabled=""><span class="d-none d-sm-inline" id="generateBookDescriptionButtonText">Generate Description</span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-stars ms-sm-1" data-bss-hover-animate="tada">
                                                    <path d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"></path>
                                                </svg></button>
                                        </div><textarea class="form-control" id="twoRdtBookDescription" name="bookDescription" placeholder="The Fellowship of the Ring is the first part of JRR Tolkien's epic masterpiece The Lord of the Rings. This 50th anniversary edition features special packaging and is the first paperback edition to include the definitive edition of the text." autocomplete="off" spellcheck="true" minlength="2" maxlength="2000"></textarea><small class="form-text" id="twoBookDescriptionHelp"></small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-4 top-0 order-first order-md-last mb-3 mb-md-0 sticky-md-top">
                                <div class="alert alert-warning mb-0" role="alert"><span><strong>Understanding Our Book System:</strong></span>
                                    <p class="mb-1">In The Book Project, a <strong><em>Book </em></strong>represents a specific edition of a work (identified by its ISBN).&nbsp;For example, a hardcover and paperback edition of The <em>Fellowship of the Ring</em> are considered separate books.</p>
                                    <p class="mb-0">A <strong><em>Book Copy</em></strong> is a physical copy you personally own: One or more copies of a <strong><em>Book</em></strong>.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card mt-3" id="bookBookTypeCard">
                <div class="card-body shadow">
                    <h4 class="card-title">Step 3: Select Book Type</h4>
                    <p>Book Type refers to the physical form or format of this book. For example <em>Hardcover</em>, <em>Softcover</em>, <em>Magazine</em>, or <em>Pamphlet</em>.&nbsp;Defining clear types helps you keep your collection consistent and searchable.</p>
                    <div class="mb-3"><label class="form-label mt-0" for="threeCmbBookType"><strong>Book Type</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Select the type/category that best describes this book. This helps with filtering and organisation." tabindex="-1">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                        </svg><select class="form-select" id="threeCmbBookType" autocomplete="off">
                            <option value="none" selected="">Select book type...</option>
                            <option value="Magazine">Magazine</option>
                            <option value="Hardcover">Hardcover</option>
                        </select><small class="form-text" id="threeBookTypeHelp"></small></div>
                    <div id="bookTypeDescriptionDisplay" class="d-none"><span class="form-label mb-1"><strong>Selected Book Type Description:</strong></span>
                        <p id="threeLblBookTypeDescription">No Book Type selected.</p>
                    </div>
                    <div>
                        <p class="text-muted mb-1">If you can't find the book type you're looking for, you can create a new book type.</p><button class="btn btn-outline-secondary" id="threeBtnAddBookType" type="button" data-bs-toggle="modal" data-bs-target="#addBookTypeModal">Create new Book Type<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="align-items-center ms-1">
                                <path d="M12 6C12.5523 6 13 6.44772 13 7V11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H13V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V13H7C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11H11V7C11 6.44772 11.4477 6 12 6Z" fill="currentColor"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M5 22C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5ZM4 19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19Z" fill="currentColor"></path>
                            </svg></button>
                    </div>
                </div>
            </div>
            <div class="card mt-3" id="bookAuthorsCard">
                <div class="card-body shadow">
                    <h4 class="card-title">Step 4: Add Book Authors</h4>
                    <p>Add one or more authors for this book. You can select existing authors from your collection or create new ones. Each author can have a specific role such as <em>Author</em>, <em>Editor</em>, <em>Illustrator</em>, or <em>Translator</em>, or you can specify another role if you prefer.</p>
                    <div class="mb-3" id="associatedAuthorsContainer">
                        <h5>Associated Authors</h5>
                        <ul class="list-group" id="selectedAuthorsList">
                            <li class="list-group-item" id="noAuthorsPlaceholder"><span>This book has no authors yet.</span></li>
                            <li class="list-group-item" id="liAuthorTemplate">
                                <div class="row align-items-center">
                                    <div class="col-12 col-md-4 col-xxl-4 mb-1 mb-md-0"><strong id="fourLblAuthorName1">J.R.R Tolkein</strong></div>
                                    <div class="col-12 col-md-3 mb-1 mb-md-0"><select class="form-select form-select-sm form-select" data-bs-toggle="tooltip" data-bss-tooltip="" id="fourCmbAuthorRole1" title="Choose the role this author had for this specific book." autocomplete="off">
                                            <option value="none" selected="">Select role...</option>
                                            <optgroup label="Core Roles">
                                                <option value="Author">Author</option>
                                                <option value="Editor">Editor</option>
                                                <option value="Illustrator">Illustrator</option>
                                                <option value="Translator">Translator</option>
                                                <option value="Other">Other...</option>
                                            </optgroup>
                                        </select></div>
                                    <div class="col-12 col-md-4">
                                        <div class="input-group input-group-sm"><span class="input-group-text input-group-text">Other Role:</span><input class="form-control form-control" type="text" data-bs-toggle="tooltip" data-bss-tooltip="" id="fourEdtAuthorOtherRole1" maxlength="100" minlength="2" placeholder="Other role..." title="Enter a custom role for this author if it is not available in the list." autocomplete="off"></div>
                                    </div>
                                    <div class="col-12 col-md-1 text-end"><button class="btn btn-sm btn-close" type="button"></button></div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="mb-3 position-relative" id="addExistingAuthorsContainer">
                        <h5>Add an Existing Author<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Search for and select the Authors who wrote this book. Once you click to add an author, you'll be able to specify the author's role." tabindex="-1" style="font-size: 17px;">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                            </svg></h5><input class="form-control" type="search" id="fourEdtAuthorSearch" placeholder="Search authors..." name="authorSearchInput" autocomplete="off">
                        <small class="form-text" id="fourAuthorSearchHelp"></small>
                        <div class="position-absolute d-none w-100 list-group search-results" id="authorSearchResults"></div>
                    </div>
                    <div>
                        <p class="text-muted mb-1">If you can't find the author you're looking for, you can add a new author.</p>
                    </div><button class="btn btn-outline-secondary" id="fourBtnAddAuthor" type="button" data-bs-toggle="modal" data-bs-target="#addAuthorModal">Add new Author<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="align-items-center ms-1">
                            <path d="M12 6C12.5523 6 13 6.44772 13 7V11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H13V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V13H7C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11H11V7C11 6.44772 11.4477 6 12 6Z" fill="currentColor"></path>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5 22C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5ZM4 19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19Z" fill="currentColor"></path>
                        </svg></button>
                </div>
            </div>
            <div class="card mt-3" id="bookPublishersCard">
                <div class="card-body shadow">
                    <h4 class="card-title">Step 5: Add Book Publisher</h4>
                    <p>Select the publisher for this book. A book, as identified by its ISBN, can only have one publisher. You can select an existing publisher or create a new one.</p>
                    <div class="mb-3"><label class="form-label mt-0" for="fiveCmbSelectPublisher"><strong>Publisher</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Select the publisher of this book." tabindex="-1">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                        </svg><select class="form-select" id="fiveCmbSelectPublisher" autocomplete="off">
                            <option value="none" selected="">Select publisher...</option>
                            <option value="Penguin Random House">Penguin Random House</option>
                            <option value="HarperCollins">HarperCollins</option>
                        </select><small class="form-text" id="bookPublisherHelp"></small></div>
                    <div id="bookPublisherDescriptionDisplay" class="d-none"><span class="form-label mb-1"><strong>The selected Publisher's founded date:</strong></span>
                        <p id="fiveLblPublisherFoundedDate">No Publisher selected.</p><span class="form-label mb-1"><strong>The selected Publisher's website:</strong></span>
                        <p id="fiveLblPublisherWebsite">No Publisher selected.</p><span class="form-label mb-1"><strong>The selected Publisher's notes:</strong></span>
                        <p id="fiveLblPublisherNotes">No Publisher selected.</p>
                    </div>
                    <p class="text-muted mb-1">If you can't find the publisher you're looking for, you can add a new publisher.</p><button class="btn btn-outline-secondary" id="fiveBtnAddPublisher" type="button" data-bs-toggle="modal" data-bs-target="#addPublisherModal">Add new Publisher<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="align-items-center ms-1">
                            <path d="M12 6C12.5523 6 13 6.44772 13 7V11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H13V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V13H7C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11H11V7C11 6.44772 11.4477 6 12 6Z" fill="currentColor"></path>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5 22C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5ZM4 19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19Z" fill="currentColor"></path>
                        </svg></button>
                </div>
            </div>
            <div class="card mt-3" id="bookSeriesCard">
                <div class="card-body shadow">
                    <h4 class="card-title">Step 6: Add Book Series</h4>
                    <p>Books can belong to one or more series. A series represents a group of books connected by story, theme, or publication sequence. Although most books belong to (at most) one series, you can link multiple for flexibility.</p>
                    <div class="mb-3" id="associatedSeriesContainer">
                        <h5>Associated Series</h5>
                        <ul class="list-group" id="selectedSeriesList">
                            <li class="list-group-item" id="noSeriesPlaceholder"><span>This book has no series yet.</span></li>
                            <li class="list-group-item" id="liSeriesTemplate">
                                <div class="row align-items-center">
                                    <div class="col-12 col-md-4 mb-1 mb-md-0"><strong id="seriesNameli1">The Lord of the Rings</strong></div>
                                    <div class="col-12 col-md-4">
                                        <div class="input-group input-group-sm"><span class="input-group-text input-group-text">Book order:</span><input class="form-control form-control" type="number" data-bs-toggle="tooltip" data-bss-tooltip="" id="seriesOrderli1" maxlength="100" minlength="2" title="The position of this book within the selected series. Use a whole number." min="0" autocomplete="off"></div>
                                    </div>
                                    <div class="col-12 col-md-4 text-end"><button class="btn btn-sm btn-close" type="button"></button></div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="mb-3 position-relative" id="addExistingSeriesContainer">
                        <h5>Add an Existing Series<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Search for a series already in your library and link this book to it. Once you click to add a series, you'll be able to specify this book's order in that series." style="font-size: 17px;">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                            </svg></h5><input class="form-control" type="search" id="sixEdtSearchSeries" placeholder="Search series..." name="authorSearchInput" autocomplete="off">
                        <small class="form-text" id="sixSeriesSearchHelp"></small>
                        <div class="position-absolute d-none w-100 list-group search-results" id="seriesSearchResults"></div>
                    </div>
                    <div>
                        <p class="text-muted mb-1">If you can't find the series you're looking for, you can add a new series.</p>
                    </div><button class="btn btn-outline-secondary" id="sixBtnAddSeries" type="button" data-bs-toggle="modal" data-bs-target="#addSeriesModal">Add new Series<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="align-items-center ms-1">
                            <path d="M12 6C12.5523 6 13 6.44772 13 7V11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H13V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V13H7C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11H11V7C11 6.44772 11.4477 6 12 6Z" fill="currentColor"></path>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5 22C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5ZM4 19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19Z" fill="currentColor"></path>
                        </svg></button>
                </div>
            </div>
            <div class="card mt-3" id="bookTagsCard">
                <div class="card-body shadow">
                    <h4 class="card-title">Step 7: Add Book Tags</h4>
                    <p>Tags are flexible labels that describe aspects of your book such as genre, themes, settings, or notable features.&nbsp;They make it easier to explore your collection and can overlap freely.&nbsp;You can use them to filter, group, and discover books later.</p>
                    <div class="mb-3" id="bookTagsContainer">
                        <h5>Book Tags</h5>
                        <ul class="list-group" id="selectedSeriesList-1">
                            <li class="list-group-item" id="noSeriesPlaceholder-1"><span>This book has no tags yet.</span></li>
                            <li class="list-group-item" id="liSeriesTemplate-1">
                                <div class="p-1" id="suggestedTags-1"><span class="badge rounded-pill bg-light fw-normal border rounded-1 border-1 border-black d-inline-flex align-items-center me-2 mb-1" id="bookTag1" title=""><span class="fs-6 text-black d-flex align-items-center">Fantasy<div class="btn-group btn-group-sm gap-0" role="group"><button class="btn d-flex align-items-center p-0" id="btnRemoveBookTag1" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="text-black ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" style="font-size: 17px;" title="Remove tag">
                                                        <path d="M16.3956 7.75734C16.7862 8.14786 16.7862 8.78103 16.3956 9.17155L13.4142 12.153L16.0896 14.8284C16.4802 15.2189 16.4802 15.8521 16.0896 16.2426C15.6991 16.6331 15.0659 16.6331 14.6754 16.2426L12 13.5672L9.32458 16.2426C8.93405 16.6331 8.30089 16.6331 7.91036 16.2426C7.51984 15.8521 7.51984 15.2189 7.91036 14.8284L10.5858 12.153L7.60436 9.17155C7.21383 8.78103 7.21383 8.14786 7.60436 7.75734C7.99488 7.36681 8.62805 7.36681 9.01857 7.75734L12 10.7388L14.9814 7.75734C15.372 7.36681 16.0051 7.36681 16.3956 7.75734Z" fill="currentColor"></path>
                                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4 1C2.34315 1 1 2.34315 1 4V20C1 21.6569 2.34315 23 4 23H20C21.6569 23 23 21.6569 23 20V4C23 2.34315 21.6569 1 20 1H4ZM20 3H4C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4C21 3.44772 20.5523 3 20 3Z" fill="currentColor"></path>
                                                    </svg></button></div></span></span><span class="badge rounded-pill bg-light fw-normal border rounded-1 border-1 border-black d-inline-flex align-items-center me-2 mb-1" id="bookTag2" title=""><span class="fs-6 text-black d-flex align-items-center">Adventure<div class="btn-group btn-group-sm gap-0" role="group"><button class="btn d-flex align-items-center p-0" id="btnRemoveBookTag1" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="text-black ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" style="font-size: 17px;" title="Remove tag">
                                                        <path d="M16.3956 7.75734C16.7862 8.14786 16.7862 8.78103 16.3956 9.17155L13.4142 12.153L16.0896 14.8284C16.4802 15.2189 16.4802 15.8521 16.0896 16.2426C15.6991 16.6331 15.0659 16.6331 14.6754 16.2426L12 13.5672L9.32458 16.2426C8.93405 16.6331 8.30089 16.6331 7.91036 16.2426C7.51984 15.8521 7.51984 15.2189 7.91036 14.8284L10.5858 12.153L7.60436 9.17155C7.21383 8.78103 7.21383 8.14786 7.60436 7.75734C7.99488 7.36681 8.62805 7.36681 9.01857 7.75734L12 10.7388L14.9814 7.75734C15.372 7.36681 16.0051 7.36681 16.3956 7.75734Z" fill="currentColor"></path>
                                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4 1C2.34315 1 1 2.34315 1 4V20C1 21.6569 2.34315 23 4 23H20C21.6569 23 23 21.6569 23 20V4C23 2.34315 21.6569 1 20 1H4ZM20 3H4C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4C21 3.44772 20.5523 3 20 3Z" fill="currentColor"></path>
                                                    </svg></button></div></span></span></div>
                            </li>
                        </ul>
                    </div>
                    <div class="mb-3" id="addTagsContainer">
                        <h5>Add Book Tag<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Add keywords or labels to describe the book. Tags help with searching and filtering." style="font-size: 17px;">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                            </svg></h5>
                        <div class="input-group"><input class="form-control" type="text" id="sevenEdtBookTag" autocomplete="off"><button class="btn btn-primary" id="sevenBtnAddBookTag" type="button">Add<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="align-items-center ms-1">
                                    <path d="M12 6C12.5523 6 13 6.44772 13 7V11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H13V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V13H7C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11H11V7C11 6.44772 11.4477 6 12 6Z" fill="currentColor"></path>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5 22C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5ZM4 19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19Z" fill="currentColor"></path>
                                </svg></button></div>
                        <small class="form-text" id="sevenBookTagHelp"></small>
                        <div class="position-absolute d-none w-100 list-group" id="seriesSearchResults-1"></div>
                    </div>
                </div>
            </div>
            <div class="card mt-3" id="bookCopyDetailsCard">
                <div class="card-body shadow">
                    <h4 class="card-title">Step 8: Enter Book Copy Details</h4>
                    <p>Here you can enter the specific details of your first copy of this book. This includes where the book is stored, how the book was acquired, the book's condition, etc.&nbsp;<br>You can add multiple copies of the same book later, each with its own details. This step is only for the first copy of this book.</p>
                    <div>
                        <div class="row align-items-start">
                            <div class="col-12 col-md-8">
                                <div>
                                    <div class="mb-3">
                                        <h5>Storage Location</h5>
                                        <div class="mb-0"><label class="form-label" for="eightCmbLocation"><strong>Storage Location</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Select where this book copy is stored. Locations can be nested to reflect real-world organization (for example, Residence → Office → Bookshelf)." tabindex="-1">
                                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                            </svg><select class="form-select" id="eightCmbLocation" name="bookTitle" placeholder="The Fellowship of the Ring" autocomplete="off" required="" minlength="2" maxlength="255">
                                                <option value="none" selected="">Select storage location...</option>
                                                <option value="Home">Home</option>
                                                <option value="Home -> Living Room">Home -> Living Room</option>
                                                <option value="Home -> Living Room -> Shelf A">Home -> Living Room -> Shelf A</option>
                                                <option value="Home -> Living Room -> Shelf B">Home -> Living Room -> Shelf B</option>
                                                <option value="Home -> My Bedroom">Home -> My Bedroom</option>
                                                <option value="Home -> My Bedroom -> Top Rack">Home -> My Bedroom -> Top Rack</option>
                                                <option value="Home -> My Bedroom -> Top Rack -> Box 1">Home -> My Bedroom -> Top Rack -> Box 1</option>
                                                <option value="Uni Residence">Uni Residence</option>
                                                <option value="Uni Residence -> Black Bookshelf">Uni Residence -> Black Bookshelf</option>
                                                <option value="Uni Residence -> Black Bookshelf -> Top Rack">Uni Residence -> Black Bookshelf -> Top Rack</option>
                                                <option value="Uni Residence -> Old Bookshelf">Uni Residence -> Old Bookshelf</option>
                                            </select><small class="form-text" id="eightBookLocationHelp"></small></div>
                                        <div class="mt-2 d-none" id="storageLocationNotesDisplay"><span class="form-label mb-1"><strong>Selected location notes:</strong></span>
                                            <p id="eightLblLocationNotes" class="mb-0">No storage location selected.</p>
                                        </div>
                                        <p class="fs-6 text-secondary mb-1">Storage locations are hierarchical. You can store books broadly (for example, "<em>Home</em>") or very specifically (for example, "<em>Home → Study → Top Shelf</em>").</p>
                                        <p class="text-secondary mb-1">If you can't find the storage location you're looking for, you can add a new storage location.</p><button class="btn btn-outline-secondary" id="eightBtnAddLocation" type="button" data-bs-toggle="modal" data-bs-target="#addLocationModal">Add new Storage Location<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" class="align-items-center ms-1">
                                                <path d="M12 6C12.5523 6 13 6.44772 13 7V11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H13V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V13H7C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11H11V7C11 6.44772 11.4477 6 12 6Z" fill="currentColor"></path>
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M5 22C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5ZM4 19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19Z" fill="currentColor"></path>
                                            </svg></button>
                                    </div>
                                    <div class="mb-3">
                                        <h5>Acquisition Details</h5>
                                        <div class="mb-0"><label class="form-label" for="eightRdtStory"><strong>Acquisition Story</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Describe how this book copy came into your collection (for example, when, where, and why you got it)." tabindex="-1">
                                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                            </svg><small class="form-text" id="bookTitleHelp-2"></small><textarea class="form-control" id="eightRdtStory" name="bookDescription" placeholder="I got this book from my grandmother in 2022 when we were at the Bidsa Books book day." autocomplete="off" spellcheck="true" minlength="2" maxlength="2000"></textarea></div>
                                        <p class="text-secondary mt-1 mb-1">Automatically extract and suggest acquisition details based on the story above. You can review and edit the results.</p><button class="btn btn-outline-secondary mb-3 disabled" data-bs-toggle="tooltip" data-bss-tooltip="" id="eightBtnFillFromStory" type="button" title="Automatically generate a short description based on the book’s details. You can edit or replace the generated text afterward." disabled=""><span id="generateBookDescriptionButtonText-2">Fill from acquisition story</span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-stars ms-sm-1" data-bss-hover-animate="tada">
                                                <path d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"></path>
                                            </svg></button>
                                        <div class="row">
                                            <div class="col col-md-6">
                                                <div class="mb-3"><label class="form-label ms-0" for="eightEdtAcquisitionDate"><strong>Acquisition date</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="The date you acquired this book copy. Partial dates are supported." tabindex="-1">
                                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                                    </svg><input class="form-control" type="text" id="eightEdtAcquisitionDate" name="bookSubtitle" placeholder="2022" autocomplete="off" minlength="2" maxlength="255"><small class="form-text" id="eightAcquisitioDateHelp"></small></div>
                                            </div>
                                            <div class="col-12 col-md-6">
                                                <div class="mb-3"><label class="form-label ms-0" for="eightEdtAcquiredFrom"><strong>Acquired from</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Who or where the book was acquired from (for example, a store, person, or event)." tabindex="-1">
                                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                                    </svg><input class="form-control" type="text" id="eightEdtAcquiredFrom" name="bookSubtitle" placeholder="Grandmother" autocomplete="off" minlength="2" maxlength="255"><small class="form-text" id="eightAcquiredFromHelp"></small></div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-md-6">
                                                <div class="mb-3"><label class="form-label ms-0" for="eightCmbAcquisitionType"><strong>Acquisition type</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="How this book copy was obtained." tabindex="-1">
                                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                                    </svg><select class="form-select" id="eightCmbAcquisitionType" name="bookSubtitle" placeholder="2022" autocomplete="off" minlength="2" maxlength="255">
                                                        <option value="none" selected>Select acquisition type...</option>
                                                        <option value="Purchased">Purchased</option>
                                                        <option value="Gifted">Gifted</option>
                                                        <option value="Inherited">Inherited</option>
                                                        <option value="Found">Found</option>
                                                        <option value="Won">Won</option>
                                                        <option value="Borrowed">Borrowed</option>
                                                        <option value="Other">Other</option>
                                                    </select><small class="form-text" id="eightAcquisitioType"></small></div>
                                            </div>
                                            <div class="col-12 col-md-6">
                                                <div class="mb-3"><label class="form-label ms-0" for="eightEdtAcquisitionLocation"><strong>Acquisition location</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Where this book copy was acquired (for example, city, store, or event location)." tabindex="-1">
                                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                                    </svg><input class="form-control" type="text" id="eightEdtAcquisitionLocation" name="bookSubtitle" placeholder="Cape town" autocomplete="off" minlength="2" maxlength="255"><small class="form-text" id="eightAcquisitionLocationHelp"></small></div>
                                            </div>
                                        </div>
                                        <div class="mb-0"><label class="form-label" for="eightRdtOtherNotes"><strong>Other notes or details</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Any additional details about this book copy’s acquisition or condition." tabindex="-1">
                                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                            </svg><small class="form-text" id="bookTitleHelp-1"></small><textarea class="form-control" id="eightRdtOtherNotes" name="bookDescription" placeholder="I got this book mainly for reading." autocomplete="off" spellcheck="true" minlength="2" maxlength="2000"></textarea></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-4 top-0 order-first order-md-last mb-3 mb-md-0 sticky-md-top">
                                <div class="alert alert-warning mb-0" role="alert"><span><strong>Understanding Our Book System:</strong></span>
                                    <p class="mb-0">A <strong><em>Book Copy</em></strong> is a physical copy you personally own: One or more copies of a <strong><em>Book</em></strong>. Each Book Copy can have its own storage location and acquisition details.</p>
                                    <p class="mb-1">A <strong><em>Book </em></strong>represents a specific edition of a work (identified by its ISBN).&nbsp;For example, a hardcover and paperback edition of The <em>Fellowship of the Ring</em> are considered separate books.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div class="d-flex justify-content-center my-4">
            <button class="btn btn-primary btn-lg mb-4" id="reviewAddBookBtn" type="button">Review and then Add Book</button>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="reviewAddBookModal">
            <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Review Book Details</h4><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger d-none" role="alert" id="reviewErrorsAlert"></div>
                        <div class="alert alert-info d-none" role="alert" id="reviewDryRunAlert"></div>
                        <div id="reviewSummary"></div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-outline-secondary" id="reviewGoBackBtn" data-bs-dismiss="modal" type="button">Go Back</button>
                        <button class="btn btn-primary" id="confirmAddBookBtn" type="button">
                            <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true" id="confirmAddBookSpinner"></span>
                            Confirm and Add Book
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="sessionExpiredModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" data-lang="session_expired_heading">Session Expired!</h4><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <p class="mb-0" data-lang="session_expired_text">Your session has ended for security reasons. This might happen due to:</p>
                        <ul>
                            <li data-lang="session_expired_li1"><strong>Inactivity:</strong> You've been away for a while, and we need to confirm your identity.</li>
                            <li data-lang="session_expired_li2"><strong>Password Reset:</strong> You changed your password recently, so you need to log in again on all devices.</li>
                            <li data-lang="session_expired_li3"><strong>Manual Logout:</strong> You manually logged out on all devices.</li>
                        </ul>
                        <p class="mb-0" data-lang="session_expired_footer"><em>Close this window to go back to the page where you can log in.</em></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="rateLimitModal" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Please Slow Down for a Moment</h4>
                    </div>
                    <div class="modal-body">
                        <p class="mb-2">It looks like The Book Project has been opened or refreshed several times in a short period. Because of this, some essential information needed to add a book isn’t available right now.</p>
                        <p class="mb-3">Nothing is wrong, and there’s nothing you need to do. This page will automatically reload at <strong id="rateLimitResetTime">soon</strong> once everything is ready again.</p>
                        <p class="mb-2 text-muted">Preparing to continue…</p>
                        <div class="progress" role="progressbar" aria-label="Rate limit reset progress" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar" id="rateLimitProgress" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="aboutPartialDates">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">About Partial Dates</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-info" role="alert">
                            <p class="mb-0">You can enter a <strong>partial date</strong> when you don’t know every part. If you only know the year, or month and year, enter just that and we’ll store it with the right precision.</p>
                        </div>
                        <p class="mb-2">We accept most common formats in English or Afrikaans. Numeric dates default to day-month-year.</p>
                        <h5>Examples:</h5>
                        <ul>
                            <li>23 October 2005</li>
                            <li>October 2005</li>
                            <li>2005</li>
                            <li>23/10/2005 or 23-10-2005</li>
                            <li>23 October <span class="fw-light">(uses the most recent past date)</span></li>
                            <li>3 years ago</li>
                        </ul>
                        <h5>How we interpret dates:</h5>
                        <ul>
                            <li>Missing years use the most recent matching date (not in the future).</li>
                            <li>Two-digit years are expanded based on the current year.</li>
                            <li>Relative phrases (e.g. “2 months ago”) are based on today.</li>
                        </ul>
                        <h5>Not supported:</h5>
                        <ul>
                            <li>Vague phrases like “Next May”, “Q1 2025”, or “Summer 2025”.</li>
                            <li>Languages other than English or Afrikaans.</li>
                        </ul>
                        <p class="mb-0">We store the date with its precision and display it back clearly (for example, <em>23 October 2005</em>, <em>October 2005</em>, or <em>2005</em>).</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="bookCoverPreview" style="display:none;">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Book Cover Preview</h4><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <p>Here is a preview of your book cover. If the URL for your Book Cover Image is correct, it will be displayed below. If there's an issue with the URL, you will see either the text "Book Cover" or an image indicating "No Book Cover Available".</p>
                        <div class="card shadow" id="bookCoverPreviewCard">
                            <div class="card-body">
                                <div class="cover-preview-frame">
                                    <img class="cover-preview-image" id="bookCoverPreviewImage" alt="Book Cover" src="assets/img/BookCoverPlaceholder.png">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="addBookTypeModal" aria-labelledby="addBookTypeModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="addBookTypeModalLabel">Create a New Book Type</h4><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger d-none" role="alert" id="threeBookTypeErrorAlert"></div>
                        <form id="threeAddBookTypeForm">
                            <div class="mb-3"><label class="form-label" for="threeEdtBookTypeName"><strong>Book Type Name</strong></label><label class="form-label text-danger" for="threeEdtBookTypeName"><strong>*</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Enter a clear name for this book type, such as Hardcover or Softcover.">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                    <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                </svg><input class="form-control" type="text" id="threeEdtBookTypeName" name="bookTypeName" placeholder="Hardcover" autocomplete="off" required="" minlength="2" maxlength="100"><small class="form-text" id="threeBookTypeNameHelp"></small></div>
                            <div class="mb-0"><label class="form-label" for="threeRdtBookTypeDescription"><strong>Description</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="Describe the physical format and any special notes for this book type.">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                    <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                </svg><textarea class="form-control" id="threeRdtBookTypeDescription" name="bookTypeDescription" placeholder="Sturdy hardback with dust jacket." autocomplete="off" spellcheck="true" minlength="2" maxlength="500"></textarea><small class="form-text" id="threeBookTypeDescriptionHelp"></small></div>
                        </form>
                    </div>
                    <div class="modal-footer"><button class="btn btn-outline-secondary" id="threeBtnResetBookType" type="button">Reset</button><button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Cancel</button><button class="btn btn-primary" id="threeBtnSaveBookType" type="button">Add Book Type</button></div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="addAuthorModal" aria-labelledby="addAuthorModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="addAuthorModalLabel">Add a New Author</h4><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger d-none" role="alert" id="fourAuthorErrorAlert"></div>
                        <form id="fourAddAuthorForm">
                            <div class="mb-3"><label class="form-label" for="fourEdtAuthorDisplayName"><strong>Display Name</strong></label><label class="form-label text-danger" for="fourEdtAuthorDisplayName"><strong>*</strong></label><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-info-circle text-muted ms-1" data-bs-toggle="tooltip" data-bss-tooltip="" title="The name shown in your collection (for example, a pen name or organization).">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                                    <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path>
                                </svg><input class="form-control" type="text" id="fourEdtAuthorDisplayName" name="authorDisplayName" placeholder="J.R.R. Tolkien" autocomplete="off" required="" minlength="2" maxlength="150"></div>
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <div class="mb-3"><label class="form-label" for="fourEdtAuthorFirstName"><strong>First Name(s)</strong></label><input class="form-control" type="text" id="fourEdtAuthorFirstName" name="authorFirstName" placeholder="John Ronald Reuel" autocomplete="off" minlength="2" maxlength="150"></div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="mb-3"><label class="form-label" for="fourEdtAuthorLastName"><strong>Last Name</strong></label><input class="form-control" type="text" id="fourEdtAuthorLastName" name="authorLastName" placeholder="Tolkien" autocomplete="off" minlength="2" maxlength="100"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <div class="mb-3"><label class="form-label" for="fourEdtAuthorBirthDate"><strong>Birth Date</strong></label><input class="form-control" type="text" id="fourEdtAuthorBirthDate" name="authorBirthDate" placeholder="3 January 1892" autocomplete="off" maxlength="50"><small class="form-text" id="fourAuthorBirthDateHelp"></small></div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="fourChkAuthorDeceased" data-bs-toggle="collapse" data-bs-target="#authorDeathDateWrap" aria-expanded="false" aria-controls="authorDeathDateWrap" autocomplete="off">
                                        <label class="form-check-label" for="fourChkAuthorDeceased">Author is deceased</label>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="collapse mb-3 mb-md-0" id="authorDeathDateWrap">
                                        <label class="form-label" for="fourEdtAuthorDeathDate"><strong>Death Date</strong></label><input class="form-control" type="text" id="fourEdtAuthorDeathDate" name="authorDeathDate" placeholder="2 September 1973" autocomplete="off" maxlength="50"><small class="form-text" id="fourAuthorDeathDateHelp"></small>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-0"><label class="form-label" for="fourRdtAuthorBio"><strong>Short Bio</strong></label><textarea class="form-control" id="fourRdtAuthorBio" name="authorBio" placeholder="Short background or notes about this author." autocomplete="off" spellcheck="true" minlength="2" maxlength="1000"></textarea></div>
                        </form>
                    </div>
                    <div class="modal-footer"><button class="btn btn-outline-secondary" id="fourBtnResetAuthor" type="button">Reset</button><button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Cancel</button><button class="btn btn-primary" id="fourBtnSaveAuthor" type="button">Add Author</button></div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="addPublisherModal" aria-labelledby="addPublisherModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="addPublisherModalLabel">Add a New Publisher</h4><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger d-none" role="alert" id="fivePublisherErrorAlert"></div>
                        <form id="fiveAddPublisherForm">
                            <div class="mb-3"><label class="form-label" for="fiveEdtPublisherName"><strong>Publisher Name</strong></label><label class="form-label text-danger" for="fiveEdtPublisherName"><strong>*</strong></label><input class="form-control" type="text" id="fiveEdtPublisherName" name="publisherName" placeholder="HarperCollins" autocomplete="off" required="" minlength="2" maxlength="150"></div>
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <div class="mb-3"><label class="form-label" for="fiveEdtPublisherFoundedDate"><strong>Founded Date</strong></label><input class="form-control" type="text" id="fiveEdtPublisherFoundedDate" name="publisherFoundedDate" placeholder="March 1989" autocomplete="off" maxlength="50"><small class="form-text" id="fivePublisherFoundedDateHelp"></small></div>
                                </div>
                            </div>
                            <div class="mb-3"><label class="form-label" for="fiveEdtPublisherWebsite"><strong>Website</strong></label><input class="form-control" type="url" id="fiveEdtPublisherWebsite" name="publisherWebsite" placeholder="https://www.publisher.com" inputmode="url" autocomplete="off"></div>
                            <div class="mb-0"><label class="form-label" for="fiveRdtPublisherNotes"><strong>Notes</strong></label><textarea class="form-control" id="fiveRdtPublisherNotes" name="publisherNotes" placeholder="Optional description or notes about this publisher." autocomplete="off" spellcheck="true" minlength="2" maxlength="1000"></textarea></div>
                        </form>
                    </div>
                    <div class="modal-footer"><button class="btn btn-outline-secondary" id="fiveBtnResetPublisher" type="button">Reset</button><button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Cancel</button><button class="btn btn-primary" id="fiveBtnSavePublisher" type="button">Add Publisher</button></div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="addSeriesModal" aria-labelledby="addSeriesModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="addSeriesModalLabel">Add a New Series</h4><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger d-none" role="alert" id="sixSeriesErrorAlert"></div>
                        <p class="text-muted mb-3">Series start and end dates are automatically derived from the books you add to the series.</p>
                        <form id="sixAddSeriesForm">
                            <div class="mb-3"><label class="form-label" for="sixEdtSeriesName"><strong>Series Name</strong></label><label class="form-label text-danger" for="sixEdtSeriesName"><strong>*</strong></label><input class="form-control" type="text" id="sixEdtSeriesName" name="seriesName" placeholder="The Lord of the Rings" autocomplete="off" required="" minlength="2" maxlength="150"></div>
                            <div class="mb-3"><label class="form-label" for="sixEdtSeriesWebsite"><strong>Series Website</strong></label><input class="form-control" type="url" id="sixEdtSeriesWebsite" name="seriesWebsite" placeholder="https://www.series.com" inputmode="url" autocomplete="off"></div>
                            <div class="mb-0"><label class="form-label" for="sixRdtSeriesDescription"><strong>Description</strong></label><textarea class="form-control" id="sixRdtSeriesDescription" name="seriesDescription" placeholder="Brief overview or notes about this series." autocomplete="off" spellcheck="true" minlength="2" maxlength="1000"></textarea></div>
                        </form>
                    </div>
                    <div class="modal-footer"><button class="btn btn-outline-secondary" id="sixBtnResetSeries" type="button">Reset</button><button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Cancel</button><button class="btn btn-primary" id="sixBtnSaveSeries" type="button">Add Series</button></div>
                </div>
            </div>
        </div>
        <div class="modal fade" role="dialog" tabindex="-1" data-bs-backdrop="static" id="addLocationModal" aria-labelledby="addLocationModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="addLocationModalLabel">Add a New Storage Location</h4><button class="btn-close" aria-label="Close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger d-none" role="alert" id="eightLocationErrorAlert"></div>
                        <form id="eightAddLocationForm">
                            <div class="mb-3" id="eightLocationTypeGroup">
                                <label class="form-label"><strong>Location Type</strong></label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="locationType" id="eightRdoLocationBase" value="base" checked="" data-bs-toggle="collapse" data-bs-target="#eightBaseLocationFields" aria-controls="eightBaseLocationFields" autocomplete="off">
                                    <label class="form-check-label" for="eightRdoLocationBase">New base location</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="locationType" id="eightRdoLocationNested" value="nested" data-bs-toggle="collapse" data-bs-target="#eightNestedLocationFields" aria-controls="eightNestedLocationFields" autocomplete="off">
                                    <label class="form-check-label" for="eightRdoLocationNested">Nested under an existing location</label>
                                </div>
                            </div>
                            <div class="collapse show" id="eightBaseLocationFields" data-bs-parent="#eightLocationTypeGroup">
                                <div class="mb-3"><label class="form-label" for="eightEdtLocationNameBase"><strong>Location Name</strong></label><label class="form-label text-danger" for="eightEdtLocationNameBase"><strong>*</strong></label><input class="form-control" type="text" id="eightEdtLocationNameBase" name="locationNameBase" placeholder="Residence" autocomplete="off" required="" minlength="2" maxlength="200"></div>
                                <div class="mb-0"><label class="form-label" for="eightRdtLocationNotesBase"><strong>Notes</strong></label><textarea class="form-control" id="eightRdtLocationNotesBase" name="locationNotesBase" placeholder="Optional notes about this location." autocomplete="off" spellcheck="true" minlength="2" maxlength="500"></textarea></div>
                            </div>
                            <div class="collapse" id="eightNestedLocationFields" data-bs-parent="#eightLocationTypeGroup">
                                <div class="mb-3"><label class="form-label" for="eightCmbParentLocation"><strong>Parent Location</strong></label><label class="form-label text-danger" for="eightCmbParentLocation"><strong>*</strong></label><select class="form-select" id="eightCmbParentLocation" name="parentLocation" autocomplete="off">
                                        <option value="none" selected="">Select parent location...</option>
                                        <option value="Home">Home</option>
                                        <option value="Home -> Living Room">Home -> Living Room</option>
                                        <option value="Home -> Living Room -> Shelf A">Home -> Living Room -> Shelf A</option>
                                        <option value="Home -> Living Room -> Shelf B">Home -> Living Room -> Shelf B</option>
                                        <option value="Home -> My Bedroom">Home -> My Bedroom</option>
                                        <option value="Home -> My Bedroom -> Top Rack">Home -> My Bedroom -> Top Rack</option>
                                        <option value="Home -> My Bedroom -> Top Rack -> Box 1">Home -> My Bedroom -> Top Rack -> Box 1</option>
                                        <option value="Uni Residence">Uni Residence</option>
                                        <option value="Uni Residence -> Black Bookshelf">Uni Residence -> Black Bookshelf</option>
                                        <option value="Uni Residence -> Black Bookshelf -> Top Rack">Uni Residence -> Black Bookshelf -> Top Rack</option>
                                        <option value="Uni Residence -> Old Bookshelf">Uni Residence -> Old Bookshelf</option>
                                    </select></div>
                                <div class="mb-3"><label class="form-label" for="eightEdtLocationNameNested"><strong>Location Name</strong></label><label class="form-label text-danger" for="eightEdtLocationNameNested"><strong>*</strong></label><input class="form-control" type="text" id="eightEdtLocationNameNested" name="locationNameNested" placeholder="Top Shelf" autocomplete="off" required="" minlength="2" maxlength="200"></div>
                                <div class="mb-0"><label class="form-label" for="eightRdtLocationNotesNested"><strong>Notes</strong></label><textarea class="form-control" id="eightRdtLocationNotesNested" name="locationNotesNested" placeholder="Optional notes about this location." autocomplete="off" spellcheck="true" minlength="2" maxlength="500"></textarea></div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer"><button class="btn btn-outline-secondary" id="eightBtnResetLocation" type="button">Reset</button><button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Cancel</button><button class="btn btn-primary" id="eightBtnSaveLocation" type="button">Add Location</button></div>
                </div>
            </div>
        </div>
    </div>
    <div id="recaptcha-root" class="hidden" data-sitekey="6LeedsorAAAAALv_xUltcVyeYvCInfhGVl7qkeMA"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/http-interceptor.js"></script>
    <script src="assets/js/common.js"></script>
    <script src="assets/js/recaptcha-v3.js"></script>
    <script src="assets/js/partial-date-parser.js"></script>
    <script src="assets/js/maintenance.js"></script>
    <script src="assets/js/add-book-helpers.js"></script>
    <script src="assets/js/add-book-booktypes.js"></script>
    <script src="assets/js/add-book-authors.js"></script>
    <script src="assets/js/add-book-publishers.js"></script>
    <script src="assets/js/add-book-series.js"></script>
    <script src="assets/js/add-book-languages.js"></script>
    <script src="assets/js/add-book-tags.js"></script>
    <script src="assets/js/add-book-locations.js"></script>
    <script src="assets/js/add-book-cover.js"></script>
    <script>
        window.ADD_BOOK_REDIRECT_BASE = 'book-details?id=';
    </script>
    <script src="assets/js/add-book-review.js"></script>
    <script src="assets/js/add-book.js"></script>
</body>

</html>

<!--

You are allowed to edit and modify the HTML code above as needed, but the main focus of your task is to
write the necessary JavaScript code to implement the required functionality for this "Add Book" page.

The JS needs to handle the following:
- Validation of all fields as the user fills them in (with appropriate error messages shown 
  in the small help text areas below each field) (if field is empty, no error message should
  be shown, except for required fields). To see validation rules, look at api\api-docs.md and
  the appropriate endpoints in the api folder.
- Each individual "Add New ..." modals need to handle validation and submission of the data to the
  appropriate API endpoint, and if successful, add the new item to the appropriate dropdown
  in the main form, and select it (or add it to the appropriate list). If unsuccessful, show 
  appropriate error messages in the modal itself: Error messages from the API should be shown using 
  an alert at the top of the modal (see how this is done in index.html for register, login, etc.). 
  If possible, "Add New ..." modals should remember the data the user entered when the user closes
  the modal, and re-populate the fields when they re-open the modal. There should be
  a "Reset" button in each modal that clears all fields back to empty/default state (and clears any
  error messages in alerts and help text areas). If the user successfully adds a new item, the modal
  should be cleared/reset for the next time it is opened. Note: A model cannot be closed while an API
  request is in progress!!
- When a user clicks a button that sends an API request, a loading spinner should be shown on the button,
  and the button should be disabled to prevent multiple clicks. The fields should also be disabled while
  the request is in progress. A model cannot be closed while an API request is in progress!! If the request 
  fails, the button and fields should be re-enabled. Error messages from the API should be shown using an 
  alert at the top of the modal (see how this is done in index.html for register, login, etc.). 
- Any field that takes in a date should use the partial date parser from assets/js/partial-date-parser.js
  and show "Your date will be stored as: ..." below the field (in the small help text area) once
  the user has entered a valid date. If the date is invalid, show an appropriate error message
  instead. This is for all date fields, including in the "Add New ..." modals. If the field is empty,
  no message should be shown.
- Important note: A field is only considered required if it has a red asterisk (*) next to its label.
  Any other field, including book type, book authors, book publisher, book series, book tags, and copy
  details are all optional. 
- The Book Cover Image URL field has a "Preview" button next to it that opens a modal. This modal
  should show the preview of the book cover image (if the URL is valid), or a placeholder image
  if not. The modal should also have a short explanation of how the book cover preview works
  (see the existing modal in the code).
- Check what the POST /book endpoint requires, and ensure that you store all necessary data
  from the form to send to this endpoint when the user clicks the "Review and then Add Book" button. 
  If the API requires language ids instead of names, you will need to store the ids when populating
  the dropdowns/lists, for example.
- Languages should be populated into the Language dropdown from the GET /languages endpoint when
  the page loads. Sometimes users can add multiple languages to a book. The user selects a language from 
  the dropdown, and clicks an "Add Language" button next to it. The selected language is then
  added to a list above it, and removed from the dropdown. Each language in the list has a
  "Remove" icon/button next to it that should remove it from the list, and add it back to the dropdown.
  If no language has been added yet, show "No languages added yet." in the list area. If the 
  user removes all languages, show this message again. If the user attempts to click the Add
  Language button without selecting a language, show an error message in the help text area. If
  no more languages are available to add, disable the Add Language button and the dropdown, and show
  "All available languages have been added." in the help text area. 
- Book Types should be populated into the Book Type dropdown from the GET /booktype endpoint when
  the page loads. If no book types exist yet, the dropdown should be disabled, and a message "No book 
  types available. Please add a new book type." should be shown in the help text area below. For the 
  Book Type, users can select one from the dropdown. When a user selects a book type from the
  dropdown, the Book Type's description (if any) should be shown in the appropriate field in the Book
  Type card. 
- For the Create a New Book Type modal, the Book Type Name is required, and the Description is optional.
- Book Authors should be retrieved from the GET /author endpoint when the page loads. For Authors, the
  users use a search-as-you-type field to find and select authors. As the user types, show
  matching authors in a dropdown/list below the field. The user can then click on an author in the 
  dropdown/list to select them. Once selected, the author is added to a list of selected authors
  above the field, and removed from the dropdown/list. If an author is already in the selected
  authors list, they should not be shown in the dropdown/list while the user searches for other
  authors (i.e. authors already selected should not appear in search results). Each author in the
  selected authors list has a "Remove" icon/button next to them that removes them from the selected
  authors list, and adds them back to the search results. If no authors have been selected yet,
  show "No authors selected yet." in the selected authors list area. If the user removes all authors, 
  show this message again. The authors that appear in the
  selected authors list should show their display name. There should also be a dropdown next to the
  author's name that allows the user to select the author's role for this book (see the example in the
  html code). If the user selects "Other" as the role, a small text field should appear next to the dropdown
  that allows the user to enter a custom role. This role should be required if "Other" is selected. 
  Validation should be done as the user types in the custom role to ensure that the role is valid.
  Author roles are not required, so if the user does not select a role, no role should be sent to the API
  for that author.
- For the Add a New Author modal, the Display Name is required, First Name(s) and Last Name are optional,
  Birth Date and Death Date are optional and Short Bio is optional. The Death Date field should only be shown
  if the user enables a checkbox that indicates the author is deceased. Note, this checkbox is the deceased
  flag: It can be checked with no Death Date provided. If it is unchecked, the Death Date field should be hidden
  and no Death Date should be sent to the API.
- Book Publishers should be populated into the Publisher dropdown from the GET /publisher endpoint when
  the page loads. If no publishers exist yet, the dropdown should be disabled, and a message "No publishers 
  available. Please add a new publisher." should be shown in the help text area below. For the Publisher,
  users can select one from the dropdown. When a user selects a publisher from the dropdown, the Publisher's
  website (if any) should be shown in the appropriate field in the Publisher card along with the publisher's
  founded date (as in the text field of the partial date from the API) (if any) and notes (if any).
- For the Add a New Publisher modal, the Publisher Name is required, Founded Date is optional,
  Website is optional, and Notes is optional.
- Book Series is similar to Book Authors. Series should be populated from the GET /bookseries endpoint when
  the page loads. Users can search-as-they-type to find series, and select one to add to the book.
  Once selected, the series is added to a list of selected series above the search field, and removed
  from the search results. Each series in the selected series list has a "Remove" icon/button next
  to it that removes it from the selected series list, and adds it back to the search results.
  If no series have been selected yet, show "No series selected yet." in the selected series list area. 
  If the user removes all series, show this message again.
  The series that appear in the selected series list should show their name. There should also be a spinner
  next to the series name that allows the user to set the book's number (order) in that series (see the example 
  in the html code).. If the user does not set a number, no number should be sent to the API for that series. 
  Book order in series is not required.
- For the Add a New Series modal, the Series Name is required, Series Website is optional,
  and Description is optional. Add a paragraph in the modal that explains that the series' start date and 
  end date is derived from the books in the series.
- Book Tags are not retrieved from the API. Users can enter tags in a text field, and click an "Add Tag" button
  next to it. The tag is then added to a list of tags above the field (similar to languages). Each tag in the list has a
  "Remove" icon/button next to it that removes it from the list. If no tags have been added yet,
  show "No tags added yet." in the list area. If the user removes all tags, show this message again.
  If the user attempts to click the Add Tag button without entering a tag, show an error message
  in the help text area. Tags must be unique (case-insensitive), so if the user attempts to add
  a tag that already exists in the list, show an error message in the help text area. Also validate the tag as the user
  types it, and show appropriate error messages in the help text area. if it does not meet the validation (see api\api-docs.md).
- Book Storage Locations should be populated into the Storage Location dropdown from the GET /storagelocation 
  endpoint when the page loads. If no storage locations exist yet, the dropdown should be disabled, and a message 
  "No storage locations available. Please add a new storage location." should be shown in the help text area below. 
  For the Storage Location, users can select one from the dropdown. When a user selects a storage location from the
  dropdown, the Storage Location's notes (if any) should be shown in an appropriate field in the Storage Location div in the
  Book Copy card. 
- For the Add a New Storage Location modal, the user can choose to create a new base location, or a nested location
  under an existing location. If creating a nested location, the user must select the parent location from a dropdown (populated
  from the existing locations), and then provide the new location's name as well as optional notes. If creating a base location,
  the user just provides the location's name and optional notes. The Location Name is required in both cases. Ensure that the 
  appropriate fields are shown/hidden based on whether the user is creating a base or nested location. 
- In the Cook Copy card, users can also enter an Acquisition story, date, acquired from, type, location and notes.
- Add a button to the bottom of the page (appropriate for buttons of this significance (if you look at other buttons 
  accross the site) with the text "Review and then Add Book". This will then show a modal with a summary of all the 
  information the user entered, (if validation succeeds for everything), the front-end should also do a dry-run (to POST /book) of the
  everything it plans to send to the API, and show any errors that would be returned by the API in the modal as well. 
  If the user is fine with everything, they can then click a button on the modal called "Confirm and Add Book", or a secondary
  button called "Go Back". If there are validation errors, the user should be able to go back and fix them. (Confirm and
  add book button should be disabled if there are validation errors). If the user clicks "Confirm and Add Book", the front-end
  should then send the data to the POST /book endpoint. If the request is successful, the user should be redirected to the book's
  details page. If unsuccessful, the user should be shown appropriate error messages in the modal, and be able to go back and fix
  them. 

  Note: I recommend you use seperate JS files for adding authors, book types, etc. (one per thing) as we'll be reusing the modal to add or edit these things later on.
  - Do not add a book copy condition field
  - For now assume that author roles will be sent in along with the array that sends in author IDs. The array must take in JSON objects 
  - The redirect URL is unknown at this stage, so make it something that makes sense and that is customisable. 



-->
